(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(r){if(r.ep)return;r.ep=!0;const d=l(r);fetch(r.href,d)}})();function yg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ec={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function gv(){if(vp)return Yo;vp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(s,r,d){var m=null;if(d!==void 0&&(m=""+d),r.key!==void 0&&(m=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:s,key:m,ref:r!==void 0?r:null,props:d}}return Yo.Fragment=t,Yo.jsx=l,Yo.jsxs=l,Yo}var xp;function yv(){return xp||(xp=1,ec.exports=gv()),ec.exports}var y=yv(),tc={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function vv(){if(Sp)return xe;Sp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,I={};function J(R,F,W){this.props=R,this.context=F,this.refs=I,this.updater=W||N}J.prototype.isReactComponent={},J.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},J.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function X(){}X.prototype=J.prototype;function z(R,F,W){this.props=R,this.context=F,this.refs=I,this.updater=W||N}var O=z.prototype=new X;O.constructor=z,P(O,J.prototype),O.isPureReactComponent=!0;var q=Array.isArray;function $(){}var Q={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function te(R,F,W){var ne=W.ref;return{$$typeof:i,type:R,key:F,ref:ne!==void 0?ne:null,props:W}}function he(R,F){return te(R.type,F,R.props)}function le(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function Ne(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(W){return F[W]})}var ge=/\/+/g;function Ue(R,F){return typeof R=="object"&&R!==null&&R.key!=null?Ne(""+R.key):F.toString(36)}function it(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then($,$):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function L(R,F,W,ne,ve){var _e=typeof R;(_e==="undefined"||_e==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(_e){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case i:case t:ke=!0;break;case x:return ke=R._init,L(ke(R._payload),F,W,ne,ve)}}if(ke)return ve=ve(R),ke=ne===""?"."+Ue(R,0):ne,q(ve)?(W="",ke!=null&&(W=ke.replace(ge,"$&/")+"/"),L(ve,F,W,"",function(il){return il})):ve!=null&&(le(ve)&&(ve=he(ve,W+(ve.key==null||R&&R.key===ve.key?"":(""+ve.key).replace(ge,"$&/")+"/")+ke)),F.push(ve)),1;ke=0;var pt=ne===""?".":ne+":";if(q(R))for(var $e=0;$e<R.length;$e++)ne=R[$e],_e=pt+Ue(ne,$e),ke+=L(ne,F,W,_e,ve);else if($e=b(R),typeof $e=="function")for(R=$e.call(R),$e=0;!(ne=R.next()).done;)ne=ne.value,_e=pt+Ue(ne,$e++),ke+=L(ne,F,W,_e,ve);else if(_e==="object"){if(typeof R.then=="function")return L(it(R),F,W,ne,ve);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ke}function j(R,F,W){if(R==null)return R;var ne=[],ve=0;return L(R,ne,"","",function(_e){return F.call(W,_e,ve++)}),ne}function de(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(W){(R._status===0||R._status===-1)&&(R._status=1,R._result=W)},function(W){(R._status===0||R._status===-1)&&(R._status=2,R._result=W)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var He=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},ae={map:j,forEach:function(R,F,W){j(R,function(){F.apply(this,arguments)},W)},count:function(R){var F=0;return j(R,function(){F++}),F},toArray:function(R){return j(R,function(F){return F})||[]},only:function(R){if(!le(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return xe.Activity=T,xe.Children=ae,xe.Component=J,xe.Fragment=l,xe.Profiler=r,xe.PureComponent=z,xe.StrictMode=s,xe.Suspense=v,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,xe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return Q.H.useMemoCache(R)}},xe.cache=function(R){return function(){return R.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(R,F,W){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ne=P({},R.props),ve=R.key;if(F!=null)for(_e in F.key!==void 0&&(ve=""+F.key),F)!pe.call(F,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&F.ref===void 0||(ne[_e]=F[_e]);var _e=arguments.length-2;if(_e===1)ne.children=W;else if(1<_e){for(var ke=Array(_e),pt=0;pt<_e;pt++)ke[pt]=arguments[pt+2];ne.children=ke}return te(R.type,ve,ne)},xe.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},xe.createElement=function(R,F,W){var ne,ve={},_e=null;if(F!=null)for(ne in F.key!==void 0&&(_e=""+F.key),F)pe.call(F,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ve[ne]=F[ne]);var ke=arguments.length-2;if(ke===1)ve.children=W;else if(1<ke){for(var pt=Array(ke),$e=0;$e<ke;$e++)pt[$e]=arguments[$e+2];ve.children=pt}if(R&&R.defaultProps)for(ne in ke=R.defaultProps,ke)ve[ne]===void 0&&(ve[ne]=ke[ne]);return te(R,_e,ve)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(R){return{$$typeof:g,render:R}},xe.isValidElement=le,xe.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:de}},xe.memo=function(R,F){return{$$typeof:h,type:R,compare:F===void 0?null:F}},xe.startTransition=function(R){var F=Q.T,W={};Q.T=W;try{var ne=R(),ve=Q.S;ve!==null&&ve(W,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then($,He)}catch(_e){He(_e)}finally{F!==null&&W.types!==null&&(F.types=W.types),Q.T=F}},xe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},xe.use=function(R){return Q.H.use(R)},xe.useActionState=function(R,F,W){return Q.H.useActionState(R,F,W)},xe.useCallback=function(R,F){return Q.H.useCallback(R,F)},xe.useContext=function(R){return Q.H.useContext(R)},xe.useDebugValue=function(){},xe.useDeferredValue=function(R,F){return Q.H.useDeferredValue(R,F)},xe.useEffect=function(R,F){return Q.H.useEffect(R,F)},xe.useEffectEvent=function(R){return Q.H.useEffectEvent(R)},xe.useId=function(){return Q.H.useId()},xe.useImperativeHandle=function(R,F,W){return Q.H.useImperativeHandle(R,F,W)},xe.useInsertionEffect=function(R,F){return Q.H.useInsertionEffect(R,F)},xe.useLayoutEffect=function(R,F){return Q.H.useLayoutEffect(R,F)},xe.useMemo=function(R,F){return Q.H.useMemo(R,F)},xe.useOptimistic=function(R,F){return Q.H.useOptimistic(R,F)},xe.useReducer=function(R,F,W){return Q.H.useReducer(R,F,W)},xe.useRef=function(R){return Q.H.useRef(R)},xe.useState=function(R){return Q.H.useState(R)},xe.useSyncExternalStore=function(R,F,W){return Q.H.useSyncExternalStore(R,F,W)},xe.useTransition=function(){return Q.H.useTransition()},xe.version="19.2.3",xe}var Tp;function Ac(){return Tp||(Tp=1,tc.exports=vv()),tc.exports}var K=Ac();const xv=yg(K);var nc={exports:{}},Ko={},ic={exports:{}},lc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function Sv(){return Ep||(Ep=1,(function(i){function t(L,j){var de=L.length;L.push(j);e:for(;0<de;){var He=de-1>>>1,ae=L[He];if(0<r(ae,j))L[He]=j,L[de]=ae,de=He;else break e}}function l(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var j=L[0],de=L.pop();if(de!==j){L[0]=de;e:for(var He=0,ae=L.length,R=ae>>>1;He<R;){var F=2*(He+1)-1,W=L[F],ne=F+1,ve=L[ne];if(0>r(W,de))ne<ae&&0>r(ve,W)?(L[He]=ve,L[ne]=de,He=ne):(L[He]=W,L[F]=de,He=F);else if(ne<ae&&0>r(ve,de))L[He]=ve,L[ne]=de,He=ne;else break e}}return j}function r(L,j){var de=L.sortIndex-j.sortIndex;return de!==0?de:L.id-j.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var v=[],h=[],x=1,T=null,E=3,b=!1,N=!1,P=!1,I=!1,J=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function O(L){for(var j=l(h);j!==null;){if(j.callback===null)s(h);else if(j.startTime<=L)s(h),j.sortIndex=j.expirationTime,t(v,j);else break;j=l(h)}}function q(L){if(P=!1,O(L),!N)if(l(v)!==null)N=!0,$||($=!0,Ne());else{var j=l(h);j!==null&&it(q,j.startTime-L)}}var $=!1,Q=-1,pe=5,te=-1;function he(){return I?!0:!(i.unstable_now()-te<pe)}function le(){if(I=!1,$){var L=i.unstable_now();te=L;var j=!0;try{e:{N=!1,P&&(P=!1,X(Q),Q=-1),b=!0;var de=E;try{t:{for(O(L),T=l(v);T!==null&&!(T.expirationTime>L&&he());){var He=T.callback;if(typeof He=="function"){T.callback=null,E=T.priorityLevel;var ae=He(T.expirationTime<=L);if(L=i.unstable_now(),typeof ae=="function"){T.callback=ae,O(L),j=!0;break t}T===l(v)&&s(v),O(L)}else s(v);T=l(v)}if(T!==null)j=!0;else{var R=l(h);R!==null&&it(q,R.startTime-L),j=!1}}break e}finally{T=null,E=de,b=!1}j=void 0}}finally{j?Ne():$=!1}}}var Ne;if(typeof z=="function")Ne=function(){z(le)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ue=ge.port2;ge.port1.onmessage=le,Ne=function(){Ue.postMessage(null)}}else Ne=function(){J(le,0)};function it(L,j){Q=J(function(){L(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(L){switch(E){case 1:case 2:case 3:var j=3;break;default:j=E}var de=E;E=j;try{return L()}finally{E=de}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(L,j){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var de=E;E=L;try{return j()}finally{E=de}},i.unstable_scheduleCallback=function(L,j,de){var He=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?He+de:He):de=He,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=de+ae,L={id:x++,callback:j,priorityLevel:L,startTime:de,expirationTime:ae,sortIndex:-1},de>He?(L.sortIndex=de,t(h,L),l(v)===null&&L===l(h)&&(P?(X(Q),Q=-1):P=!0,it(q,de-He))):(L.sortIndex=ae,t(v,L),N||b||(N=!0,$||($=!0,Ne()))),L},i.unstable_shouldYield=he,i.unstable_wrapCallback=function(L){var j=E;return function(){var de=E;E=j;try{return L.apply(this,arguments)}finally{E=de}}}})(lc)),lc}var _p;function Tv(){return _p||(_p=1,ic.exports=Sv()),ic.exports}var oc={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function Ev(){if(bp)return kt;bp=1;var i=Ac();function t(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(v,h,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:v,containerInfo:h,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,kt.createPortal=function(v,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return d(v,h,null,x)},kt.flushSync=function(v){var h=m.T,x=s.p;try{if(m.T=null,s.p=2,v)return v()}finally{m.T=h,s.p=x,s.d.f()}},kt.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(v,h))},kt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},kt.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var x=h.as,T=g(x,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?s.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:b}):x==="script"&&s.d.X(v,{crossOrigin:T,integrity:E,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},kt.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=g(h.as,h.crossOrigin);s.d.M(v,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(v)},kt.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,T=g(x,h.crossOrigin);s.d.L(v,x,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},kt.preloadModule=function(v,h){if(typeof v=="string")if(h){var x=g(h.as,h.crossOrigin);s.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(v)},kt.requestFormReset=function(v){s.d.r(v)},kt.unstable_batchedUpdates=function(v,h){return v(h)},kt.useFormState=function(v,h,x){return m.H.useFormState(v,h,x)},kt.useFormStatus=function(){return m.H.useHostTransitionStatus()},kt.version="19.2.3",kt}var Cp;function _v(){if(Cp)return oc.exports;Cp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),oc.exports=Ev(),oc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function bv(){if(Ap)return Ko;Ap=1;var i=Tv(),t=Ac(),l=_v();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(s(188))}function h(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,a=n;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(a=f.return,a!==null){o=a;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return v(f),e;if(p===a)return v(f),n;p=p.sibling}throw Error(s(188))}if(o.return!==a.return)o=f,a=p;else{for(var S=!1,_=f.child;_;){if(_===o){S=!0,o=f,a=p;break}if(_===a){S=!0,a=f,o=p;break}_=_.sibling}if(!S){for(_=p.child;_;){if(_===o){S=!0,o=p,a=f;break}if(_===a){S=!0,a=p,o=f;break}_=_.sibling}if(!S)throw Error(s(189))}}if(o.alternate!==a)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),z=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case J:return"Profiler";case I:return"StrictMode";case q:return"Suspense";case $:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case z:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case O:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:Ue(e.type)||"Memo";case pe:n=e._payload,e=e._init;try{return Ue(e(n))}catch{}}return null}var it=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},He=[],ae=-1;function R(e){return{current:e}}function F(e){0>ae||(e.current=He[ae],He[ae]=null,ae--)}function W(e,n){ae++,He[ae]=e.current,e.current=n}var ne=R(null),ve=R(null),_e=R(null),ke=R(null);function pt(e,n){switch(W(_e,n),W(ve,e),W(ne,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?zm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=zm(n),e=Bm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(ne),W(ne,e)}function $e(){F(ne),F(ve),F(_e)}function il(e){e.memoizedState!==null&&W(ke,e);var n=ne.current,o=Bm(n,e.type);n!==o&&(W(ve,e),W(ne,o))}function Xl(e){ve.current===e&&(F(ne),F(ve)),ke.current===e&&(F(ke),Bo._currentValue=de)}var jo,Ya;function ti(e){if(jo===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);jo=n&&n[1]||"",Ya=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+e+Ya}var $o=!1;function Wo(e,n){if(!e||$o)return"";$o=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(G){var k=G}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(G){k=G}e.call(Y.prototype)}}else{try{throw Error()}catch(G){k=G}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(G){if(G&&k&&typeof G.stack=="string")return[G.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),S=p[0],_=p[1];if(S&&_){var A=S.split(`
`),U=_.split(`
`);for(f=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(a===A.length||f===U.length)for(a=A.length-1,f=U.length-1;1<=a&&0<=f&&A[a]!==U[f];)f--;for(;1<=a&&0<=f;a--,f--)if(A[a]!==U[f]){if(a!==1||f!==1)do if(a--,f--,0>f||A[a]!==U[f]){var V=`
`+A[a].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=a&&0<=f);break}}}finally{$o=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ti(o):""}function Gc(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Wo(e.type,!1);case 11:return Wo(e.type.render,!1);case 1:return Wo(e.type,!0);case 31:return ti("Activity");default:return""}}function Ka(e){try{var n="",o=null;do n+=Gc(e,o),o=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var es=Object.prototype.hasOwnProperty,ll=i.unstable_scheduleCallback,ts=i.unstable_cancelCallback,ht=i.unstable_shouldYield,wn=i.unstable_requestPaint,gt=i.unstable_now,Ql=i.unstable_getCurrentPriorityLevel,Zl=i.unstable_ImmediatePriority,Xa=i.unstable_UserBlockingPriority,Kt=i.unstable_NormalPriority,tn=i.unstable_LowPriority,jl=i.unstable_IdlePriority,ns=i.log,is=i.unstable_setDisableYieldValue,ni=null,Rt=null;function mn(e){if(typeof ns=="function"&&is(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(ni,e)}catch{}}var Mt=Math.clz32?Math.clz32:$l,ls=Math.log,os=Math.LN2;function $l(e){return e>>>=0,e===0?32:31-(ls(e)/os|0)|0}var ii=256,ol=262144,li=4194304;function Rn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,o){var a=e.pendingLanes;if(a===0)return 0;var f=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=a&134217727;return _!==0?(a=_&~p,a!==0?f=Rn(a):(S&=_,S!==0?f=Rn(S):o||(o=_&~e,o!==0&&(f=Rn(o))))):(_=a&~p,_!==0?f=Rn(_):S!==0?f=Rn(S):o||(o=a&~e,o!==0&&(f=Rn(o)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,o=n&-n,p>=o||p===32&&(o&4194048)!==0)?n:f}function Pi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ss(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function be(){var e=li;return li<<=1,(li&62914560)===0&&(li=4194304),e}function et(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function It(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qa(e,n,o,a,f,p){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,U=e.hiddenUpdates;for(o=S&~o;0<o;){var V=31-Mt(o),Y=1<<V;_[V]=0,A[V]=-1;var k=U[V];if(k!==null)for(U[V]=null,V=0;V<k.length;V++){var G=k[V];G!==null&&(G.lane&=-536870913)}o&=~Y}a!==0&&as(e,a,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function as(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-Mt(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|o&261930}function rs(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var a=31-Mt(o),f=1<<a;f&n|e[a]&n&&(e[a]|=n),o&=~f}}function us(e,n){var o=n&-n;return o=(o&42)!==0?1:Wl(o),(o&(e.suspendedLanes|n))!==0?0:o}function Wl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function si(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eo(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:dp(e.type))}function cs(e,n){var o=j.p;try{return j.p=e,n()}finally{j.p=o}}var yt=Math.random().toString(36).slice(2),at="__reactFiber$"+yt,Tt="__reactProps$"+yt,Mn="__reactContainer$"+yt,sl="__reactEvents$"+yt,ds="__reactListeners$"+yt,fs="__reactHandles$"+yt,to="__reactResources$"+yt,ai="__reactMarker$"+yt;function al(e){delete e[at],delete e[Tt],delete e[sl],delete e[ds],delete e[fs]}function In(e){var n=e[at];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Mn]||o[at]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Qm(e);e!==null;){if(o=e[at])return o;e=Qm(e)}return n}e=o,o=e.parentNode}return null}function Dn(e){if(e=e[at]||e[Mn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ri(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Un(e){var n=e[to];return n||(n=e[to]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(e){e[ai]=!0}var no=new Set,io={};function C(e,n){ue(e,n),ue(e+"Capture",n)}function ue(e,n){for(io[e]=n,e=0;e<n.length;e++)no.add(n[e])}var De=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Te={},We={};function Et(e){return es.call(We,e)?!0:es.call(Te,e)?!1:De.test(e)?We[e]=!0:(Te[e]=!0,!1)}function _t(e,n,o){if(Et(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Tn(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Pt(e,n,o,a){if(a===null)e.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+a)}}function vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ui(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Me(e,n,o){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function H(e){if(!e._valueTracker){var n=ui(e)?"checked":"value";e._valueTracker=Me(e,n,""+e[n])}}function re(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return e&&(a=ui(e)?e.checked?"true":"false":e.value),e=a,e!==o?(n.setValue(e),!0):!1}function fe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ke=/[\n"\\]/g;function Ve(e){return e.replace(Ke,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Dt(e,n,o,a,f,p,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+vt(n)):e.value!==""+vt(n)&&(e.value=""+vt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?En(e,S,vt(n)):o!=null?En(e,S,vt(o)):a!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+vt(_):e.removeAttribute("name")}function Gt(e,n,o,a,f,p,S,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){H(e);return}o=o!=null?""+vt(o):"",n=n!=null?""+vt(n):o,_||n===e.value||(e.value=n),e.defaultValue=n}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=_?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),H(e)}function En(e,n,o){n==="number"&&fe(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function bt(e,n,o,a){if(e=e.options,n){n={};for(var f=0;f<o.length;f++)n["$"+o[f]]=!0;for(o=0;o<e.length;o++)f=n.hasOwnProperty("$"+e[o].value),e[o].selected!==f&&(e[o].selected=f),f&&a&&(e[o].defaultSelected=!0)}else{for(o=""+vt(o),n=null,f=0;f<e.length;f++){if(e[f].value===o){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Ut(e,n,o){if(n!=null&&(n=""+vt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+vt(o):""}function Gi(e,n,o,a){if(n==null){if(a!=null){if(o!=null)throw Error(s(92));if(it(a)){if(1<a.length)throw Error(s(93));a=a[0]}o=a}o==null&&(o=""),n=o}o=vt(n),e.defaultValue=o,a=e.textContent,a===o&&a!==""&&a!==null&&(e.value=a),H(e)}function pn(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Ze=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ci(e,n,o){var a=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,o):typeof o!="number"||o===0||Ze.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Hc(e,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,o!=null){for(var a in o)!o.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in n)a=n[f],n.hasOwnProperty(f)&&o[f]!==a&&ci(e,f,a)}else for(var p in n)n.hasOwnProperty(p)&&ci(e,p,n[p])}function Za(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ms(e){return m0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var ja=null;function $a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,ul=null;function qc(e){var n=Dn(e);if(n&&(e=n.stateNode)){var o=e[Tt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Dt(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ve(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==e&&a.form===e.form){var f=a[Tt]||null;if(!f)throw Error(s(90));Dt(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<o.length;n++)a=o[n],a.form===e.form&&re(a)}break e;case"textarea":Ut(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&bt(e,!!o.multiple,n,!1)}}}var Wa=!1;function Vc(e,n,o){if(Wa)return e(n,o);Wa=!0;try{var a=e(n);return a}finally{if(Wa=!1,(rl!==null||ul!==null)&&(ea(),rl&&(n=rl,e=ul,ul=rl=null,qc(n),e)))for(n=0;n<e.length;n++)qc(e[n])}}function lo(e,n){var o=e.stateNode;if(o===null)return null;var a=o[Tt]||null;if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(Ln)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){er=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{er=!1}var di=null,tr=null,ps=null;function zc(){if(ps)return ps;var e,n=tr,o=n.length,a,f="value"in di?di.value:di.textContent,p=f.length;for(e=0;e<o&&n[e]===f[e];e++);var S=o-e;for(a=1;a<=S&&n[o-a]===f[p-a];a++);return ps=f.slice(e,1<a?1-a:void 0)}function hs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gs(){return!0}function Bc(){return!1}function zt(e){function n(o,a,f,p,S){this._reactName=o,this._targetInst=f,this.type=a,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(o=e[_],this[_]=o?o(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?gs:Bc,this.isPropagationStopped=Bc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=zt(Hi),so=T({},Hi,{view:0,detail:0}),p0=zt(so),nr,ir,ao,vs=T({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ao&&(ao&&e.type==="mousemove"?(nr=e.screenX-ao.screenX,ir=e.screenY-ao.screenY):ir=nr=0,ao=e),nr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),Oc=zt(vs),h0=T({},vs,{dataTransfer:0}),g0=zt(h0),y0=T({},so,{relatedTarget:0}),lr=zt(y0),v0=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=zt(v0),S0=T({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T0=zt(S0),E0=T({},Hi,{data:0}),Jc=zt(E0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=C0[e])?!!n[e]:!1}function or(){return A0}var N0=T({},so,{key:function(e){if(e.key){var n=_0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w0=zt(N0),R0=T({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fc=zt(R0),M0=T({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),I0=zt(M0),D0=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),U0=zt(D0),k0=T({},vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L0=zt(k0),P0=T({},Hi,{newState:0,oldState:0}),G0=zt(P0),H0=[9,13,27,32],sr=Ln&&"CompositionEvent"in window,ro=null;Ln&&"documentMode"in document&&(ro=document.documentMode);var q0=Ln&&"TextEvent"in window&&!ro,Yc=Ln&&(!sr||ro&&8<ro&&11>=ro),Kc=" ",Xc=!1;function Qc(e,n){switch(e){case"keyup":return H0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cl=!1;function V0(e,n){switch(e){case"compositionend":return Zc(n);case"keypress":return n.which!==32?null:(Xc=!0,Kc);case"textInput":return e=n.data,e===Kc&&Xc?null:e;default:return null}}function z0(e,n){if(cl)return e==="compositionend"||!sr&&Qc(e,n)?(e=zc(),ps=tr=di=null,cl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Yc&&n.locale!=="ko"?null:n.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!B0[e.type]:n==="textarea"}function $c(e,n,o,a){rl?ul?ul.push(a):ul=[a]:rl=a,n=aa(n,"onChange"),0<n.length&&(o=new ys("onChange","change",null,o,a),e.push({event:o,listeners:n}))}var uo=null,co=null;function O0(e){Lm(e,0)}function xs(e){var n=ri(e);if(re(n))return e}function Wc(e,n){if(e==="change")return n}var ed=!1;if(Ln){var ar;if(Ln){var rr="oninput"in document;if(!rr){var td=document.createElement("div");td.setAttribute("oninput","return;"),rr=typeof td.oninput=="function"}ar=rr}else ar=!1;ed=ar&&(!document.documentMode||9<document.documentMode)}function nd(){uo&&(uo.detachEvent("onpropertychange",id),co=uo=null)}function id(e){if(e.propertyName==="value"&&xs(co)){var n=[];$c(n,co,e,$a(e)),Vc(O0,n)}}function J0(e,n,o){e==="focusin"?(nd(),uo=n,co=o,uo.attachEvent("onpropertychange",id)):e==="focusout"&&nd()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xs(co)}function Y0(e,n){if(e==="click")return xs(n)}function K0(e,n){if(e==="input"||e==="change")return xs(n)}function X0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Xt=typeof Object.is=="function"?Object.is:X0;function fo(e,n){if(Xt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var f=o[a];if(!es.call(n,f)||!Xt(e[f],n[f]))return!1}return!0}function ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,n){var o=ld(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=n&&a>=n)return{node:o,offset:n-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ld(o)}}function sd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?sd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ad(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fe(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=fe(e.document)}return n}function ur(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Q0=Ln&&"documentMode"in document&&11>=document.documentMode,dl=null,cr=null,mo=null,dr=!1;function rd(e,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dr||dl==null||dl!==fe(a)||(a=dl,"selectionStart"in a&&ur(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),mo&&fo(mo,a)||(mo=a,a=aa(cr,"onSelect"),0<a.length&&(n=new ys("onSelect","select",null,n,o),e.push({event:n,listeners:a}),n.target=dl)))}function qi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var fl={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionrun:qi("Transition","TransitionRun"),transitionstart:qi("Transition","TransitionStart"),transitioncancel:qi("Transition","TransitionCancel"),transitionend:qi("Transition","TransitionEnd")},fr={},ud={};Ln&&(ud=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function Vi(e){if(fr[e])return fr[e];if(!fl[e])return e;var n=fl[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in ud)return fr[e]=n[o];return e}var cd=Vi("animationend"),dd=Vi("animationiteration"),fd=Vi("animationstart"),Z0=Vi("transitionrun"),j0=Vi("transitionstart"),$0=Vi("transitioncancel"),md=Vi("transitionend"),pd=new Map,mr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mr.push("scrollEnd");function hn(e,n){pd.set(e,n),C(n,[e])}var Ss=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],ml=0,pr=0;function Ts(){for(var e=ml,n=pr=ml=0;n<e;){var o=nn[n];nn[n++]=null;var a=nn[n];nn[n++]=null;var f=nn[n];nn[n++]=null;var p=nn[n];if(nn[n++]=null,a!==null&&f!==null){var S=a.pending;S===null?f.next=f:(f.next=S.next,S.next=f),a.pending=f}p!==0&&hd(o,f,p)}}function Es(e,n,o,a){nn[ml++]=e,nn[ml++]=n,nn[ml++]=o,nn[ml++]=a,pr|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function hr(e,n,o,a){return Es(e,n,o,a),_s(e)}function zi(e,n){return Es(e,null,null,n),_s(e)}function hd(e,n,o){e.lanes|=o;var a=e.alternate;a!==null&&(a.lanes|=o);for(var f=!1,p=e.return;p!==null;)p.childLanes|=o,a=p.alternate,a!==null&&(a.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-Mt(o),e=p.hiddenUpdates,a=e[f],a===null?e[f]=[n]:a.push(n),n.lane=o|536870912),p):null}function _s(e){if(50<Lo)throw Lo=0,bu=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pl={};function W0(e,n,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,n,o,a){return new W0(e,n,o,a)}function gr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pn(e,n){var o=e.alternate;return o===null?(o=Qt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function gd(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bs(e,n,o,a,f,p){var S=0;if(a=e,typeof e=="function")gr(e)&&(S=1);else if(typeof e=="string")S=lv(e,o,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Qt(31,o,n,f),e.elementType=te,e.lanes=p,e;case P:return Bi(o.children,f,p,n);case I:S=8,f|=24;break;case J:return e=Qt(12,o,n,f|2),e.elementType=J,e.lanes=p,e;case q:return e=Qt(13,o,n,f),e.elementType=q,e.lanes=p,e;case $:return e=Qt(19,o,n,f),e.elementType=$,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:S=10;break e;case X:S=9;break e;case O:S=11;break e;case Q:S=14;break e;case pe:S=16,a=null;break e}S=29,o=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=Qt(S,o,n,f),n.elementType=e,n.type=a,n.lanes=p,n}function Bi(e,n,o,a){return e=Qt(7,e,a,n),e.lanes=o,e}function yr(e,n,o){return e=Qt(6,e,null,n),e.lanes=o,e}function yd(e){var n=Qt(18,null,null,0);return n.stateNode=e,n}function vr(e,n,o){return n=Qt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vd=new WeakMap;function ln(e,n){if(typeof e=="object"&&e!==null){var o=vd.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Ka(n)},vd.set(e,n),n)}return{value:e,source:n,stack:Ka(n)}}var hl=[],gl=0,Cs=null,po=0,on=[],sn=0,fi=null,_n=1,bn="";function Gn(e,n){hl[gl++]=po,hl[gl++]=Cs,Cs=e,po=n}function xd(e,n,o){on[sn++]=_n,on[sn++]=bn,on[sn++]=fi,fi=e;var a=_n;e=bn;var f=32-Mt(a)-1;a&=~(1<<f),o+=1;var p=32-Mt(n)+f;if(30<p){var S=f-f%5;p=(a&(1<<S)-1).toString(32),a>>=S,f-=S,_n=1<<32-Mt(n)+f|o<<f|a,bn=p+e}else _n=1<<p|o<<f|a,bn=e}function xr(e){e.return!==null&&(Gn(e,1),xd(e,1,0))}function Sr(e){for(;e===Cs;)Cs=hl[--gl],hl[gl]=null,po=hl[--gl],hl[gl]=null;for(;e===fi;)fi=on[--sn],on[sn]=null,bn=on[--sn],on[sn]=null,_n=on[--sn],on[sn]=null}function Sd(e,n){on[sn++]=_n,on[sn++]=bn,on[sn++]=fi,_n=n.id,bn=n.overflow,fi=e}var Ct=null,Xe=null,Ie=!1,mi=null,an=!1,Tr=Error(s(519));function pi(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ho(ln(n,e)),Tr}function Td(e){var n=e.stateNode,o=e.type,a=e.memoizedProps;switch(n[at]=e,n[Tt]=a,o){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(o=0;o<Go.length;o++)Ae(Go[o],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ae("invalid",n),Gt(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ae("invalid",n);break;case"textarea":Ae("invalid",n),Gi(n,a.value,a.defaultValue,a.children)}o=a.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||a.suppressHydrationWarning===!0||qm(n.textContent,o)?(a.popover!=null&&(Ae("beforetoggle",n),Ae("toggle",n)),a.onScroll!=null&&Ae("scroll",n),a.onScrollEnd!=null&&Ae("scrollend",n),a.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||pi(e,!0)}function Ed(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:Ct=Ct.return}}function yl(e){if(e!==Ct)return!1;if(!Ie)return Ed(e),Ie=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||qu(e.type,e.memoizedProps)),o=!o),o&&Xe&&pi(e),Ed(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xe=Xm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xe=Xm(e)}else n===27?(n=Xe,wi(e.type)?(e=Ju,Ju=null,Xe=e):Xe=n):Xe=Ct?un(e.stateNode.nextSibling):null;return!0}function Oi(){Xe=Ct=null,Ie=!1}function Er(){var e=mi;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),mi=null),e}function ho(e){mi===null?mi=[e]:mi.push(e)}var _r=R(null),Ji=null,Hn=null;function hi(e,n,o){W(_r,n._currentValue),n._currentValue=o}function qn(e){e._currentValue=_r.current,F(_r)}function br(e,n,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===o)break;e=e.return}}function Cr(e,n,o,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=f;for(var A=0;A<n.length;A++)if(_.context===n[A]){p.lanes|=o,_=p.alternate,_!==null&&(_.lanes|=o),br(p.return,o,e),a||(S=null);break e}p=_.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(s(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),br(S,o,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function vl(e,n,o,a){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var _=f.type;Xt(f.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(f===ke.current){if(S=f.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Bo):e=[Bo])}f=f.return}e!==null&&Cr(n,e,o,a),n.flags|=262144}function As(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fi(e){Ji=e,Hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return _d(Ji,e)}function Ns(e,n){return Ji===null&&Fi(e),_d(e,n)}function _d(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Hn===null){if(e===null)throw Error(s(308));Hn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Hn=Hn.next=n;return o}var ey=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},ty=i.unstable_scheduleCallback,ny=i.unstable_NormalPriority,rt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ar(){return{controller:new ey,data:new Map,refCount:0}}function go(e){e.refCount--,e.refCount===0&&ty(ny,function(){e.controller.abort()})}var yo=null,Nr=0,xl=0,Sl=null;function iy(e,n){if(yo===null){var o=yo=[];Nr=0,xl=Mu(),Sl={status:"pending",value:void 0,then:function(a){o.push(a)}}}return Nr++,n.then(bd,bd),n}function bd(){if(--Nr===0&&yo!==null){Sl!==null&&(Sl.status="fulfilled");var e=yo;yo=null,xl=0,Sl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ly(e,n){var o=[],a={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var f=0;f<o.length;f++)(0,o[f])(n)},function(f){for(a.status="rejected",a.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),a}var Cd=L.S;L.S=function(e,n){um=gt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&iy(e,n),Cd!==null&&Cd(e,n)};var Yi=R(null);function wr(){var e=Yi.current;return e!==null?e:Ye.pooledCache}function ws(e,n){n===null?W(Yi,Yi.current):W(Yi,n.pool)}function Ad(){var e=wr();return e===null?null:{parent:rt._currentValue,pool:e}}var Tl=Error(s(460)),Rr=Error(s(474)),Rs=Error(s(542)),Ms={then:function(){}};function Nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wd(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(kn,kn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Md(e),e;default:if(typeof n.status=="string")n.then(kn,kn);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=a}},function(a){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Md(e),e}throw Xi=n,Tl}}function Ki(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xi=o,Tl):o}}var Xi=null;function Rd(){if(Xi===null)throw Error(s(459));var e=Xi;return Xi=null,e}function Md(e){if(e===Tl||e===Rs)throw Error(s(483))}var El=null,vo=0;function Is(e){var n=vo;return vo+=1,El===null&&(El=[]),wd(El,e,n)}function xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ds(e,n){throw n.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Id(e){function n(M,w){if(e){var D=M.deletions;D===null?(M.deletions=[w],M.flags|=16):D.push(w)}}function o(M,w){if(!e)return null;for(;w!==null;)n(M,w),w=w.sibling;return null}function a(M){for(var w=new Map;M!==null;)M.key!==null?w.set(M.key,M):w.set(M.index,M),M=M.sibling;return w}function f(M,w){return M=Pn(M,w),M.index=0,M.sibling=null,M}function p(M,w,D){return M.index=D,e?(D=M.alternate,D!==null?(D=D.index,D<w?(M.flags|=67108866,w):D):(M.flags|=67108866,w)):(M.flags|=1048576,w)}function S(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function _(M,w,D,B){return w===null||w.tag!==6?(w=yr(D,M.mode,B),w.return=M,w):(w=f(w,D),w.return=M,w)}function A(M,w,D,B){var ce=D.type;return ce===P?V(M,w,D.props.children,B,D.key):w!==null&&(w.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===pe&&Ki(ce)===w.type)?(w=f(w,D.props),xo(w,D),w.return=M,w):(w=bs(D.type,D.key,D.props,null,M.mode,B),xo(w,D),w.return=M,w)}function U(M,w,D,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==D.containerInfo||w.stateNode.implementation!==D.implementation?(w=vr(D,M.mode,B),w.return=M,w):(w=f(w,D.children||[]),w.return=M,w)}function V(M,w,D,B,ce){return w===null||w.tag!==7?(w=Bi(D,M.mode,B,ce),w.return=M,w):(w=f(w,D),w.return=M,w)}function Y(M,w,D){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=yr(""+w,M.mode,D),w.return=M,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case b:return D=bs(w.type,w.key,w.props,null,M.mode,D),xo(D,w),D.return=M,D;case N:return w=vr(w,M.mode,D),w.return=M,w;case pe:return w=Ki(w),Y(M,w,D)}if(it(w)||Ne(w))return w=Bi(w,M.mode,D,null),w.return=M,w;if(typeof w.then=="function")return Y(M,Is(w),D);if(w.$$typeof===z)return Y(M,Ns(M,w),D);Ds(M,w)}return null}function k(M,w,D,B){var ce=w!==null?w.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return ce!==null?null:_(M,w,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return D.key===ce?A(M,w,D,B):null;case N:return D.key===ce?U(M,w,D,B):null;case pe:return D=Ki(D),k(M,w,D,B)}if(it(D)||Ne(D))return ce!==null?null:V(M,w,D,B,null);if(typeof D.then=="function")return k(M,w,Is(D),B);if(D.$$typeof===z)return k(M,w,Ns(M,D),B);Ds(M,D)}return null}function G(M,w,D,B,ce){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return M=M.get(D)||null,_(w,M,""+B,ce);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return M=M.get(B.key===null?D:B.key)||null,A(w,M,B,ce);case N:return M=M.get(B.key===null?D:B.key)||null,U(w,M,B,ce);case pe:return B=Ki(B),G(M,w,D,B,ce)}if(it(B)||Ne(B))return M=M.get(D)||null,V(w,M,B,ce,null);if(typeof B.then=="function")return G(M,w,D,Is(B),ce);if(B.$$typeof===z)return G(M,w,D,Ns(w,B),ce);Ds(w,B)}return null}function ie(M,w,D,B){for(var ce=null,Le=null,oe=w,Ee=w=0,Re=null;oe!==null&&Ee<D.length;Ee++){oe.index>Ee?(Re=oe,oe=null):Re=oe.sibling;var Pe=k(M,oe,D[Ee],B);if(Pe===null){oe===null&&(oe=Re);break}e&&oe&&Pe.alternate===null&&n(M,oe),w=p(Pe,w,Ee),Le===null?ce=Pe:Le.sibling=Pe,Le=Pe,oe=Re}if(Ee===D.length)return o(M,oe),Ie&&Gn(M,Ee),ce;if(oe===null){for(;Ee<D.length;Ee++)oe=Y(M,D[Ee],B),oe!==null&&(w=p(oe,w,Ee),Le===null?ce=oe:Le.sibling=oe,Le=oe);return Ie&&Gn(M,Ee),ce}for(oe=a(oe);Ee<D.length;Ee++)Re=G(oe,M,Ee,D[Ee],B),Re!==null&&(e&&Re.alternate!==null&&oe.delete(Re.key===null?Ee:Re.key),w=p(Re,w,Ee),Le===null?ce=Re:Le.sibling=Re,Le=Re);return e&&oe.forEach(function(Ui){return n(M,Ui)}),Ie&&Gn(M,Ee),ce}function me(M,w,D,B){if(D==null)throw Error(s(151));for(var ce=null,Le=null,oe=w,Ee=w=0,Re=null,Pe=D.next();oe!==null&&!Pe.done;Ee++,Pe=D.next()){oe.index>Ee?(Re=oe,oe=null):Re=oe.sibling;var Ui=k(M,oe,Pe.value,B);if(Ui===null){oe===null&&(oe=Re);break}e&&oe&&Ui.alternate===null&&n(M,oe),w=p(Ui,w,Ee),Le===null?ce=Ui:Le.sibling=Ui,Le=Ui,oe=Re}if(Pe.done)return o(M,oe),Ie&&Gn(M,Ee),ce;if(oe===null){for(;!Pe.done;Ee++,Pe=D.next())Pe=Y(M,Pe.value,B),Pe!==null&&(w=p(Pe,w,Ee),Le===null?ce=Pe:Le.sibling=Pe,Le=Pe);return Ie&&Gn(M,Ee),ce}for(oe=a(oe);!Pe.done;Ee++,Pe=D.next())Pe=G(oe,M,Ee,Pe.value,B),Pe!==null&&(e&&Pe.alternate!==null&&oe.delete(Pe.key===null?Ee:Pe.key),w=p(Pe,w,Ee),Le===null?ce=Pe:Le.sibling=Pe,Le=Pe);return e&&oe.forEach(function(hv){return n(M,hv)}),Ie&&Gn(M,Ee),ce}function Fe(M,w,D,B){if(typeof D=="object"&&D!==null&&D.type===P&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case b:e:{for(var ce=D.key;w!==null;){if(w.key===ce){if(ce=D.type,ce===P){if(w.tag===7){o(M,w.sibling),B=f(w,D.props.children),B.return=M,M=B;break e}}else if(w.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===pe&&Ki(ce)===w.type){o(M,w.sibling),B=f(w,D.props),xo(B,D),B.return=M,M=B;break e}o(M,w);break}else n(M,w);w=w.sibling}D.type===P?(B=Bi(D.props.children,M.mode,B,D.key),B.return=M,M=B):(B=bs(D.type,D.key,D.props,null,M.mode,B),xo(B,D),B.return=M,M=B)}return S(M);case N:e:{for(ce=D.key;w!==null;){if(w.key===ce)if(w.tag===4&&w.stateNode.containerInfo===D.containerInfo&&w.stateNode.implementation===D.implementation){o(M,w.sibling),B=f(w,D.children||[]),B.return=M,M=B;break e}else{o(M,w);break}else n(M,w);w=w.sibling}B=vr(D,M.mode,B),B.return=M,M=B}return S(M);case pe:return D=Ki(D),Fe(M,w,D,B)}if(it(D))return ie(M,w,D,B);if(Ne(D)){if(ce=Ne(D),typeof ce!="function")throw Error(s(150));return D=ce.call(D),me(M,w,D,B)}if(typeof D.then=="function")return Fe(M,w,Is(D),B);if(D.$$typeof===z)return Fe(M,w,Ns(M,D),B);Ds(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,w!==null&&w.tag===6?(o(M,w.sibling),B=f(w,D),B.return=M,M=B):(o(M,w),B=yr(D,M.mode,B),B.return=M,M=B),S(M)):o(M,w)}return function(M,w,D,B){try{vo=0;var ce=Fe(M,w,D,B);return El=null,ce}catch(oe){if(oe===Tl||oe===Rs)throw oe;var Le=Qt(29,oe,null,M.mode);return Le.lanes=B,Le.return=M,Le}finally{}}}var Qi=Id(!0),Dd=Id(!1),gi=!1;function Mr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vi(e,n,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(qe&2)!==0){var f=a.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),a.pending=n,n=_s(e),hd(e,null,o),n}return Es(e,a,n,o),_s(e)}function So(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,rs(e,o)}}function Dr(e,n){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?f=p=n:p=p.next=n}else f=p=n;o={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Ur=!1;function To(){if(Ur){var e=Sl;if(e!==null)throw e}}function Eo(e,n,o,a){Ur=!1;var f=e.updateQueue;gi=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var A=_,U=A.next;A.next=null,S===null?p=U:S.next=U,S=A;var V=e.alternate;V!==null&&(V=V.updateQueue,_=V.lastBaseUpdate,_!==S&&(_===null?V.firstBaseUpdate=U:_.next=U,V.lastBaseUpdate=A))}if(p!==null){var Y=f.baseState;S=0,V=U=A=null,_=p;do{var k=_.lane&-536870913,G=k!==_.lane;if(G?(we&k)===k:(a&k)===k){k!==0&&k===xl&&(Ur=!0),V!==null&&(V=V.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ie=e,me=_;k=n;var Fe=o;switch(me.tag){case 1:if(ie=me.payload,typeof ie=="function"){Y=ie.call(Fe,Y,k);break e}Y=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=me.payload,k=typeof ie=="function"?ie.call(Fe,Y,k):ie,k==null)break e;Y=T({},Y,k);break e;case 2:gi=!0}}k=_.callback,k!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[k]:G.push(k))}else G={lane:k,tag:_.tag,payload:_.payload,callback:_.callback,next:null},V===null?(U=V=G,A=Y):V=V.next=G,S|=k;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;G=_,_=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);V===null&&(A=Y),f.baseState=A,f.firstBaseUpdate=U,f.lastBaseUpdate=V,p===null&&(f.shared.lanes=0),_i|=S,e.lanes=S,e.memoizedState=Y}}function Ud(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function kd(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Ud(o[e],n)}var _l=R(null),Us=R(0);function Ld(e,n){e=Xn,W(Us,e),W(_l,n),Xn=e|n.baseLanes}function kr(){W(Us,Xn),W(_l,_l.current)}function Lr(){Xn=Us.current,F(_l),F(Us)}var Zt=R(null),rn=null;function xi(e){var n=e.alternate;W(ot,ot.current&1),W(Zt,e),rn===null&&(n===null||_l.current!==null||n.memoizedState!==null)&&(rn=e)}function Pr(e){W(ot,ot.current),W(Zt,e),rn===null&&(rn=e)}function Pd(e){e.tag===22?(W(ot,ot.current),W(Zt,e),rn===null&&(rn=e)):Si()}function Si(){W(ot,ot.current),W(Zt,Zt.current)}function jt(e){F(Zt),rn===e&&(rn=null),F(ot)}var ot=R(0);function ks(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Bu(o)||Ou(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vn=0,Se=null,Oe=null,ut=null,Ls=!1,bl=!1,Zi=!1,Ps=0,_o=0,Cl=null,oy=0;function tt(){throw Error(s(321))}function Gr(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Xt(e[o],n[o]))return!1;return!0}function Hr(e,n,o,a,f,p){return Vn=p,Se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,L.H=e===null||e.memoizedState===null?Sf:Wr,Zi=!1,p=o(a,f),Zi=!1,bl&&(p=Hd(n,o,a,f)),Gd(e),p}function Gd(e){L.H=Ao;var n=Oe!==null&&Oe.next!==null;if(Vn=0,ut=Oe=Se=null,Ls=!1,_o=0,Cl=null,n)throw Error(s(300));e===null||ct||(e=e.dependencies,e!==null&&As(e)&&(ct=!0))}function Hd(e,n,o,a){Se=e;var f=0;do{if(bl&&(Cl=null),_o=0,bl=!1,25<=f)throw Error(s(301));if(f+=1,ut=Oe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=Tf,p=n(o,a)}while(bl);return p}function sy(){var e=L.H,n=e.useState()[0];return n=typeof n.then=="function"?bo(n):n,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(Se.flags|=1024),n}function qr(){var e=Ps!==0;return Ps=0,e}function Vr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function zr(e){if(Ls){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ls=!1}Vn=0,ut=Oe=Se=null,bl=!1,_o=Ps=0,Cl=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Se.memoizedState=ut=e:ut=ut.next=e,ut}function st(){if(Oe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var n=ut===null?Se.memoizedState:ut.next;if(n!==null)ut=n,Oe=e;else{if(e===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},ut===null?Se.memoizedState=ut=e:ut=ut.next=e}return ut}function Gs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(e){var n=_o;return _o+=1,Cl===null&&(Cl=[]),e=wd(Cl,e,n),n=Se,(ut===null?n.memoizedState:ut.next)===null&&(n=n.alternate,L.H=n===null||n.memoizedState===null?Sf:Wr),e}function Hs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bo(e);if(e.$$typeof===z)return At(e)}throw Error(s(438,String(e)))}function Br(e){var n=null,o=Se.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var a=Se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Gs(),Se.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),a=0;a<e;a++)o[a]=he;return n.index++,o}function zn(e,n){return typeof n=="function"?n(e):n}function qs(e){var n=st();return Or(n,Oe,e)}function Or(e,n,o){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=o;var f=e.baseQueue,p=a.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}n.baseQueue=f=p,a.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var _=S=null,A=null,U=n,V=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(we&Y)===Y:(Vn&Y)===Y){var k=U.revertLane;if(k===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===xl&&(V=!0);else if((Vn&k)===k){U=U.next,k===xl&&(V=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(_=A=Y,S=p):A=A.next=Y,Se.lanes|=k,_i|=k;Y=U.action,Zi&&o(p,Y),p=U.hasEagerState?U.eagerState:o(p,Y)}else k={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},A===null?(_=A=k,S=p):A=A.next=k,Se.lanes|=Y,_i|=Y;U=U.next}while(U!==null&&U!==n);if(A===null?S=p:A.next=_,!Xt(p,e.memoizedState)&&(ct=!0,V&&(o=Sl,o!==null)))throw o;e.memoizedState=p,e.baseState=S,e.baseQueue=A,a.lastRenderedState=p}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Jr(e){var n=st(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var a=o.dispatch,f=o.pending,p=n.memoizedState;if(f!==null){o.pending=null;var S=f=f.next;do p=e(p,S.action),S=S.next;while(S!==f);Xt(p,n.memoizedState)||(ct=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,a]}function qd(e,n,o){var a=Se,f=st(),p=Ie;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=n();var S=!Xt((Oe||f).memoizedState,o);if(S&&(f.memoizedState=o,ct=!0),f=f.queue,Kr(Bd.bind(null,a,f,e),[e]),f.getSnapshot!==n||S||ut!==null&&ut.memoizedState.tag&1){if(a.flags|=2048,Al(9,{destroy:void 0},zd.bind(null,a,f,o,n),null),Ye===null)throw Error(s(349));p||(Vn&127)!==0||Vd(a,n,o)}return o}function Vd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Se.updateQueue,n===null?(n=Gs(),Se.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function zd(e,n,o,a){n.value=o,n.getSnapshot=a,Od(n)&&Jd(e)}function Bd(e,n,o){return o(function(){Od(n)&&Jd(e)})}function Od(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Xt(e,o)}catch{return!0}}function Jd(e){var n=zi(e,2);n!==null&&Yt(n,e,2)}function Fr(e){var n=Ht();if(typeof e=="function"){var o=e;if(e=o(),Zi){mn(!0);try{o()}finally{mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},n}function Fd(e,n,o,a){return e.baseState=o,Or(e,Oe,typeof a=="function"?a:zn)}function ay(e,n,o,a,f){if(Bs(e))throw Error(s(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};L.T!==null?o(!0):p.isTransition=!1,a(p),o=n.pending,o===null?(p.next=n.pending=p,Yd(n,p)):(p.next=o.next,n.pending=o.next=p)}}function Yd(e,n){var o=n.action,a=n.payload,f=e.state;if(n.isTransition){var p=L.T,S={};L.T=S;try{var _=o(f,a),A=L.S;A!==null&&A(S,_),Kd(e,n,_)}catch(U){Yr(e,n,U)}finally{p!==null&&S.types!==null&&(p.types=S.types),L.T=p}}else try{p=o(f,a),Kd(e,n,p)}catch(U){Yr(e,n,U)}}function Kd(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(a){Xd(e,n,a)},function(a){return Yr(e,n,a)}):Xd(e,n,o)}function Xd(e,n,o){n.status="fulfilled",n.value=o,Qd(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Yd(e,o)))}function Yr(e,n,o){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=o,Qd(n),n=n.next;while(n!==a)}e.action=null}function Qd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zd(e,n){return n}function jd(e,n){if(Ie){var o=Ye.formState;if(o!==null){e:{var a=Se;if(Ie){if(Xe){t:{for(var f=Xe,p=an;f.nodeType!==8;){if(!p){f=null;break t}if(f=un(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Xe=un(f.nextSibling),a=f.data==="F!";break e}}pi(a)}a=!1}a&&(n=o[0])}}return o=Ht(),o.memoizedState=o.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:n},o.queue=a,o=yf.bind(null,Se,a),a.dispatch=o,a=Fr(!1),p=$r.bind(null,Se,!1,a.queue),a=Ht(),f={state:n,dispatch:null,action:e,pending:null},a.queue=f,o=ay.bind(null,Se,f,p,o),f.dispatch=o,a.memoizedState=e,[n,o,!1]}function $d(e){var n=st();return Wd(n,Oe,e)}function Wd(e,n,o){if(n=Or(e,n,Zd)[0],e=qs(zn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=bo(n)}catch(S){throw S===Tl?Rs:S}else a=n;n=st();var f=n.queue,p=f.dispatch;return o!==n.memoizedState&&(Se.flags|=2048,Al(9,{destroy:void 0},ry.bind(null,f,o),null)),[a,p,e]}function ry(e,n){e.action=n}function ef(e){var n=st(),o=Oe;if(o!==null)return Wd(n,o,e);st(),n=n.memoizedState,o=st();var a=o.queue.dispatch;return o.memoizedState=e,[n,a,!1]}function Al(e,n,o,a){return e={tag:e,create:o,deps:a,inst:n,next:null},n=Se.updateQueue,n===null&&(n=Gs(),Se.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,n.lastEffect=e),e}function tf(){return st().memoizedState}function Vs(e,n,o,a){var f=Ht();Se.flags|=e,f.memoizedState=Al(1|n,{destroy:void 0},o,a===void 0?null:a)}function zs(e,n,o,a){var f=st();a=a===void 0?null:a;var p=f.memoizedState.inst;Oe!==null&&a!==null&&Gr(a,Oe.memoizedState.deps)?f.memoizedState=Al(n,p,o,a):(Se.flags|=e,f.memoizedState=Al(1|n,p,o,a))}function nf(e,n){Vs(8390656,8,e,n)}function Kr(e,n){zs(2048,8,e,n)}function uy(e){Se.flags|=4;var n=Se.updateQueue;if(n===null)n=Gs(),Se.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function lf(e){var n=st().memoizedState;return uy({ref:n,nextImpl:e}),function(){if((qe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function of(e,n){return zs(4,2,e,n)}function sf(e,n){return zs(4,4,e,n)}function af(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rf(e,n,o){o=o!=null?o.concat([e]):null,zs(4,4,af.bind(null,n,e),o)}function Xr(){}function uf(e,n){var o=st();n=n===void 0?null:n;var a=o.memoizedState;return n!==null&&Gr(n,a[1])?a[0]:(o.memoizedState=[e,n],e)}function cf(e,n){var o=st();n=n===void 0?null:n;var a=o.memoizedState;if(n!==null&&Gr(n,a[1]))return a[0];if(a=e(),Zi){mn(!0);try{e()}finally{mn(!1)}}return o.memoizedState=[a,n],a}function Qr(e,n,o){return o===void 0||(Vn&1073741824)!==0&&(we&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=dm(),Se.lanes|=e,_i|=e,o)}function df(e,n,o,a){return Xt(o,n)?o:_l.current!==null?(e=Qr(e,o,a),Xt(e,n)||(ct=!0),e):(Vn&42)===0||(Vn&1073741824)!==0&&(we&261930)===0?(ct=!0,e.memoizedState=o):(e=dm(),Se.lanes|=e,_i|=e,n)}function ff(e,n,o,a,f){var p=j.p;j.p=p!==0&&8>p?p:8;var S=L.T,_={};L.T=_,$r(e,!1,n,o);try{var A=f(),U=L.S;if(U!==null&&U(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=ly(A,a);Co(e,n,V,en(e))}else Co(e,n,a,en(e))}catch(Y){Co(e,n,{then:function(){},status:"rejected",reason:Y},en())}finally{j.p=p,S!==null&&_.types!==null&&(S.types=_.types),L.T=S}}function cy(){}function Zr(e,n,o,a){if(e.tag!==5)throw Error(s(476));var f=mf(e).queue;ff(e,f,n,de,o===null?cy:function(){return pf(e),o(a)})}function mf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:de},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function pf(e){var n=mf(e);n.next===null&&(n=e.alternate.memoizedState),Co(e,n.next.queue,{},en())}function jr(){return At(Bo)}function hf(){return st().memoizedState}function gf(){return st().memoizedState}function dy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=en();e=yi(o);var a=vi(n,e,o);a!==null&&(Yt(a,n,o),So(a,n,o)),n={cache:Ar()},e.payload=n;return}n=n.return}}function fy(e,n,o){var a=en();o={lane:a,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bs(e)?vf(n,o):(o=hr(e,n,o,a),o!==null&&(Yt(o,e,a),xf(o,n,a)))}function yf(e,n,o){var a=en();Co(e,n,o,a)}function Co(e,n,o,a){var f={lane:a,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))vf(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,_=p(S,o);if(f.hasEagerState=!0,f.eagerState=_,Xt(_,S))return Es(e,n,f,0),Ye===null&&Ts(),!1}catch{}finally{}if(o=hr(e,n,f,a),o!==null)return Yt(o,e,a),xf(o,n,a),!0}return!1}function $r(e,n,o,a){if(a={lane:2,revertLane:Mu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(n)throw Error(s(479))}else n=hr(e,o,a,2),n!==null&&Yt(n,e,2)}function Bs(e){var n=e.alternate;return e===Se||n!==null&&n===Se}function vf(e,n){bl=Ls=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function xf(e,n,o){if((o&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,rs(e,o)}}var Ao={readContext:At,use:Hs,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};Ao.useEffectEvent=tt;var Sf={readContext:At,use:Hs,useCallback:function(e,n){return Ht().memoizedState=[e,n===void 0?null:n],e},useContext:At,useEffect:nf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Vs(4194308,4,af.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Vs(4194308,4,e,n)},useInsertionEffect:function(e,n){Vs(4,2,e,n)},useMemo:function(e,n){var o=Ht();n=n===void 0?null:n;var a=e();if(Zi){mn(!0);try{e()}finally{mn(!1)}}return o.memoizedState=[a,n],a},useReducer:function(e,n,o){var a=Ht();if(o!==void 0){var f=o(n);if(Zi){mn(!0);try{o(n)}finally{mn(!1)}}}else f=n;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=fy.bind(null,Se,e),[a.memoizedState,e]},useRef:function(e){var n=Ht();return e={current:e},n.memoizedState=e},useState:function(e){e=Fr(e);var n=e.queue,o=yf.bind(null,Se,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Xr,useDeferredValue:function(e,n){var o=Ht();return Qr(o,e,n)},useTransition:function(){var e=Fr(!1);return e=ff.bind(null,Se,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var a=Se,f=Ht();if(Ie){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),Ye===null)throw Error(s(349));(we&127)!==0||Vd(a,n,o)}f.memoizedState=o;var p={value:o,getSnapshot:n};return f.queue=p,nf(Bd.bind(null,a,p,e),[e]),a.flags|=2048,Al(9,{destroy:void 0},zd.bind(null,a,p,o,n),null),o},useId:function(){var e=Ht(),n=Ye.identifierPrefix;if(Ie){var o=bn,a=_n;o=(a&~(1<<32-Mt(a)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Ps++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=oy++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:jr,useFormState:jd,useActionState:jd,useOptimistic:function(e){var n=Ht();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=$r.bind(null,Se,!0,o),o.dispatch=n,[e,n]},useMemoCache:Br,useCacheRefresh:function(){return Ht().memoizedState=dy.bind(null,Se)},useEffectEvent:function(e){var n=Ht(),o={impl:e};return n.memoizedState=o,function(){if((qe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Wr={readContext:At,use:Hs,useCallback:uf,useContext:At,useEffect:Kr,useImperativeHandle:rf,useInsertionEffect:of,useLayoutEffect:sf,useMemo:cf,useReducer:qs,useRef:tf,useState:function(){return qs(zn)},useDebugValue:Xr,useDeferredValue:function(e,n){var o=st();return df(o,Oe.memoizedState,e,n)},useTransition:function(){var e=qs(zn)[0],n=st().memoizedState;return[typeof e=="boolean"?e:bo(e),n]},useSyncExternalStore:qd,useId:hf,useHostTransitionStatus:jr,useFormState:$d,useActionState:$d,useOptimistic:function(e,n){var o=st();return Fd(o,Oe,e,n)},useMemoCache:Br,useCacheRefresh:gf};Wr.useEffectEvent=lf;var Tf={readContext:At,use:Hs,useCallback:uf,useContext:At,useEffect:Kr,useImperativeHandle:rf,useInsertionEffect:of,useLayoutEffect:sf,useMemo:cf,useReducer:Jr,useRef:tf,useState:function(){return Jr(zn)},useDebugValue:Xr,useDeferredValue:function(e,n){var o=st();return Oe===null?Qr(o,e,n):df(o,Oe.memoizedState,e,n)},useTransition:function(){var e=Jr(zn)[0],n=st().memoizedState;return[typeof e=="boolean"?e:bo(e),n]},useSyncExternalStore:qd,useId:hf,useHostTransitionStatus:jr,useFormState:ef,useActionState:ef,useOptimistic:function(e,n){var o=st();return Oe!==null?Fd(o,Oe,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Br,useCacheRefresh:gf};Tf.useEffectEvent=lf;function eu(e,n,o,a){n=e.memoizedState,o=o(a,n),o=o==null?n:T({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var tu={enqueueSetState:function(e,n,o){e=e._reactInternals;var a=en(),f=yi(a);f.payload=n,o!=null&&(f.callback=o),n=vi(e,f,a),n!==null&&(Yt(n,e,a),So(n,e,a))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var a=en(),f=yi(a);f.tag=1,f.payload=n,o!=null&&(f.callback=o),n=vi(e,f,a),n!==null&&(Yt(n,e,a),So(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=en(),a=yi(o);a.tag=2,n!=null&&(a.callback=n),n=vi(e,a,o),n!==null&&(Yt(n,e,o),So(n,e,o))}};function Ef(e,n,o,a,f,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,S):n.prototype&&n.prototype.isPureReactComponent?!fo(o,a)||!fo(f,p):!0}function _f(e,n,o,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==e&&tu.enqueueReplaceState(n,n.state,null)}function ji(e,n){var o=n;if("ref"in n){o={};for(var a in n)a!=="ref"&&(o[a]=n[a])}if(e=e.defaultProps){o===n&&(o=T({},o));for(var f in e)o[f]===void 0&&(o[f]=e[f])}return o}function bf(e){Ss(e)}function Cf(e){console.error(e)}function Af(e){Ss(e)}function Os(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function Nf(e,n,o){try{var a=e.onCaughtError;a(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nu(e,n,o){return o=yi(o),o.tag=3,o.payload={element:null},o.callback=function(){Os(e,n)},o}function wf(e){return e=yi(e),e.tag=3,e}function Rf(e,n,o,a){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=a.value;e.payload=function(){return f(p)},e.callback=function(){Nf(n,o,a)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Nf(n,o,a),typeof f!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})})}function my(e,n,o,a,f){if(o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=o.alternate,n!==null&&vl(n,o,f,!0),o=Zt.current,o!==null){switch(o.tag){case 31:case 13:return rn===null?ta():o.alternate===null&&nt===0&&(nt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,a===Ms?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([a]):n.add(a),Nu(e,a,f)),!1;case 22:return o.flags|=65536,a===Ms?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([a]):o.add(a)),Nu(e,a,f)),!1}throw Error(s(435,o.tag))}return Nu(e,a,f),ta(),!1}if(Ie)return n=Zt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,a!==Tr&&(e=Error(s(422),{cause:a}),ho(ln(e,o)))):(a!==Tr&&(n=Error(s(423),{cause:a}),ho(ln(n,o))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=ln(a,o),f=nu(e.stateNode,a,f),Dr(e,f),nt!==4&&(nt=2)),!1;var p=Error(s(520),{cause:a});if(p=ln(p,o),ko===null?ko=[p]:ko.push(p),nt!==4&&(nt=2),n===null)return!0;a=ln(a,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=f&-f,o.lanes|=e,e=nu(o.stateNode,a,e),Dr(o,e),!1;case 1:if(n=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(bi===null||!bi.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=wf(f),Rf(f,e,o,a),Dr(o,f),!1}o=o.return}while(o!==null);return!1}var iu=Error(s(461)),ct=!1;function Nt(e,n,o,a){n.child=e===null?Dd(n,null,o,a):Qi(n,e.child,o,a)}function Mf(e,n,o,a,f){o=o.render;var p=n.ref;if("ref"in a){var S={};for(var _ in a)_!=="ref"&&(S[_]=a[_])}else S=a;return Fi(n),a=Hr(e,n,o,S,p,f),_=qr(),e!==null&&!ct?(Vr(e,n,f),Bn(e,n,f)):(Ie&&_&&xr(n),n.flags|=1,Nt(e,n,a,f),n.child)}function If(e,n,o,a,f){if(e===null){var p=o.type;return typeof p=="function"&&!gr(p)&&p.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=p,Df(e,n,p,a,f)):(e=bs(o.type,null,a,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!du(e,f)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:fo,o(S,a)&&e.ref===n.ref)return Bn(e,n,f)}return n.flags|=1,e=Pn(p,a),e.ref=n.ref,e.return=n,n.child=e}function Df(e,n,o,a,f){if(e!==null){var p=e.memoizedProps;if(fo(p,a)&&e.ref===n.ref)if(ct=!1,n.pendingProps=a=p,du(e,f))(e.flags&131072)!==0&&(ct=!0);else return n.lanes=e.lanes,Bn(e,n,f)}return lu(e,n,o,a,f)}function Uf(e,n,o,a){var f=a.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,e!==null){for(a=n.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~p}else a=0,n.child=null;return kf(e,n,p,o,a)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ws(n,p!==null?p.cachePool:null),p!==null?Ld(n,p):kr(),Pd(n);else return a=n.lanes=536870912,kf(e,n,p!==null?p.baseLanes|o:o,o,a)}else p!==null?(ws(n,p.cachePool),Ld(n,p),Si(),n.memoizedState=null):(e!==null&&ws(n,null),kr(),Si());return Nt(e,n,f,o),n.child}function No(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function kf(e,n,o,a,f){var p=wr();return p=p===null?null:{parent:rt._currentValue,pool:p},n.memoizedState={baseLanes:o,cachePool:p},e!==null&&ws(n,null),kr(),Pd(n),e!==null&&vl(e,n,a,!0),n.childLanes=f,null}function Js(e,n){return n=Ys({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Lf(e,n,o){return Qi(n,e.child,null,o),e=Js(n,n.pendingProps),e.flags|=2,jt(n),n.memoizedState=null,e}function py(e,n,o){var a=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ie){if(a.mode==="hidden")return e=Js(n,a),n.lanes=536870912,No(null,e);if(Pr(n),(e=Xe)?(e=Km(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fi!==null?{id:_n,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},o=yd(e),o.return=n,n.child=o,Ct=n,Xe=null)):e=null,e===null)throw pi(n);return n.lanes=536870912,null}return Js(n,a)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(Pr(n),f)if(n.flags&256)n.flags&=-257,n=Lf(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(ct||vl(e,n,o,!1),f=(o&e.childLanes)!==0,ct||f){if(a=Ye,a!==null&&(S=us(a,o),S!==0&&S!==p.retryLane))throw p.retryLane=S,zi(e,S),Yt(a,e,S),iu;ta(),n=Lf(e,n,o)}else e=p.treeContext,Xe=un(S.nextSibling),Ct=n,Ie=!0,mi=null,an=!1,e!==null&&Sd(n,e),n=Js(n,a),n.flags|=4096;return n}return e=Pn(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fs(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function lu(e,n,o,a,f){return Fi(n),o=Hr(e,n,o,a,void 0,f),a=qr(),e!==null&&!ct?(Vr(e,n,f),Bn(e,n,f)):(Ie&&a&&xr(n),n.flags|=1,Nt(e,n,o,f),n.child)}function Pf(e,n,o,a,f,p){return Fi(n),n.updateQueue=null,o=Hd(n,a,o,f),Gd(e),a=qr(),e!==null&&!ct?(Vr(e,n,p),Bn(e,n,p)):(Ie&&a&&xr(n),n.flags|=1,Nt(e,n,o,p),n.child)}function Gf(e,n,o,a,f){if(Fi(n),n.stateNode===null){var p=pl,S=o.contextType;typeof S=="object"&&S!==null&&(p=At(S)),p=new o(a,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=tu,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=a,p.state=n.memoizedState,p.refs={},Mr(n),S=o.contextType,p.context=typeof S=="object"&&S!==null?At(S):pl,p.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(eu(n,o,S,a),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&tu.enqueueReplaceState(p,p.state,null),Eo(n,a,p,f),To(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){p=n.stateNode;var _=n.memoizedProps,A=ji(o,_);p.props=A;var U=p.context,V=o.contextType;S=pl,typeof V=="object"&&V!==null&&(S=At(V));var Y=o.getDerivedStateFromProps;V=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||U!==S)&&_f(n,p,a,S),gi=!1;var k=n.memoizedState;p.state=k,Eo(n,a,p,f),To(),U=n.memoizedState,_||k!==U||gi?(typeof Y=="function"&&(eu(n,o,Y,a),U=n.memoizedState),(A=gi||Ef(n,o,A,a,k,U,S))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=U),p.props=a,p.state=U,p.context=S,a=A):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,Ir(e,n),S=n.memoizedProps,V=ji(o,S),p.props=V,Y=n.pendingProps,k=p.context,U=o.contextType,A=pl,typeof U=="object"&&U!==null&&(A=At(U)),_=o.getDerivedStateFromProps,(U=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==Y||k!==A)&&_f(n,p,a,A),gi=!1,k=n.memoizedState,p.state=k,Eo(n,a,p,f),To();var G=n.memoizedState;S!==Y||k!==G||gi||e!==null&&e.dependencies!==null&&As(e.dependencies)?(typeof _=="function"&&(eu(n,o,_,a),G=n.memoizedState),(V=gi||Ef(n,o,V,a,k,G,A)||e!==null&&e.dependencies!==null&&As(e.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,G,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,G,A)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=G),p.props=a,p.state=G,p.context=A,a=V):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),a=!1)}return p=a,Fs(e,n),a=(n.flags&128)!==0,p||a?(p=n.stateNode,o=a&&typeof o.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&a?(n.child=Qi(n,e.child,null,f),n.child=Qi(n,null,o,f)):Nt(e,n,o,f),n.memoizedState=p.state,e=n.child):e=Bn(e,n,f),e}function Hf(e,n,o,a){return Oi(),n.flags|=256,Nt(e,n,o,a),n.child}var ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(e){return{baseLanes:e,cachePool:Ad()}}function au(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Wt),e}function qf(e,n,o){var a=n.pendingProps,f=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ie){if(f?xi(n):Si(),(e=Xe)?(e=Km(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:fi!==null?{id:_n,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},o=yd(e),o.return=n,n.child=o,Ct=n,Xe=null)):e=null,e===null)throw pi(n);return Ou(e)?n.lanes=32:n.lanes=536870912,null}var _=a.children;return a=a.fallback,f?(Si(),f=n.mode,_=Ys({mode:"hidden",children:_},f),a=Bi(a,f,o,null),_.return=n,a.return=n,_.sibling=a,n.child=_,a=n.child,a.memoizedState=su(o),a.childLanes=au(e,S,o),n.memoizedState=ou,No(null,a)):(xi(n),ru(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(p)n.flags&256?(xi(n),n.flags&=-257,n=uu(e,n,o)):n.memoizedState!==null?(Si(),n.child=e.child,n.flags|=128,n=null):(Si(),_=a.fallback,f=n.mode,a=Ys({mode:"visible",children:a.children},f),_=Bi(_,f,o,null),_.flags|=2,a.return=n,_.return=n,a.sibling=_,n.child=a,Qi(n,e.child,null,o),a=n.child,a.memoizedState=su(o),a.childLanes=au(e,S,o),n.memoizedState=ou,n=No(null,a));else if(xi(n),Ou(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var U=S.dgst;S=U,a=Error(s(419)),a.stack="",a.digest=S,ho({value:a,source:null,stack:null}),n=uu(e,n,o)}else if(ct||vl(e,n,o,!1),S=(o&e.childLanes)!==0,ct||S){if(S=Ye,S!==null&&(a=us(S,o),a!==0&&a!==A.retryLane))throw A.retryLane=a,zi(e,a),Yt(S,e,a),iu;Bu(_)||ta(),n=uu(e,n,o)}else Bu(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Xe=un(_.nextSibling),Ct=n,Ie=!0,mi=null,an=!1,e!==null&&Sd(n,e),n=ru(n,a.children),n.flags|=4096);return n}return f?(Si(),_=a.fallback,f=n.mode,A=e.child,U=A.sibling,a=Pn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,U!==null?_=Pn(U,_):(_=Bi(_,f,o,null),_.flags|=2),_.return=n,a.return=n,a.sibling=_,n.child=a,No(null,a),a=n.child,_=e.child.memoizedState,_===null?_=su(o):(f=_.cachePool,f!==null?(A=rt._currentValue,f=f.parent!==A?{parent:A,pool:A}:f):f=Ad(),_={baseLanes:_.baseLanes|o,cachePool:f}),a.memoizedState=_,a.childLanes=au(e,S,o),n.memoizedState=ou,No(e.child,a)):(xi(n),o=e.child,e=o.sibling,o=Pn(o,{mode:"visible",children:a.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function ru(e,n){return n=Ys({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ys(e,n){return e=Qt(22,e,null,n),e.lanes=0,e}function uu(e,n,o){return Qi(n,e.child,null,o),e=ru(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Vf(e,n,o){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),br(e.return,n,o)}function cu(e,n,o,a,f,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:f,treeForkCount:p}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=o,S.tailMode=f,S.treeForkCount=p)}function zf(e,n,o){var a=n.pendingProps,f=a.revealOrder,p=a.tail;a=a.children;var S=ot.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,W(ot,S),Nt(e,n,a,o),a=Ie?po:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vf(e,o,n);else if(e.tag===19)Vf(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(o=n.child,f=null;o!==null;)e=o.alternate,e!==null&&ks(e)===null&&(f=o),o=o.sibling;o=f,o===null?(f=n.child,n.child=null):(f=o.sibling,o.sibling=null),cu(n,!1,f,o,p,a);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&ks(e)===null){n.child=f;break}e=f.sibling,f.sibling=o,o=f,f=e}cu(n,!0,o,null,p,a);break;case"together":cu(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function Bn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),_i|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(vl(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=Pn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Pn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function du(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&As(e)))}function hy(e,n,o){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),hi(n,rt,e.memoizedState.cache),Oi();break;case 27:case 5:il(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:hi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Pr(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(xi(n),n.flags|=128,null):(o&n.child.childLanes)!==0?qf(e,n,o):(xi(n),e=Bn(e,n,o),e!==null?e.sibling:null);xi(n);break;case 19:var f=(e.flags&128)!==0;if(a=(o&n.childLanes)!==0,a||(vl(e,n,o,!1),a=(o&n.childLanes)!==0),f){if(a)return zf(e,n,o);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(ot,ot.current),a)break;return null;case 22:return n.lanes=0,Uf(e,n,o,n.pendingProps);case 24:hi(n,rt,e.memoizedState.cache)}return Bn(e,n,o)}function Bf(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)ct=!0;else{if(!du(e,o)&&(n.flags&128)===0)return ct=!1,hy(e,n,o);ct=(e.flags&131072)!==0}else ct=!1,Ie&&(n.flags&1048576)!==0&&xd(n,po,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=Ki(n.elementType),n.type=e,typeof e=="function")gr(e)?(a=ji(e,a),n.tag=1,n=Gf(null,n,e,a,o)):(n.tag=0,n=lu(null,n,e,a,o));else{if(e!=null){var f=e.$$typeof;if(f===O){n.tag=11,n=Mf(null,n,e,a,o);break e}else if(f===Q){n.tag=14,n=If(null,n,e,a,o);break e}}throw n=Ue(e)||e,Error(s(306,n,""))}}return n;case 0:return lu(e,n,n.type,n.pendingProps,o);case 1:return a=n.type,f=ji(a,n.pendingProps),Gf(e,n,a,f,o);case 3:e:{if(pt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var p=n.memoizedState;f=p.element,Ir(e,n),Eo(n,a,null,o);var S=n.memoizedState;if(a=S.cache,hi(n,rt,a),a!==p.cache&&Cr(n,[rt],o,!0),To(),a=S.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Hf(e,n,a,o);break e}else if(a!==f){f=ln(Error(s(424)),n),ho(f),n=Hf(e,n,a,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=un(e.firstChild),Ct=n,Ie=!0,mi=null,an=!0,o=Dd(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Oi(),a===f){n=Bn(e,n,o);break e}Nt(e,n,a,o)}n=n.child}return n;case 26:return Fs(e,n),e===null?(o=Wm(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ie||(o=n.type,e=n.pendingProps,a=ra(_e.current).createElement(o),a[at]=n,a[Tt]=e,wt(a,o,e),lt(a),n.stateNode=a):n.memoizedState=Wm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return il(n),e===null&&Ie&&(a=n.stateNode=Zm(n.type,n.pendingProps,_e.current),Ct=n,an=!0,f=Xe,wi(n.type)?(Ju=f,Xe=un(a.firstChild)):Xe=f),Nt(e,n,n.pendingProps.children,o),Fs(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ie&&((f=a=Xe)&&(a=Fy(a,n.type,n.pendingProps,an),a!==null?(n.stateNode=a,Ct=n,Xe=un(a.firstChild),an=!1,f=!0):f=!1),f||pi(n)),il(n),f=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,a=p.children,qu(f,p)?a=null:S!==null&&qu(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=Hr(e,n,sy,null,null,o),Bo._currentValue=f),Fs(e,n),Nt(e,n,a,o),n.child;case 6:return e===null&&Ie&&((e=o=Xe)&&(o=Yy(o,n.pendingProps,an),o!==null?(n.stateNode=o,Ct=n,Xe=null,e=!0):e=!1),e||pi(n)),null;case 13:return qf(e,n,o);case 4:return pt(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Qi(n,null,a,o):Nt(e,n,a,o),n.child;case 11:return Mf(e,n,n.type,n.pendingProps,o);case 7:return Nt(e,n,n.pendingProps,o),n.child;case 8:return Nt(e,n,n.pendingProps.children,o),n.child;case 12:return Nt(e,n,n.pendingProps.children,o),n.child;case 10:return a=n.pendingProps,hi(n,n.type,a.value),Nt(e,n,a.children,o),n.child;case 9:return f=n.type._context,a=n.pendingProps.children,Fi(n),f=At(f),a=a(f),n.flags|=1,Nt(e,n,a,o),n.child;case 14:return If(e,n,n.type,n.pendingProps,o);case 15:return Df(e,n,n.type,n.pendingProps,o);case 19:return zf(e,n,o);case 31:return py(e,n,o);case 22:return Uf(e,n,o,n.pendingProps);case 24:return Fi(n),a=At(rt),e===null?(f=wr(),f===null&&(f=Ye,p=Ar(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),n.memoizedState={parent:a,cache:f},Mr(n),hi(n,rt,f)):((e.lanes&o)!==0&&(Ir(e,n),Eo(n,null,null,o),To()),f=e.memoizedState,p=n.memoizedState,f.parent!==a?(f={parent:a,cache:a},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),hi(n,rt,a)):(a=p.cache,hi(n,rt,a),a!==f.cache&&Cr(n,[rt],o,!0))),Nt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function On(e){e.flags|=4}function fu(e,n,o,a,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(hm())e.flags|=8192;else throw Xi=Ms,Rr}else e.flags&=-16777217}function Of(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!lp(n))if(hm())e.flags|=8192;else throw Xi=Ms,Rr}function Ks(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?be():536870912,e.lanes|=n,Ml|=n)}function wo(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(n)for(var f=e.child;f!==null;)o|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)o|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=o,n}function gy(e,n,o){var a=n.pendingProps;switch(Sr(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(n),null;case 1:return Qe(n),null;case 3:return o=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qn(rt),$e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(yl(n)?On(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Er())),Qe(n),null;case 26:var f=n.type,p=n.memoizedState;return e===null?(On(n),p!==null?(Qe(n),Of(n,p)):(Qe(n),fu(n,f,null,a,o))):p?p!==e.memoizedState?(On(n),Qe(n),Of(n,p)):(Qe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&On(n),Qe(n),fu(n,f,e,a,o)),null;case 27:if(Xl(n),o=_e.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&On(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Qe(n),null}e=ne.current,yl(n)?Td(n):(e=Zm(f,a,o),n.stateNode=e,On(n))}return Qe(n),null;case 5:if(Xl(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&On(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Qe(n),null}if(p=ne.current,yl(n))Td(n);else{var S=ra(_e.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?S.createElement(f,{is:a.is}):S.createElement(f)}}p[at]=n,p[Tt]=a;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=p;e:switch(wt(p,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&On(n)}}return Qe(n),fu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&On(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=_e.current,yl(n)){if(e=n.stateNode,o=n.memoizedProps,a=null,f=Ct,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[at]=n,e=!!(e.nodeValue===o||a!==null&&a.suppressHydrationWarning===!0||qm(e.nodeValue,o)),e||pi(n,!0)}else e=ra(e).createTextNode(a),e[at]=n,n.stateNode=e}return Qe(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(a=yl(n),o!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[at]=n}else Oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qe(n),e=!1}else o=Er(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(jt(n),n):(jt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Qe(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=yl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[at]=n}else Oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qe(n),f=!1}else f=Er(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(jt(n),n):(jt(n),null)}return jt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=a!==null,e=e!==null&&e.memoizedState!==null,o&&(a=n.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==f&&(a.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Ks(n,n.updateQueue),Qe(n),null);case 4:return $e(),e===null&&ku(n.stateNode.containerInfo),Qe(n),null;case 10:return qn(n.type),Qe(n),null;case 19:if(F(ot),a=n.memoizedState,a===null)return Qe(n),null;if(f=(n.flags&128)!==0,p=a.rendering,p===null)if(f)wo(a,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=ks(e),p!==null){for(n.flags|=128,wo(a,!1),e=p.updateQueue,n.updateQueue=e,Ks(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)gd(o,e),o=o.sibling;return W(ot,ot.current&1|2),Ie&&Gn(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&gt()>$s&&(n.flags|=128,f=!0,wo(a,!1),n.lanes=4194304)}else{if(!f)if(e=ks(p),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Ks(n,e),wo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Ie)return Qe(n),null}else 2*gt()-a.renderingStartTime>$s&&o!==536870912&&(n.flags|=128,f=!0,wo(a,!1),n.lanes=4194304);a.isBackwards?(p.sibling=n.child,n.child=p):(e=a.last,e!==null?e.sibling=p:n.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=gt(),e.sibling=null,o=ot.current,W(ot,f?o&1|2:o&1),Ie&&Gn(n,a.treeForkCount),e):(Qe(n),null);case 22:case 23:return jt(n),Lr(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(o&536870912)!==0&&(n.flags&128)===0&&(Qe(n),n.subtreeFlags&6&&(n.flags|=8192)):Qe(n),o=n.updateQueue,o!==null&&Ks(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==o&&(n.flags|=2048),e!==null&&F(Yi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qn(rt),Qe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function yy(e,n){switch(Sr(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qn(rt),$e(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xl(n),null;case 31:if(n.memoizedState!==null){if(jt(n),n.alternate===null)throw Error(s(340));Oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(ot),null;case 4:return $e(),null;case 10:return qn(n.type),null;case 22:case 23:return jt(n),Lr(),e!==null&&F(Yi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qn(rt),null;case 25:return null;default:return null}}function Jf(e,n){switch(Sr(n),n.tag){case 3:qn(rt),$e();break;case 26:case 27:case 5:Xl(n);break;case 4:$e();break;case 31:n.memoizedState!==null&&jt(n);break;case 13:jt(n);break;case 19:F(ot);break;case 10:qn(n.type);break;case 22:case 23:jt(n),Lr(),e!==null&&F(Yi);break;case 24:qn(rt)}}function Ro(e,n){try{var o=n.updateQueue,a=o!==null?o.lastEffect:null;if(a!==null){var f=a.next;o=f;do{if((o.tag&e)===e){a=void 0;var p=o.create,S=o.inst;a=p(),S.destroy=a}o=o.next}while(o!==f)}}catch(_){Be(n,n.return,_)}}function Ti(e,n,o){try{var a=n.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&e)===e){var S=a.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,f=n;var A=o,U=_;try{U()}catch(V){Be(f,A,V)}}}a=a.next}while(a!==p)}}catch(V){Be(n,n.return,V)}}function Ff(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{kd(n,o)}catch(a){Be(e,e.return,a)}}}function Yf(e,n,o){o.props=ji(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(a){Be(e,n,a)}}function Mo(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof o=="function"?e.refCleanup=o(a):o.current=a}}catch(f){Be(e,n,f)}}function Cn(e,n){var o=e.ref,a=e.refCleanup;if(o!==null)if(typeof a=="function")try{a()}catch(f){Be(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Be(e,n,f)}else o.current=null}function Kf(e){var n=e.type,o=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&a.focus();break e;case"img":o.src?a.src=o.src:o.srcSet&&(a.srcset=o.srcSet)}}catch(f){Be(e,e.return,f)}}function mu(e,n,o){try{var a=e.stateNode;qy(a,e.type,o,n),a[Tt]=n}catch(f){Be(e,e.return,f)}}function Xf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wi(e.type)||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=kn));else if(a!==4&&(a===27&&wi(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(hu(e,n,o),e=e.sibling;e!==null;)hu(e,n,o),e=e.sibling}function Xs(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(a!==4&&(a===27&&wi(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Xs(e,n,o),e=e.sibling;e!==null;)Xs(e,n,o),e=e.sibling}function Qf(e){var n=e.stateNode,o=e.memoizedProps;try{for(var a=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);wt(n,a,o),n[at]=e,n[Tt]=o}catch(p){Be(e,e.return,p)}}var Jn=!1,dt=!1,gu=!1,Zf=typeof WeakSet=="function"?WeakSet:Set,xt=null;function vy(e,n){if(e=e.containerInfo,Gu=ha,e=ad(e),ur(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var f=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var S=0,_=-1,A=-1,U=0,V=0,Y=e,k=null;t:for(;;){for(var G;Y!==o||f!==0&&Y.nodeType!==3||(_=S+f),Y!==p||a!==0&&Y.nodeType!==3||(A=S+a),Y.nodeType===3&&(S+=Y.nodeValue.length),(G=Y.firstChild)!==null;)k=Y,Y=G;for(;;){if(Y===e)break t;if(k===o&&++U===f&&(_=S),k===p&&++V===a&&(A=S),(G=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=G}o=_===-1||A===-1?null:{start:_,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hu={focusedElem:e,selectionRange:o},ha=!1,xt=n;xt!==null;)if(n=xt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xt=e;else for(;xt!==null;){switch(n=xt,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)f=e[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=n,f=p.memoizedProps,p=p.memoizedState,a=o.stateNode;try{var ie=ji(o.type,f);e=a.getSnapshotBeforeUpdate(ie,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(me){Be(o,o.return,me)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)zu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,xt=e;break}xt=n.return}}function jf(e,n,o){var a=o.flags;switch(o.tag){case 0:case 11:case 15:Yn(e,o),a&4&&Ro(5,o);break;case 1:if(Yn(e,o),a&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){Be(o,o.return,S)}else{var f=ji(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Be(o,o.return,S)}}a&64&&Ff(o),a&512&&Mo(o,o.return);break;case 3:if(Yn(e,o),a&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{kd(e,n)}catch(S){Be(o,o.return,S)}}break;case 27:n===null&&a&4&&Qf(o);case 26:case 5:Yn(e,o),n===null&&a&4&&Kf(o),a&512&&Mo(o,o.return);break;case 12:Yn(e,o);break;case 31:Yn(e,o),a&4&&em(e,o);break;case 13:Yn(e,o),a&4&&tm(e,o),a&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Ny.bind(null,o),Ky(e,o))));break;case 22:if(a=o.memoizedState!==null||Jn,!a){n=n!==null&&n.memoizedState!==null||dt,f=Jn;var p=dt;Jn=a,(dt=n)&&!p?Kn(e,o,(o.subtreeFlags&8772)!==0):Yn(e,o),Jn=f,dt=p}break;case 30:break;default:Yn(e,o)}}function $f(e){var n=e.alternate;n!==null&&(e.alternate=null,$f(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&al(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,Bt=!1;function Fn(e,n,o){for(o=o.child;o!==null;)Wf(e,n,o),o=o.sibling}function Wf(e,n,o){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ni,o)}catch{}switch(o.tag){case 26:dt||Cn(o,n),Fn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:dt||Cn(o,n);var a=je,f=Bt;wi(o.type)&&(je=o.stateNode,Bt=!1),Fn(e,n,o),qo(o.stateNode),je=a,Bt=f;break;case 5:dt||Cn(o,n);case 6:if(a=je,f=Bt,je=null,Fn(e,n,o),je=a,Bt=f,je!==null)if(Bt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(o.stateNode)}catch(p){Be(o,n,p)}else try{je.removeChild(o.stateNode)}catch(p){Be(o,n,p)}break;case 18:je!==null&&(Bt?(e=je,Fm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Hl(e)):Fm(je,o.stateNode));break;case 4:a=je,f=Bt,je=o.stateNode.containerInfo,Bt=!0,Fn(e,n,o),je=a,Bt=f;break;case 0:case 11:case 14:case 15:Ti(2,o,n),dt||Ti(4,o,n),Fn(e,n,o);break;case 1:dt||(Cn(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"&&Yf(o,n,a)),Fn(e,n,o);break;case 21:Fn(e,n,o);break;case 22:dt=(a=dt)||o.memoizedState!==null,Fn(e,n,o),dt=a;break;default:Fn(e,n,o)}}function em(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Hl(e)}catch(o){Be(n,n.return,o)}}}function tm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hl(e)}catch(o){Be(n,n.return,o)}}function xy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Zf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Zf),n;default:throw Error(s(435,e.tag))}}function Qs(e,n){var o=xy(e);n.forEach(function(a){if(!o.has(a)){o.add(a);var f=wy.bind(null,e,a);a.then(f,f)}})}function Ot(e,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var f=o[a],p=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(wi(_.type)){je=_.stateNode,Bt=!1;break e}break;case 5:je=_.stateNode,Bt=!1;break e;case 3:case 4:je=_.stateNode.containerInfo,Bt=!0;break e}_=_.return}if(je===null)throw Error(s(160));Wf(p,S,f),je=null,Bt=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)nm(n,e),n=n.sibling}var gn=null;function nm(e,n){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(n,e),Jt(e),a&4&&(Ti(3,e,e.return),Ro(3,e),Ti(5,e,e.return));break;case 1:Ot(n,e),Jt(e),a&512&&(dt||o===null||Cn(o,o.return)),a&64&&Jn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?a:o.concat(a))));break;case 26:var f=gn;if(Ot(n,e),Jt(e),a&512&&(dt||o===null||Cn(o,o.return)),a&4){var p=o!==null?o.memoizedState:null;if(a=e.memoizedState,o===null)if(a===null)if(e.stateNode===null){e:{a=e.type,o=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ai]||p[at]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(a),f.head.insertBefore(p,f.querySelector("head > title"))),wt(p,a,o),p[at]=e,lt(p),a=p;break e;case"link":var S=np("link","href",f).get(a+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(p=S[_],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}p=f.createElement(a),wt(p,a,o),f.head.appendChild(p);break;case"meta":if(S=np("meta","content",f).get(a+(o.content||""))){for(_=0;_<S.length;_++)if(p=S[_],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}p=f.createElement(a),wt(p,a,o),f.head.appendChild(p);break;default:throw Error(s(468,a))}p[at]=e,lt(p),a=p}e.stateNode=a}else ip(f,e.type,e.stateNode);else e.stateNode=tp(f,a,e.memoizedProps);else p!==a?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,a===null?ip(f,e.type,e.stateNode):tp(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&mu(e,e.memoizedProps,o.memoizedProps)}break;case 27:Ot(n,e),Jt(e),a&512&&(dt||o===null||Cn(o,o.return)),o!==null&&a&4&&mu(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Ot(n,e),Jt(e),a&512&&(dt||o===null||Cn(o,o.return)),e.flags&32){f=e.stateNode;try{pn(f,"")}catch(ie){Be(e,e.return,ie)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,mu(e,f,o!==null?o.memoizedProps:f)),a&1024&&(gu=!0);break;case 6:if(Ot(n,e),Jt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,o=e.stateNode;try{o.nodeValue=a}catch(ie){Be(e,e.return,ie)}}break;case 3:if(da=null,f=gn,gn=ua(n.containerInfo),Ot(n,e),gn=f,Jt(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Hl(n.containerInfo)}catch(ie){Be(e,e.return,ie)}gu&&(gu=!1,im(e));break;case 4:a=gn,gn=ua(e.stateNode.containerInfo),Ot(n,e),Jt(e),gn=a;break;case 12:Ot(n,e),Jt(e);break;case 31:Ot(n,e),Jt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Qs(e,a)));break;case 13:Ot(n,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(js=gt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Qs(e,a)));break;case 22:f=e.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,U=Jn,V=dt;if(Jn=U||f,dt=V||A,Ot(n,e),dt=V,Jn=U,Jt(e),a&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(o===null||A||Jn||dt||$i(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){A=o=n;try{if(p=A.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=A.stateNode;var Y=A.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;_.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ie){Be(A,A.return,ie)}}}else if(n.tag===6){if(o===null){A=n;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(ie){Be(A,A.return,ie)}}}else if(n.tag===18){if(o===null){A=n;try{var G=A.stateNode;f?Ym(G,!0):Ym(A.stateNode,!1)}catch(ie){Be(A,A.return,ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(o=a.retryQueue,o!==null&&(a.retryQueue=null,Qs(e,o))));break;case 19:Ot(n,e),Jt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Qs(e,a)));break;case 30:break;case 21:break;default:Ot(n,e),Jt(e)}}function Jt(e){var n=e.flags;if(n&2){try{for(var o,a=e.return;a!==null;){if(Xf(a)){o=a;break}a=a.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=pu(e);Xs(e,p,f);break;case 5:var S=o.stateNode;o.flags&32&&(pn(S,""),o.flags&=-33);var _=pu(e);Xs(e,_,S);break;case 3:case 4:var A=o.stateNode.containerInfo,U=pu(e);hu(e,U,A);break;default:throw Error(s(161))}}catch(V){Be(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;im(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jf(e,n.alternate,n),n=n.sibling}function $i(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ti(4,n,n.return),$i(n);break;case 1:Cn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Yf(n,n.return,o),$i(n);break;case 27:qo(n.stateNode);case 26:case 5:Cn(n,n.return),$i(n);break;case 22:n.memoizedState===null&&$i(n);break;case 30:$i(n);break;default:$i(n)}e=e.sibling}}function Kn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,f=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:Kn(f,p,o),Ro(4,p);break;case 1:if(Kn(f,p,o),a=p,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Be(a,a.return,U)}if(a=p,f=a.updateQueue,f!==null){var _=a.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Ud(A[f],_)}catch(U){Be(a,a.return,U)}}o&&S&64&&Ff(p),Mo(p,p.return);break;case 27:Qf(p);case 26:case 5:Kn(f,p,o),o&&a===null&&S&4&&Kf(p),Mo(p,p.return);break;case 12:Kn(f,p,o);break;case 31:Kn(f,p,o),o&&S&4&&em(f,p);break;case 13:Kn(f,p,o),o&&S&4&&tm(f,p);break;case 22:p.memoizedState===null&&Kn(f,p,o),Mo(p,p.return);break;case 30:break;default:Kn(f,p,o)}n=n.sibling}}function yu(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&go(o))}function vu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&go(e))}function yn(e,n,o,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lm(e,n,o,a),n=n.sibling}function lm(e,n,o,a){var f=n.flags;switch(n.tag){case 0:case 11:case 15:yn(e,n,o,a),f&2048&&Ro(9,n);break;case 1:yn(e,n,o,a);break;case 3:yn(e,n,o,a),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&go(e)));break;case 12:if(f&2048){yn(e,n,o,a),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,_=p.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Be(n,n.return,A)}}else yn(e,n,o,a);break;case 31:yn(e,n,o,a);break;case 13:yn(e,n,o,a);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?yn(e,n,o,a):Io(e,n):p._visibility&2?yn(e,n,o,a):(p._visibility|=2,Nl(e,n,o,a,(n.subtreeFlags&10256)!==0||!1)),f&2048&&yu(S,n);break;case 24:yn(e,n,o,a),f&2048&&vu(n.alternate,n);break;default:yn(e,n,o,a)}}function Nl(e,n,o,a,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,S=n,_=o,A=a,U=S.flags;switch(S.tag){case 0:case 11:case 15:Nl(p,S,_,A,f),Ro(8,S);break;case 23:break;case 22:var V=S.stateNode;S.memoizedState!==null?V._visibility&2?Nl(p,S,_,A,f):Io(p,S):(V._visibility|=2,Nl(p,S,_,A,f)),f&&U&2048&&yu(S.alternate,S);break;case 24:Nl(p,S,_,A,f),f&&U&2048&&vu(S.alternate,S);break;default:Nl(p,S,_,A,f)}n=n.sibling}}function Io(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,a=n,f=a.flags;switch(a.tag){case 22:Io(o,a),f&2048&&yu(a.alternate,a);break;case 24:Io(o,a),f&2048&&vu(a.alternate,a);break;default:Io(o,a)}n=n.sibling}}var Do=8192;function wl(e,n,o){if(e.subtreeFlags&Do)for(e=e.child;e!==null;)om(e,n,o),e=e.sibling}function om(e,n,o){switch(e.tag){case 26:wl(e,n,o),e.flags&Do&&e.memoizedState!==null&&ov(o,gn,e.memoizedState,e.memoizedProps);break;case 5:wl(e,n,o);break;case 3:case 4:var a=gn;gn=ua(e.stateNode.containerInfo),wl(e,n,o),gn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Do,Do=16777216,wl(e,n,o),Do=a):wl(e,n,o));break;default:wl(e,n,o)}}function sm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Uo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];xt=a,rm(a,e)}sm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)am(e),e=e.sibling}function am(e){switch(e.tag){case 0:case 11:case 15:Uo(e),e.flags&2048&&Ti(9,e,e.return);break;case 3:Uo(e);break;case 12:Uo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zs(e)):Uo(e);break;default:Uo(e)}}function Zs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];xt=a,rm(a,e)}sm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ti(8,n,n.return),Zs(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Zs(n));break;default:Zs(n)}e=e.sibling}}function rm(e,n){for(;xt!==null;){var o=xt;switch(o.tag){case 0:case 11:case 15:Ti(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var a=o.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:go(o.memoizedState.cache)}if(a=o.child,a!==null)a.return=o,xt=a;else e:for(o=e;xt!==null;){a=xt;var f=a.sibling,p=a.return;if($f(a),a===o){xt=null;break e}if(f!==null){f.return=p,xt=f;break e}xt=p}}}var Sy={getCacheForType:function(e){var n=At(rt),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return At(rt).controller.signal}},Ty=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ye=null,Ce=null,we=0,ze=0,$t=null,Ei=!1,Rl=!1,xu=!1,Xn=0,nt=0,_i=0,Wi=0,Su=0,Wt=0,Ml=0,ko=null,Ft=null,Tu=!1,js=0,um=0,$s=1/0,Ws=null,bi=null,mt=0,Ci=null,Il=null,Qn=0,Eu=0,_u=null,cm=null,Lo=0,bu=null;function en(){return(qe&2)!==0&&we!==0?we&-we:L.T!==null?Mu():eo()}function dm(){if(Wt===0)if((we&536870912)===0||Ie){var e=ol;ol<<=1,(ol&3932160)===0&&(ol=262144),Wt=e}else Wt=536870912;return e=Zt.current,e!==null&&(e.flags|=32),Wt}function Yt(e,n,o){(e===Ye&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(Dl(e,0),Ai(e,we,Wt,!1)),It(e,o),((qe&2)===0||e!==Ye)&&(e===Ye&&((qe&2)===0&&(Wi|=o),nt===4&&Ai(e,we,Wt,!1)),An(e))}function fm(e,n,o){if((qe&6)!==0)throw Error(s(327));var a=!o&&(n&127)===0&&(n&e.expiredLanes)===0||Pi(e,n),f=a?by(e,n):Au(e,n,!0),p=a;do{if(f===0){Rl&&!a&&Ai(e,n,0,!1);break}else{if(o=e.current.alternate,p&&!Ey(o)){f=Au(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;f=ko;var A=_.current.memoizedState.isDehydrated;if(A&&(Dl(_,S).flags|=256),S=Au(_,S,!1),S!==2){if(xu&&!A){_.errorRecoveryDisabledLanes|=p,Wi|=p,f=4;break e}p=Ft,Ft=f,p!==null&&(Ft===null?Ft=p:Ft.push.apply(Ft,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){Dl(e,0),Ai(e,n,0,!0);break}e:{switch(a=e,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ai(a,n,Wt,!Ei);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=js+300-gt(),10<f)){if(Ai(a,n,Wt,!Ei),oi(a,0,!0)!==0)break e;Qn=n,a.timeoutHandle=Om(mm.bind(null,a,o,Ft,Ws,Tu,n,Wt,Wi,Ml,Ei,p,"Throttled",-0,0),f);break e}mm(a,o,Ft,Ws,Tu,n,Wt,Wi,Ml,Ei,p,null,-0,0)}}break}while(!0);An(e)}function mm(e,n,o,a,f,p,S,_,A,U,V,Y,k,G){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},om(n,p,Y);var ie=(p&62914560)===p?js-gt():(p&4194048)===p?um-gt():0;if(ie=sv(Y,ie),ie!==null){Qn=p,e.cancelPendingCommit=ie(Tm.bind(null,e,n,p,o,a,f,S,_,A,V,Y,null,k,G)),Ai(e,p,S,!U);return}}Tm(e,n,p,o,a,f,S,_,A)}function Ey(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var a=0;a<o.length;a++){var f=o[a],p=f.getSnapshot;f=f.value;try{if(!Xt(p(),f))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ai(e,n,o,a){n&=~Su,n&=~Wi,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var f=n;0<f;){var p=31-Mt(f),S=1<<p;a[p]=-1,f&=~S}o!==0&&as(e,o,n)}function ea(){return(qe&6)===0?(Po(0),!1):!0}function Cu(){if(Ce!==null){if(ze===0)var e=Ce.return;else e=Ce,Hn=Ji=null,zr(e),El=null,vo=0,e=Ce;for(;e!==null;)Jf(e.alternate,e),e=e.return;Ce=null}}function Dl(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,By(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Qn=0,Cu(),Ye=e,Ce=o=Pn(e.current,null),we=n,ze=0,$t=null,Ei=!1,Rl=Pi(e,n),xu=!1,Ml=Wt=Su=Wi=_i=nt=0,Ft=ko=null,Tu=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var f=31-Mt(a),p=1<<f;n|=e[f],a&=~p}return Xn=n,Ts(),o}function pm(e,n){Se=null,L.H=Ao,n===Tl||n===Rs?(n=Rd(),ze=3):n===Rr?(n=Rd(),ze=4):ze=n===iu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,$t=n,Ce===null&&(nt=1,Os(e,ln(n,e.current)))}function hm(){var e=Zt.current;return e===null?!0:(we&4194048)===we?rn===null:(we&62914560)===we||(we&536870912)!==0?e===rn:!1}function gm(){var e=L.H;return L.H=Ao,e===null?Ao:e}function ym(){var e=L.A;return L.A=Sy,e}function ta(){nt=4,Ei||(we&4194048)!==we&&Zt.current!==null||(Rl=!0),(_i&134217727)===0&&(Wi&134217727)===0||Ye===null||Ai(Ye,we,Wt,!1)}function Au(e,n,o){var a=qe;qe|=2;var f=gm(),p=ym();(Ye!==e||we!==n)&&(Ws=null,Dl(e,n)),n=!1;var S=nt;e:do try{if(ze!==0&&Ce!==null){var _=Ce,A=$t;switch(ze){case 8:Cu(),S=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(n=!0);var U=ze;if(ze=0,$t=null,Ul(e,_,A,U),o&&Rl){S=0;break e}break;default:U=ze,ze=0,$t=null,Ul(e,_,A,U)}}_y(),S=nt;break}catch(V){pm(e,V)}while(!0);return n&&e.shellSuspendCounter++,Hn=Ji=null,qe=a,L.H=f,L.A=p,Ce===null&&(Ye=null,we=0,Ts()),S}function _y(){for(;Ce!==null;)vm(Ce)}function by(e,n){var o=qe;qe|=2;var a=gm(),f=ym();Ye!==e||we!==n?(Ws=null,$s=gt()+500,Dl(e,n)):Rl=Pi(e,n);e:do try{if(ze!==0&&Ce!==null){n=Ce;var p=$t;t:switch(ze){case 1:ze=0,$t=null,Ul(e,n,p,1);break;case 2:case 9:if(Nd(p)){ze=0,$t=null,xm(n);break}n=function(){ze!==2&&ze!==9||Ye!==e||(ze=7),An(e)},p.then(n,n);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Nd(p)?(ze=0,$t=null,xm(n)):(ze=0,$t=null,Ul(e,n,p,7));break;case 5:var S=null;switch(Ce.tag){case 26:S=Ce.memoizedState;case 5:case 27:var _=Ce;if(S?lp(S):_.stateNode.complete){ze=0,$t=null;var A=_.sibling;if(A!==null)Ce=A;else{var U=_.return;U!==null?(Ce=U,na(U)):Ce=null}break t}}ze=0,$t=null,Ul(e,n,p,5);break;case 6:ze=0,$t=null,Ul(e,n,p,6);break;case 8:Cu(),nt=6;break e;default:throw Error(s(462))}}Cy();break}catch(V){pm(e,V)}while(!0);return Hn=Ji=null,L.H=a,L.A=f,qe=o,Ce!==null?0:(Ye=null,we=0,Ts(),nt)}function Cy(){for(;Ce!==null&&!ht();)vm(Ce)}function vm(e){var n=Bf(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,n===null?na(e):Ce=n}function xm(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Pf(o,n,n.pendingProps,n.type,void 0,we);break;case 11:n=Pf(o,n,n.pendingProps,n.type.render,n.ref,we);break;case 5:zr(n);default:Jf(o,n),n=Ce=gd(n,Xn),n=Bf(o,n,Xn)}e.memoizedProps=e.pendingProps,n===null?na(e):Ce=n}function Ul(e,n,o,a){Hn=Ji=null,zr(n),El=null,vo=0;var f=n.return;try{if(my(e,f,n,o,we)){nt=1,Os(e,ln(o,e.current)),Ce=null;return}}catch(p){if(f!==null)throw Ce=f,p;nt=1,Os(e,ln(o,e.current)),Ce=null;return}n.flags&32768?(Ie||a===1?e=!0:Rl||(we&536870912)!==0?e=!1:(Ei=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Sm(n,e)):na(n)}function na(e){var n=e;do{if((n.flags&32768)!==0){Sm(n,Ei);return}e=n.return;var o=gy(n.alternate,n,Xn);if(o!==null){Ce=o;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=e}while(n!==null);nt===0&&(nt=5)}function Sm(e,n){do{var o=yy(e.alternate,e);if(o!==null){o.flags&=32767,Ce=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=o}while(e!==null);nt=6,Ce=null}function Tm(e,n,o,a,f,p,S,_,A){e.cancelPendingCommit=null;do ia();while(mt!==0);if((qe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(p=n.lanes|n.childLanes,p|=pr,Qa(e,o,p,S,_,A),e===Ye&&(Ce=Ye=null,we=0),Il=n,Ci=e,Qn=o,Eu=p,_u=f,cm=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ry(Kt,function(){return Am(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=L.T,L.T=null,f=j.p,j.p=2,S=qe,qe|=4;try{vy(e,n,o)}finally{qe=S,j.p=f,L.T=a}}mt=1,Em(),_m(),bm()}}function Em(){if(mt===1){mt=0;var e=Ci,n=Il,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var a=j.p;j.p=2;var f=qe;qe|=4;try{nm(n,e);var p=Hu,S=ad(e.containerInfo),_=p.focusedElem,A=p.selectionRange;if(S!==_&&_&&_.ownerDocument&&sd(_.ownerDocument.documentElement,_)){if(A!==null&&ur(_)){var U=A.start,V=A.end;if(V===void 0&&(V=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(V,_.value.length);else{var Y=_.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var G=k.getSelection(),ie=_.textContent.length,me=Math.min(A.start,ie),Fe=A.end===void 0?me:Math.min(A.end,ie);!G.extend&&me>Fe&&(S=Fe,Fe=me,me=S);var M=od(_,me),w=od(_,Fe);if(M&&w&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==w.node||G.focusOffset!==w.offset)){var D=Y.createRange();D.setStart(M.node,M.offset),G.removeAllRanges(),me>Fe?(G.addRange(D),G.extend(w.node,w.offset)):(D.setEnd(w.node,w.offset),G.addRange(D))}}}}for(Y=[],G=_;G=G.parentNode;)G.nodeType===1&&Y.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Y.length;_++){var B=Y[_];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}ha=!!Gu,Hu=Gu=null}finally{qe=f,j.p=a,L.T=o}}e.current=n,mt=2}}function _m(){if(mt===2){mt=0;var e=Ci,n=Il,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var a=j.p;j.p=2;var f=qe;qe|=4;try{jf(e,n.alternate,n)}finally{qe=f,j.p=a,L.T=o}}mt=3}}function bm(){if(mt===4||mt===3){mt=0,wn();var e=Ci,n=Il,o=Qn,a=cm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mt=5:(mt=0,Il=Ci=null,Cm(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(bi=null),si(o),n=n.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ni,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=L.T,f=j.p,j.p=2,L.T=null;try{for(var p=e.onRecoverableError,S=0;S<a.length;S++){var _=a[S];p(_.value,{componentStack:_.stack})}}finally{L.T=n,j.p=f}}(Qn&3)!==0&&ia(),An(e),f=e.pendingLanes,(o&261930)!==0&&(f&42)!==0?e===bu?Lo++:(Lo=0,bu=e):Lo=0,Po(0)}}function Cm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,go(n)))}function ia(){return Em(),_m(),bm(),Am()}function Am(){if(mt!==5)return!1;var e=Ci,n=Eu;Eu=0;var o=si(Qn),a=L.T,f=j.p;try{j.p=32>o?32:o,L.T=null,o=_u,_u=null;var p=Ci,S=Qn;if(mt=0,Il=Ci=null,Qn=0,(qe&6)!==0)throw Error(s(331));var _=qe;if(qe|=4,am(p.current),lm(p,p.current,S,o),qe=_,Po(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ni,p)}catch{}return!0}finally{j.p=f,L.T=a,Cm(e,n)}}function Nm(e,n,o){n=ln(o,n),n=nu(e.stateNode,n,2),e=vi(e,n,2),e!==null&&(It(e,2),An(e))}function Be(e,n,o){if(e.tag===3)Nm(e,e,o);else for(;n!==null;){if(n.tag===3){Nm(n,e,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(bi===null||!bi.has(a))){e=ln(o,e),o=wf(2),a=vi(n,o,2),a!==null&&(Rf(o,a,n,e),It(a,2),An(a));break}}n=n.return}}function Nu(e,n,o){var a=e.pingCache;if(a===null){a=e.pingCache=new Ty;var f=new Set;a.set(n,f)}else f=a.get(n),f===void 0&&(f=new Set,a.set(n,f));f.has(o)||(xu=!0,f.add(o),e=Ay.bind(null,e,n,o),n.then(e,e))}function Ay(e,n,o){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ye===e&&(we&o)===o&&(nt===4||nt===3&&(we&62914560)===we&&300>gt()-js?(qe&2)===0&&Dl(e,0):Su|=o,Ml===we&&(Ml=0)),An(e)}function wm(e,n){n===0&&(n=be()),e=zi(e,n),e!==null&&(It(e,n),An(e))}function Ny(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),wm(e,o)}function wy(e,n){var o=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(o=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),wm(e,o)}function Ry(e,n){return ll(e,n)}var la=null,kl=null,wu=!1,oa=!1,Ru=!1,Ni=0;function An(e){e!==kl&&e.next===null&&(kl===null?la=kl=e:kl=kl.next=e),oa=!0,wu||(wu=!0,Iy())}function Po(e,n){if(!Ru&&oa){Ru=!0;do for(var o=!1,a=la;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var p=0;else{var S=a.suspendedLanes,_=a.pingedLanes;p=(1<<31-Mt(42|e)+1)-1,p&=f&~(S&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Dm(a,p))}else p=we,p=oi(a,a===Ye?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Pi(a,p)||(o=!0,Dm(a,p));a=a.next}while(o);Ru=!1}}function My(){Rm()}function Rm(){oa=wu=!1;var e=0;Ni!==0&&zy()&&(e=Ni);for(var n=gt(),o=null,a=la;a!==null;){var f=a.next,p=Mm(a,n);p===0?(a.next=null,o===null?la=f:o.next=f,f===null&&(kl=o)):(o=a,(e!==0||(p&3)!==0)&&(oa=!0)),a=f}mt!==0&&mt!==5||Po(e),Ni!==0&&(Ni=0)}function Mm(e,n){for(var o=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-Mt(p),_=1<<S,A=f[S];A===-1?((_&o)===0||(_&a)!==0)&&(f[S]=ss(_,n)):A<=n&&(e.expiredLanes|=_),p&=~_}if(n=Ye,o=we,o=oi(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,o===0||e===n&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ts(a),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Pi(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(a!==null&&ts(a),si(o)){case 2:case 8:o=Xa;break;case 32:o=Kt;break;case 268435456:o=jl;break;default:o=Kt}return a=Im.bind(null,e),o=ll(o,a),e.callbackPriority=n,e.callbackNode=o,n}return a!==null&&a!==null&&ts(a),e.callbackPriority=2,e.callbackNode=null,2}function Im(e,n){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(ia()&&e.callbackNode!==o)return null;var a=we;return a=oi(e,e===Ye?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(fm(e,a,n),Mm(e,gt()),e.callbackNode!=null&&e.callbackNode===o?Im.bind(null,e):null)}function Dm(e,n){if(ia())return null;fm(e,n,!0)}function Iy(){Oy(function(){(qe&6)!==0?ll(Zl,My):Rm()})}function Mu(){if(Ni===0){var e=xl;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Ni=e}return Ni}function Um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ms(""+e)}function km(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Dy(e,n,o,a,f){if(n==="submit"&&o&&o.stateNode===f){var p=Um((f[Tt]||null).action),S=a.submitter;S&&(n=(n=S[Tt]||null)?Um(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var _=new ys("action","action",null,a,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ni!==0){var A=S?km(f,S):new FormData(f);Zr(o,{pending:!0,data:A,method:f.method,action:p},null,A)}}else typeof p=="function"&&(_.preventDefault(),A=S?km(f,S):new FormData(f),Zr(o,{pending:!0,data:A,method:f.method,action:p},p,A))},currentTarget:f}]})}}for(var Iu=0;Iu<mr.length;Iu++){var Du=mr[Iu],Uy=Du.toLowerCase(),ky=Du[0].toUpperCase()+Du.slice(1);hn(Uy,"on"+ky)}hn(cd,"onAnimationEnd"),hn(dd,"onAnimationIteration"),hn(fd,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(Z0,"onTransitionRun"),hn(j0,"onTransitionStart"),hn($0,"onTransitionCancel"),hn(md,"onTransitionEnd"),ue("onMouseEnter",["mouseout","mouseover"]),ue("onMouseLeave",["mouseout","mouseover"]),ue("onPointerEnter",["pointerout","pointerover"]),ue("onPointerLeave",["pointerout","pointerover"]),C("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),C("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),C("onBeforeInput",["compositionend","keypress","textInput","paste"]),C("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function Lm(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],f=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var S=a.length-1;0<=S;S--){var _=a[S],A=_.instance,U=_.currentTarget;if(_=_.listener,A!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=U;try{p(f)}catch(V){Ss(V)}f.currentTarget=null,p=A}else for(S=0;S<a.length;S++){if(_=a[S],A=_.instance,U=_.currentTarget,_=_.listener,A!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=U;try{p(f)}catch(V){Ss(V)}f.currentTarget=null,p=A}}}}function Ae(e,n){var o=n[sl];o===void 0&&(o=n[sl]=new Set);var a=e+"__bubble";o.has(a)||(Pm(n,e,2,!1),o.add(a))}function Uu(e,n,o){var a=0;n&&(a|=4),Pm(o,e,a,n)}var sa="_reactListening"+Math.random().toString(36).slice(2);function ku(e){if(!e[sa]){e[sa]=!0,no.forEach(function(o){o!=="selectionchange"&&(Ly.has(o)||Uu(o,!1,e),Uu(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sa]||(n[sa]=!0,Uu("selectionchange",!1,n))}}function Pm(e,n,o,a){switch(dp(n)){case 2:var f=uv;break;case 8:f=cv;break;default:f=Qu}o=f.bind(null,n,o,e),f=void 0,!er||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(n,o,{capture:!0,passive:f}):e.addEventListener(n,o,!0):f!==void 0?e.addEventListener(n,o,{passive:f}):e.addEventListener(n,o,!1)}function Lu(e,n,o,a,f){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var _=a.stateNode.containerInfo;if(_===f)break;if(S===4)for(S=a.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;_!==null;){if(S=In(_),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){a=p=S;continue e}_=_.parentNode}}a=a.return}Vc(function(){var U=p,V=$a(o),Y=[];e:{var k=pd.get(e);if(k!==void 0){var G=ys,ie=e;switch(e){case"keypress":if(hs(o)===0)break e;case"keydown":case"keyup":G=w0;break;case"focusin":ie="focus",G=lr;break;case"focusout":ie="blur",G=lr;break;case"beforeblur":case"afterblur":G=lr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Oc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=g0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=I0;break;case cd:case dd:case fd:G=x0;break;case md:G=U0;break;case"scroll":case"scrollend":G=p0;break;case"wheel":G=L0;break;case"copy":case"cut":case"paste":G=T0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Fc;break;case"toggle":case"beforetoggle":G=G0}var me=(n&4)!==0,Fe=!me&&(e==="scroll"||e==="scrollend"),M=me?k!==null?k+"Capture":null:k;me=[];for(var w=U,D;w!==null;){var B=w;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||M===null||(B=lo(w,M),B!=null&&me.push(Ho(w,B,D))),Fe)break;w=w.return}0<me.length&&(k=new G(k,ie,null,o,V),Y.push({event:k,listeners:me}))}}if((n&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",k&&o!==ja&&(ie=o.relatedTarget||o.fromElement)&&(In(ie)||ie[Mn]))break e;if((G||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,G?(ie=o.relatedTarget||o.toElement,G=U,ie=ie?In(ie):null,ie!==null&&(Fe=d(ie),me=ie.tag,ie!==Fe||me!==5&&me!==27&&me!==6)&&(ie=null)):(G=null,ie=U),G!==ie)){if(me=Oc,B="onMouseLeave",M="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(me=Fc,B="onPointerLeave",M="onPointerEnter",w="pointer"),Fe=G==null?k:ri(G),D=ie==null?k:ri(ie),k=new me(B,w+"leave",G,o,V),k.target=Fe,k.relatedTarget=D,B=null,In(V)===U&&(me=new me(M,w+"enter",ie,o,V),me.target=D,me.relatedTarget=Fe,B=me),Fe=B,G&&ie)t:{for(me=Py,M=G,w=ie,D=0,B=M;B;B=me(B))D++;B=0;for(var ce=w;ce;ce=me(ce))B++;for(;0<D-B;)M=me(M),D--;for(;0<B-D;)w=me(w),B--;for(;D--;){if(M===w||w!==null&&M===w.alternate){me=M;break t}M=me(M),w=me(w)}me=null}else me=null;G!==null&&Gm(Y,k,G,me,!1),ie!==null&&Fe!==null&&Gm(Y,Fe,ie,me,!0)}}e:{if(k=U?ri(U):window,G=k.nodeName&&k.nodeName.toLowerCase(),G==="select"||G==="input"&&k.type==="file")var Le=Wc;else if(jc(k))if(ed)Le=K0;else{Le=F0;var oe=J0}else G=k.nodeName,!G||G.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?U&&Za(U.elementType)&&(Le=Wc):Le=Y0;if(Le&&(Le=Le(e,U))){$c(Y,Le,o,V);break e}oe&&oe(e,k,U),e==="focusout"&&U&&k.type==="number"&&U.memoizedProps.value!=null&&En(k,"number",k.value)}switch(oe=U?ri(U):window,e){case"focusin":(jc(oe)||oe.contentEditable==="true")&&(dl=oe,cr=U,mo=null);break;case"focusout":mo=cr=dl=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,rd(Y,o,V);break;case"selectionchange":if(Q0)break;case"keydown":case"keyup":rd(Y,o,V)}var Ee;if(sr)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else cl?Qc(e,o)&&(Re="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Re="onCompositionStart");Re&&(Yc&&o.locale!=="ko"&&(cl||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&cl&&(Ee=zc()):(di=V,tr="value"in di?di.value:di.textContent,cl=!0)),oe=aa(U,Re),0<oe.length&&(Re=new Jc(Re,e,null,o,V),Y.push({event:Re,listeners:oe}),Ee?Re.data=Ee:(Ee=Zc(o),Ee!==null&&(Re.data=Ee)))),(Ee=q0?V0(e,o):z0(e,o))&&(Re=aa(U,"onBeforeInput"),0<Re.length&&(oe=new Jc("onBeforeInput","beforeinput",null,o,V),Y.push({event:oe,listeners:Re}),oe.data=Ee)),Dy(Y,e,U,o,V)}Lm(Y,n)})}function Ho(e,n,o){return{instance:e,listener:n,currentTarget:o}}function aa(e,n){for(var o=n+"Capture",a=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=lo(e,o),f!=null&&a.unshift(Ho(e,f,p)),f=lo(e,n),f!=null&&a.push(Ho(e,f,p))),e.tag===3)return a;e=e.return}return[]}function Py(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gm(e,n,o,a,f){for(var p=n._reactName,S=[];o!==null&&o!==a;){var _=o,A=_.alternate,U=_.stateNode;if(_=_.tag,A!==null&&A===a)break;_!==5&&_!==26&&_!==27||U===null||(A=U,f?(U=lo(o,p),U!=null&&S.unshift(Ho(o,U,A))):f||(U=lo(o,p),U!=null&&S.push(Ho(o,U,A)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var Gy=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function Hm(e){return(typeof e=="string"?e:""+e).replace(Gy,`
`).replace(Hy,"")}function qm(e,n){return n=Hm(n),Hm(e)===n}function Je(e,n,o,a,f,p){switch(o){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||pn(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&pn(e,""+a);break;case"className":Tn(e,"class",a);break;case"tabIndex":Tn(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,o,a);break;case"style":Hc(e,a,p);break;case"data":if(n!=="object"){Tn(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(o);break}a=ms(""+a),e.setAttribute(o,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(n!=="input"&&Je(e,n,"name",f.name,f,null),Je(e,n,"formEncType",f.formEncType,f,null),Je(e,n,"formMethod",f.formMethod,f,null),Je(e,n,"formTarget",f.formTarget,f,null)):(Je(e,n,"encType",f.encType,f,null),Je(e,n,"method",f.method,f,null),Je(e,n,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(o);break}a=ms(""+a),e.setAttribute(o,a);break;case"onClick":a!=null&&(e.onclick=kn);break;case"onScroll":a!=null&&Ae("scroll",e);break;case"onScrollEnd":a!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(o=a.__html,o!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}o=ms(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,""+a):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":a===!0?e.setAttribute(o,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,a):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(o,a):e.removeAttribute(o);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(o):e.setAttribute(o,a);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),_t(e,"popover",a);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":_t(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=f0.get(o)||o,_t(e,o,a))}}function Pu(e,n,o,a,f,p){switch(o){case"style":Hc(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(o=a.__html,o!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof a=="string"?pn(e,a):(typeof a=="number"||typeof a=="bigint")&&pn(e,""+a);break;case"onScroll":a!=null&&Ae("scroll",e);break;case"onScrollEnd":a!=null&&Ae("scrollend",e);break;case"onClick":a!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),n=o.slice(2,f?o.length-7:void 0),p=e[Tt]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof a=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,a,f);break e}o in e?e[o]=a:a===!0?e.setAttribute(o,""):_t(e,o,a)}}}function wt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var a=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Je(e,n,p,S,o,null)}}f&&Je(e,n,"srcSet",o.srcSet,o,null),a&&Je(e,n,"src",o.src,o,null);return;case"input":Ae("invalid",e);var _=p=S=f=null,A=null,U=null;for(a in o)if(o.hasOwnProperty(a)){var V=o[a];if(V!=null)switch(a){case"name":f=V;break;case"type":S=V;break;case"checked":A=V;break;case"defaultChecked":U=V;break;case"value":p=V;break;case"defaultValue":_=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,n));break;default:Je(e,n,a,V,o,null)}}Gt(e,p,_,A,U,S,f,!1);return;case"select":Ae("invalid",e),a=S=p=null;for(f in o)if(o.hasOwnProperty(f)&&(_=o[f],_!=null))switch(f){case"value":p=_;break;case"defaultValue":S=_;break;case"multiple":a=_;default:Je(e,n,f,_,o,null)}n=p,o=S,e.multiple=!!a,n!=null?bt(e,!!a,n,!1):o!=null&&bt(e,!!a,o,!0);return;case"textarea":Ae("invalid",e),p=f=a=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":a=_;break;case"defaultValue":f=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Je(e,n,S,_,o,null)}Gi(e,a,f,p);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(a=o[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Je(e,n,A,a,o,null)}return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(a=0;a<Go.length;a++)Ae(Go[a],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(a=o[U],a!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Je(e,n,U,a,o,null)}return;default:if(Za(n)){for(V in o)o.hasOwnProperty(V)&&(a=o[V],a!==void 0&&Pu(e,n,V,a,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(a=o[_],a!=null&&Je(e,n,_,a,o,null))}function qy(e,n,o,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,_=null,A=null,U=null,V=null;for(G in o){var Y=o[G];if(o.hasOwnProperty(G)&&Y!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":A=Y;default:a.hasOwnProperty(G)||Je(e,n,G,null,a,Y)}}for(var k in a){var G=a[k];if(Y=o[k],a.hasOwnProperty(k)&&(G!=null||Y!=null))switch(k){case"type":p=G;break;case"name":f=G;break;case"checked":U=G;break;case"defaultChecked":V=G;break;case"value":S=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==Y&&Je(e,n,k,G,a,Y)}}Dt(e,S,_,A,U,V,p,f);return;case"select":G=S=_=k=null;for(p in o)if(A=o[p],o.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":G=A;default:a.hasOwnProperty(p)||Je(e,n,p,null,a,A)}for(f in a)if(p=a[f],A=o[f],a.hasOwnProperty(f)&&(p!=null||A!=null))switch(f){case"value":k=p;break;case"defaultValue":_=p;break;case"multiple":S=p;default:p!==A&&Je(e,n,f,p,a,A)}n=_,o=S,a=G,k!=null?bt(e,!!o,k,!1):!!a!=!!o&&(n!=null?bt(e,!!o,n,!0):bt(e,!!o,o?[]:"",!1));return;case"textarea":G=k=null;for(_ in o)if(f=o[_],o.hasOwnProperty(_)&&f!=null&&!a.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Je(e,n,_,null,a,f)}for(S in a)if(f=a[S],p=o[S],a.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":k=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Je(e,n,S,f,a,p)}Ut(e,k,G);return;case"option":for(var ie in o)if(k=o[ie],o.hasOwnProperty(ie)&&k!=null&&!a.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:Je(e,n,ie,null,a,k)}for(A in a)if(k=a[A],G=o[A],a.hasOwnProperty(A)&&k!==G&&(k!=null||G!=null))switch(A){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Je(e,n,A,k,a,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in o)k=o[me],o.hasOwnProperty(me)&&k!=null&&!a.hasOwnProperty(me)&&Je(e,n,me,null,a,k);for(U in a)if(k=a[U],G=o[U],a.hasOwnProperty(U)&&k!==G&&(k!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Je(e,n,U,k,a,G)}return;default:if(Za(n)){for(var Fe in o)k=o[Fe],o.hasOwnProperty(Fe)&&k!==void 0&&!a.hasOwnProperty(Fe)&&Pu(e,n,Fe,void 0,a,k);for(V in a)k=a[V],G=o[V],!a.hasOwnProperty(V)||k===G||k===void 0&&G===void 0||Pu(e,n,V,k,a,G);return}}for(var M in o)k=o[M],o.hasOwnProperty(M)&&k!=null&&!a.hasOwnProperty(M)&&Je(e,n,M,null,a,k);for(Y in a)k=a[Y],G=o[Y],!a.hasOwnProperty(Y)||k===G||k==null&&G==null||Je(e,n,Y,k,a,G)}function Vm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),a=0;a<o.length;a++){var f=o[a],p=f.transferSize,S=f.initiatorType,_=f.duration;if(p&&_&&Vm(S)){for(S=0,_=f.responseEnd,a+=1;a<o.length;a++){var A=o[a],U=A.startTime;if(U>_)break;var V=A.transferSize,Y=A.initiatorType;V&&Vm(Y)&&(A=A.responseEnd,S+=V*(A<_?1:(_-U)/(A-U)))}if(--a,n+=8*(p+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gu=null,Hu=null;function ra(e){return e.nodeType===9?e:e.ownerDocument}function zm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vu=null;function zy(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var Om=typeof setTimeout=="function"?setTimeout:void 0,By=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,Oy=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(e){return Jm.resolve(null).then(e).catch(Jy)}:Om;function Jy(e){setTimeout(function(){throw e})}function wi(e){return e==="head"}function Fm(e,n){var o=n,a=0;do{var f=o.nextSibling;if(e.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(a===0){e.removeChild(f),Hl(n);return}a--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")a++;else if(o==="html")qo(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,qo(o);for(var p=o.firstChild;p;){var S=p.nextSibling,_=p.nodeName;p[ai]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=S}}else o==="body"&&qo(e.ownerDocument.body);o=f}while(o);Hl(n)}function Ym(e,n){var o=e;e=0;do{var a=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),a&&a.nodeType===8)if(o=a.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=a}while(o)}function zu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zu(o),al(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Fy(e,n,o,a){for(;e.nodeType===1;){var f=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function Yy(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=un(e.nextSibling),e===null))return null;return e}function Km(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=un(e.nextSibling),e===null))return null;return e}function Bu(e){return e.data==="$?"||e.data==="$~"}function Ou(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ky(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var a=function(){n(),o.removeEventListener("DOMContentLoaded",a)};o.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ju=null;function Xm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return un(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Qm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Zm(e,n,o){switch(n=ra(o),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function qo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);al(e)}var cn=new Map,jm=new Set;function ua(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=j.d;j.d={f:Xy,r:Qy,D:Zy,C:jy,L:$y,m:Wy,X:tv,S:ev,M:nv};function Xy(){var e=Zn.f(),n=ea();return e||n}function Qy(e){var n=Dn(e);n!==null&&n.tag===5&&n.type==="form"?pf(n):Zn.r(e)}var Ll=typeof document>"u"?null:document;function $m(e,n,o){var a=Ll;if(a&&typeof n=="string"&&n){var f=Ve(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),jm.has(f)||(jm.add(f),e={rel:e,crossOrigin:o,href:n},a.querySelector(f)===null&&(n=a.createElement("link"),wt(n,"link",e),lt(n),a.head.appendChild(n)))}}function Zy(e){Zn.D(e),$m("dns-prefetch",e,null)}function jy(e,n){Zn.C(e,n),$m("preconnect",e,n)}function $y(e,n,o){Zn.L(e,n,o);var a=Ll;if(a&&e&&n){var f='link[rel="preload"][as="'+Ve(n)+'"]';n==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ve(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ve(o.imageSizes)+'"]')):f+='[href="'+Ve(e)+'"]';var p=f;switch(n){case"style":p=Pl(e);break;case"script":p=Gl(e)}cn.has(p)||(e=T({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),cn.set(p,e),a.querySelector(f)!==null||n==="style"&&a.querySelector(Vo(p))||n==="script"&&a.querySelector(zo(p))||(n=a.createElement("link"),wt(n,"link",e),lt(n),a.head.appendChild(n)))}}function Wy(e,n){Zn.m(e,n);var o=Ll;if(o&&e){var a=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ve(a)+'"][href="'+Ve(e)+'"]',p=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Gl(e)}if(!cn.has(p)&&(e=T({rel:"modulepreload",href:e},n),cn.set(p,e),o.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zo(p)))return}a=o.createElement("link"),wt(a,"link",e),lt(a),o.head.appendChild(a)}}}function ev(e,n,o){Zn.S(e,n,o);var a=Ll;if(a&&e){var f=Un(a).hoistableStyles,p=Pl(e);n=n||"default";var S=f.get(p);if(!S){var _={loading:0,preload:null};if(S=a.querySelector(Vo(p)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},o),(o=cn.get(p))&&Fu(e,o);var A=S=a.createElement("link");lt(A),wt(A,"link",e),A._p=new Promise(function(U,V){A.onload=U,A.onerror=V}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ca(S,n,a)}S={type:"stylesheet",instance:S,count:1,state:_},f.set(p,S)}}}function tv(e,n){Zn.X(e,n);var o=Ll;if(o&&e){var a=Un(o).hoistableScripts,f=Gl(e),p=a.get(f);p||(p=o.querySelector(zo(f)),p||(e=T({src:e,async:!0},n),(n=cn.get(f))&&Yu(e,n),p=o.createElement("script"),lt(p),wt(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(f,p))}}function nv(e,n){Zn.M(e,n);var o=Ll;if(o&&e){var a=Un(o).hoistableScripts,f=Gl(e),p=a.get(f);p||(p=o.querySelector(zo(f)),p||(e=T({src:e,async:!0,type:"module"},n),(n=cn.get(f))&&Yu(e,n),p=o.createElement("script"),lt(p),wt(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(f,p))}}function Wm(e,n,o,a){var f=(f=_e.current)?ua(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Pl(o.href),o=Un(f).hoistableStyles,a=o.get(n),a||(a={type:"style",instance:null,count:0,state:null},o.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Pl(o.href);var p=Un(f).hoistableStyles,S=p.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=f.querySelector(Vo(e)))&&!p._p&&(S.instance=p,S.state.loading=5),cn.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(e,o),p||iv(f,e,o,S.state))),n&&a===null)throw Error(s(528,""));return S}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Gl(o),o=Un(f).hoistableScripts,a=o.get(n),a||(a={type:"script",instance:null,count:0,state:null},o.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pl(e){return'href="'+Ve(e)+'"'}function Vo(e){return'link[rel="stylesheet"]['+e+"]"}function ep(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function iv(e,n,o,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),wt(n,"link",o),lt(n),e.head.appendChild(n))}function Gl(e){return'[src="'+Ve(e)+'"]'}function zo(e){return"script[async]"+e}function tp(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+Ve(o.href)+'"]');if(a)return n.instance=a,lt(a),a;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),lt(a),wt(a,"style",f),ca(a,o.precedence,e),n.instance=a;case"stylesheet":f=Pl(o.href);var p=e.querySelector(Vo(f));if(p)return n.state.loading|=4,n.instance=p,lt(p),p;a=ep(o),(f=cn.get(f))&&Fu(a,f),p=(e.ownerDocument||e).createElement("link"),lt(p);var S=p;return S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),wt(p,"link",a),n.state.loading|=4,ca(p,o.precedence,e),n.instance=p;case"script":return p=Gl(o.src),(f=e.querySelector(zo(p)))?(n.instance=f,lt(f),f):(a=o,(f=cn.get(p))&&(a=T({},o),Yu(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),lt(f),wt(f,"link",a),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,ca(a,o.precedence,e));return n.instance}function ca(e,n,o){for(var a=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,p=f,S=0;S<a.length;S++){var _=a[S];if(_.dataset.precedence===n)p=_;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Fu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Yu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var da=null;function np(e,n,o){if(da===null){var a=new Map,f=da=new Map;f.set(o,a)}else f=da,a=f.get(o),a||(a=new Map,f.set(o,a));if(a.has(e))return a;for(a.set(e,null),o=o.getElementsByTagName(e),f=0;f<o.length;f++){var p=o[f];if(!(p[ai]||p[at]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var _=a.get(S);_?_.push(p):a.set(S,[p])}}return a}function ip(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function lv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function lp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ov(e,n,o,a){if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Pl(a.href),p=n.querySelector(Vo(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=fa.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=p,lt(p);return}p=n.ownerDocument||n,a=ep(a),(f=cn.get(f))&&Fu(a,f),p=p.createElement("link"),lt(p);var S=p;S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),wt(p,"link",a),o.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=fa.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Ku=0;function sv(e,n){return e.stylesheets&&e.count===0&&pa(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var a=setTimeout(function(){if(e.stylesheets&&pa(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&Ku===0&&(Ku=62500*Vy());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pa(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Ku?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function fa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pa(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ma=null;function pa(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ma=new Map,n.forEach(av,e),ma=null,fa.call(e))}function av(e,n){if(!(n.state.loading&4)){var o=ma.get(e);if(o)var a=o.get(null);else{o=new Map,ma.set(e,o);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),a=S)}a&&o.set(null,a)}f=n.instance,S=f.getAttribute("data-precedence"),p=o.get(S)||a,p===a&&o.set(null,f),o.set(S,f),this.count++,a=fa.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Bo={$$typeof:z,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function rv(e,n,o,a,f,p,S,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=et(0),this.hiddenUpdates=et(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function op(e,n,o,a,f,p,S,_,A,U,V,Y){return e=new rv(e,n,o,S,A,U,V,Y,_),n=1,p===!0&&(n|=24),p=Qt(3,null,null,n),e.current=p,p.stateNode=e,n=Ar(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:a,isDehydrated:o,cache:n},Mr(p),e}function sp(e){return e?(e=pl,e):pl}function ap(e,n,o,a,f,p){f=sp(f),a.context===null?a.context=f:a.pendingContext=f,a=yi(n),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=vi(e,a,n),o!==null&&(Yt(o,e,n),So(o,e,n))}function rp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Xu(e,n){rp(e,n),(e=e.alternate)&&rp(e,n)}function up(e){if(e.tag===13||e.tag===31){var n=zi(e,67108864);n!==null&&Yt(n,e,67108864),Xu(e,67108864)}}function cp(e){if(e.tag===13||e.tag===31){var n=en();n=Wl(n);var o=zi(e,n);o!==null&&Yt(o,e,n),Xu(e,n)}}var ha=!0;function uv(e,n,o,a){var f=L.T;L.T=null;var p=j.p;try{j.p=2,Qu(e,n,o,a)}finally{j.p=p,L.T=f}}function cv(e,n,o,a){var f=L.T;L.T=null;var p=j.p;try{j.p=8,Qu(e,n,o,a)}finally{j.p=p,L.T=f}}function Qu(e,n,o,a){if(ha){var f=Zu(a);if(f===null)Lu(e,n,a,ga,o),fp(e,a);else if(fv(f,e,n,o,a))a.stopPropagation();else if(fp(e,a),n&4&&-1<dv.indexOf(e)){for(;f!==null;){var p=Dn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Rn(p.pendingLanes);if(S!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var A=1<<31-Mt(S);_.entanglements[1]|=A,S&=~A}An(p),(qe&6)===0&&($s=gt()+500,Po(0))}}break;case 31:case 13:_=zi(p,2),_!==null&&Yt(_,p,2),ea(),Xu(p,2)}if(p=Zu(a),p===null&&Lu(e,n,a,ga,o),p===f)break;f=p}f!==null&&a.stopPropagation()}else Lu(e,n,a,null,o)}}function Zu(e){return e=$a(e),ju(e)}var ga=null;function ju(e){if(ga=null,e=In(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=m(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ga=e,null}function dp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ql()){case Zl:return 2;case Xa:return 8;case Kt:case tn:return 32;case jl:return 268435456;default:return 32}default:return 32}}var $u=!1,Ri=null,Mi=null,Ii=null,Oo=new Map,Jo=new Map,Di=[],dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fp(e,n){switch(e){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(n.pointerId)}}function Fo(e,n,o,a,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:p,targetContainers:[f]},n!==null&&(n=Dn(n),n!==null&&up(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function fv(e,n,o,a,f){switch(n){case"focusin":return Ri=Fo(Ri,e,n,o,a,f),!0;case"dragenter":return Mi=Fo(Mi,e,n,o,a,f),!0;case"mouseover":return Ii=Fo(Ii,e,n,o,a,f),!0;case"pointerover":var p=f.pointerId;return Oo.set(p,Fo(Oo.get(p)||null,e,n,o,a,f)),!0;case"gotpointercapture":return p=f.pointerId,Jo.set(p,Fo(Jo.get(p)||null,e,n,o,a,f)),!0}return!1}function mp(e){var n=In(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=m(o),n!==null){e.blockedOn=n,cs(e.priority,function(){cp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,cs(e.priority,function(){cp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ya(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Zu(e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);ja=a,o.target.dispatchEvent(a),ja=null}else return n=Dn(o),n!==null&&up(n),e.blockedOn=o,!1;n.shift()}return!0}function pp(e,n,o){ya(e)&&o.delete(n)}function mv(){$u=!1,Ri!==null&&ya(Ri)&&(Ri=null),Mi!==null&&ya(Mi)&&(Mi=null),Ii!==null&&ya(Ii)&&(Ii=null),Oo.forEach(pp),Jo.forEach(pp)}function va(e,n){e.blockedOn===n&&(e.blockedOn=null,$u||($u=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mv)))}var xa=null;function hp(e){xa!==e&&(xa=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xa===e&&(xa=null);for(var n=0;n<e.length;n+=3){var o=e[n],a=e[n+1],f=e[n+2];if(typeof a!="function"){if(ju(a||o)===null)continue;break}var p=Dn(o);p!==null&&(e.splice(n,3),n-=3,Zr(p,{pending:!0,data:f,method:o.method,action:a},a,f))}}))}function Hl(e){function n(A){return va(A,e)}Ri!==null&&va(Ri,e),Mi!==null&&va(Mi,e),Ii!==null&&va(Ii,e),Oo.forEach(n),Jo.forEach(n);for(var o=0;o<Di.length;o++){var a=Di[o];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Di.length&&(o=Di[0],o.blockedOn===null);)mp(o),o.blockedOn===null&&Di.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(a=0;a<o.length;a+=3){var f=o[a],p=o[a+1],S=f[Tt]||null;if(typeof p=="function")S||hp(o);else if(S){var _=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[Tt]||null)_=S.formAction;else if(ju(f)!==null)continue}else _=S.action;typeof _=="function"?o[a+1]=_:(o.splice(a,3),a-=3),hp(o)}}}function gp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),a||setTimeout(o,20)}function o(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Wu(e){this._internalRoot=e}Sa.prototype.render=Wu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,a=en();ap(o,a,e,n,null,null)},Sa.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ap(e.current,2,null,e,null,null),ea(),n[Mn]=null}};function Sa(e){this._internalRoot=e}Sa.prototype.unstable_scheduleHydration=function(e){if(e){var n=eo();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Di.length&&n!==0&&n<Di[o].priority;o++);Di.splice(o,0,e),o===0&&mp(e)}};var yp=t.version;if(yp!=="19.2.3")throw Error(s(527,yp,"19.2.3"));j.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var pv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{ni=Ta.inject(pv),Rt=Ta}catch{}}return Ko.createRoot=function(e,n){if(!r(e))throw Error(s(299));var o=!1,a="",f=bf,p=Cf,S=Af;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=op(e,1,!1,null,null,o,a,null,f,p,S,gp),e[Mn]=n.current,ku(e),new Wu(n)},Ko.hydrateRoot=function(e,n,o){if(!r(e))throw Error(s(299));var a=!1,f="",p=bf,S=Cf,_=Af,A=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),n=op(e,1,!0,n,o??null,a,f,A,p,S,_,gp),n.context=sp(null),o=n.current,a=en(),a=Wl(a),f=yi(a),f.callback=null,vi(o,f,a),o=a,n.current.lanes=o,It(n,o),An(n),e[Mn]=n.current,ku(e),new Sa(n)},Ko.version="19.2.3",Ko}var Np;function Cv(){if(Np)return nc.exports;Np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),nc.exports=bv(),nc.exports}var Av=Cv();const Nv=yg(Av);var tl=(i=>(i.GUEST="GUEST",i.USER="USER",i.ADMIN="ADMIN",i))(tl||{});const Ea="dramashort_dramas",ql="dramashort_users",sc="dramashort_current_user",_a="dramashort_plans",ba="dramashort_genres",Ca="dramashort_regions",ac="dramashort_sub_requests",wp="dramashort_gateway_config",rc="dramashort_site_settings",Rp=[{id:"1",name:"Paket Harian",price:5e3,duration:"24h",description:"Akses tanpa batas 1 hari"},{id:"2",name:"Paket Hemat",price:49e3,duration:"30d",description:"Favorit para penonton"},{id:"3",name:"Paket Sultan",price:149e3,duration:"365d",description:"Hemat 50% untuk akses setahun"}],Mp=["Romance","Drama","Action","Sci-Fi","Comedy","Thriller"],Ip=["Indonesia","Korea","China","Thailand","Japan","USA"],Dp=[],Z={checkPremiumExpiries:()=>{const i=Z.getUsers();let t=!1;const l=new Date().getTime();if(i.forEach(s=>{s.isPremium&&s.premiumExpiresAt&&l>new Date(s.premiumExpiresAt).getTime()&&(s.isPremium=!1,s.premiumExpiresAt=null,t=!0)}),t){localStorage.setItem(ql,JSON.stringify(i));const s=Z.getCurrentUser();if(s){const r=i.find(d=>d.id===s.id);r&&Z.setCurrentUser(r)}}},getGenres:()=>{const i=localStorage.getItem(ba);return i?JSON.parse(i):(localStorage.setItem(ba,JSON.stringify(Mp)),Mp)},addGenre:i=>{const t=Z.getGenres();i&&!t.includes(i)&&(t.push(i),localStorage.setItem(ba,JSON.stringify(t)))},removeGenre:i=>{const t=Z.getGenres().filter(l=>l!==i);localStorage.setItem(ba,JSON.stringify(t))},getRegions:()=>{const i=localStorage.getItem(Ca);return i?JSON.parse(i):(localStorage.setItem(Ca,JSON.stringify(Ip)),Ip)},addRegion:i=>{const t=Z.getRegions();i&&!t.includes(i)&&(t.push(i),localStorage.setItem(Ca,JSON.stringify(t)))},removeRegion:i=>{const t=Z.getRegions().filter(l=>l!==i);localStorage.setItem(Ca,JSON.stringify(t))},getUsers:()=>{const i=localStorage.getItem(ql);return i?JSON.parse(i):(localStorage.setItem(ql,JSON.stringify(Dp)),Dp)},saveUser:i=>{const t=Z.getUsers(),l=t.findIndex(r=>r.id===i.id);l>-1?t[l]=i:t.push(i),localStorage.setItem(ql,JSON.stringify(t));const s=Z.getCurrentUser();s&&s.id===i.id&&Z.setCurrentUser(i)},getCurrentUser:()=>{const i=localStorage.getItem(sc);return i?JSON.parse(i):null},setCurrentUser:i=>{i?localStorage.setItem(sc,JSON.stringify(i)):localStorage.removeItem(sc),window.dispatchEvent(new Event("storage"))},registerUser:i=>{const t=Z.getUsers(),l={...i,id:Date.now().toString(),role:t.length===0?tl.ADMIN:tl.USER,isPremium:!1,createdAt:new Date().toISOString(),avatar:`https://i.pravatar.cc/150?u=${i.email}`};return t.push(l),localStorage.setItem(ql,JSON.stringify(t)),l},getDramas:()=>{const i=localStorage.getItem(Ea),t=i?JSON.parse(i):[];let l=!1;const s=new Date().getTime();return t.forEach(r=>{r.isNew&&s-new Date(r.createdAt).getTime()>1440*60*1e3&&(r.isNew=!1,l=!0)}),l&&localStorage.setItem(Ea,JSON.stringify(t)),t},saveDrama:i=>{const t=Z.getDramas(),l=t.findIndex(s=>s.id===i.id);l>-1?t[l]=i:t.push(i),localStorage.setItem(Ea,JSON.stringify(t))},deleteDrama:i=>{const t=Z.getDramas().filter(l=>l.id!==i);localStorage.setItem(Ea,JSON.stringify(t))},getPlans:()=>{const i=localStorage.getItem(_a);return i?JSON.parse(i):(localStorage.setItem(_a,JSON.stringify(Rp)),Rp)},savePlan:i=>{const t=Z.getPlans(),l=t.findIndex(s=>s.id===i.id);l>-1?t[l]=i:t.push(i),localStorage.setItem(_a,JSON.stringify(t))},deletePlan:i=>{const t=Z.getPlans().filter(l=>l.id!==i);localStorage.setItem(_a,JSON.stringify(t))},getRequests:()=>{const i=localStorage.getItem(ac);return i?JSON.parse(i):[]},createRequest:i=>{const t=Z.getRequests(),l={...i,id:Date.now().toString(),gatewayRef:i.gatewayRef,status:"PENDING",createdAt:new Date().toISOString()};t.push(l),localStorage.setItem(ac,JSON.stringify(t))},updateRequestStatus:(i,t)=>{const l=Z.getRequests(),s=l.findIndex(r=>r.id===i);if(s>-1&&(l[s].status=t,localStorage.setItem(ac,JSON.stringify(l)),t==="APPROVED")){const r=l[s],d=Z.getPlans(),m=d.find(h=>h.id===r.planId)||d[0],g=Z.getUsers(),v=g.findIndex(h=>h.id===r.userId);if(v>-1){const h=new Date;let x=new Date(h);m.duration.endsWith("h")?x.setHours(x.getHours()+parseInt(m.duration)):m.duration.endsWith("d")&&x.setDate(x.getDate()+parseInt(m.duration)),g[v].isPremium=!0,g[v].premiumExpiresAt=x.toISOString(),localStorage.setItem(ql,JSON.stringify(g));const T=Z.getCurrentUser();T&&T.id===r.userId&&Z.setCurrentUser(g[v])}}},getGatewayConfig:()=>{const i=localStorage.getItem(wp);return i?JSON.parse(i):{tripay:{apiKey:"",privateKey:"",merchantCode:"",mode:"sandbox"},paydisini:{apiKey:""},qris:{staticUrl:""}}},setGatewayConfig:i=>{localStorage.setItem(wp,JSON.stringify(i))},getSiteSettings:()=>{const i=localStorage.getItem(rc);if(i)return JSON.parse(i);const t={siteName:"DramaShort",logoUrl:"",bannerUrl:"",keywords:["drama","streaming","short drama","premium"],footerText:"Platform streaming short drama #1 di Indonesia. Kisah hebat dalam durasi singkat.",livechatEmbedHtml:"",whatsappAdmin:"",apiBaseUrl:""};return localStorage.setItem(rc,JSON.stringify(t)),t},setSiteSettings:i=>{localStorage.setItem(rc,JSON.stringify(i)),window.dispatchEvent(new Event("storage"))}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,s)=>s?s.toUpperCase():l.toLowerCase()),Up=i=>{const t=Rv(i);return t.charAt(0).toUpperCase()+t.slice(1)},vg=(...i)=>i.filter((t,l,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===l).join(" ").trim(),Mv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=K.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:r="",children:d,iconNode:m,...g},v)=>K.createElement("svg",{ref:v,...Iv,width:t,height:t,stroke:i,strokeWidth:s?Number(l)*24/Number(t):l,className:vg("lucide",r),...!d&&!Mv(g)&&{"aria-hidden":"true"},...g},[...m.map(([h,x])=>K.createElement(h,x)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(i,t)=>{const l=K.forwardRef(({className:s,...r},d)=>K.createElement(Dv,{ref:d,iconNode:t,className:vg(`lucide-${wv(Up(i))}`,`lucide-${i}`,s),...r}));return l.displayName=Up(i),l};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kv=ft("chevron-right",Uv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pv=ft("clock",Lv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Hv=ft("film",Gv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Vv=ft("flame",qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Bv=ft("house",zv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Jv=ft("layout-dashboard",Ov);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yv=ft("lock",Fv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xv=ft("log-out",Kv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Zv=ft("menu",Qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$v=ft("play",jv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ex=ft("plus",Wv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nx=ft("search",tx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lx=ft("settings",ix);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sx=ft("square-pen",ox);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rx=ft("star",ax);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cx=ft("trash-2",ux);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],fx=ft("user",dx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],px=ft("users",mx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gx=ft("x",hx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vx=ft("zap",yx),se={Play:$v,Search:nx,Home:Bv,Flame:Vv,Clock:Pv,User:fx,Lock:Yv,Settings:lx,LogOut:Xv,Plus:ex,Trash2:cx,Edit:sx,ChevronRight:kv,Star:rx,LayoutDashboard:Jv,Film:Hv,Users:px,Menu:Zv,X:gx,Zap:vx},xx=({user:i,onLogout:t,onNavigate:l,currentPage:s,onSearch:r,siteName:d,logoUrl:m})=>{const[g,v]=K.useState(""),[h,x]=K.useState(()=>Z.getSiteSettings()),[T,E]=K.useState(!1);K.useEffect(()=>{x(Z.getSiteSettings());const N=()=>x(Z.getSiteSettings());return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[]);const b=N=>{N.preventDefault(),g.trim()&&r(g)};return y.jsxs(y.Fragment,{children:[y.jsxs("nav",{className:"fixed top-0 w-full z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-800 px-4 md:px-8 py-3 flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group",onClick:()=>l("home"),children:[m||h.logoUrl?y.jsx("img",{src:m||h.logoUrl,alt:d||h.siteName,className:"w-8 h-8 rounded-lg border border-slate-700 object-cover"}):y.jsx("div",{className:"bg-gradient-to-tr from-rose-500 to-amber-500 p-1.5 rounded-lg group-hover:scale-110 transition-transform",children:y.jsx(se.Play,{className:"w-6 h-6 text-white fill-current"})}),y.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:d||h.siteName||"DramaShort"})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[y.jsxs("button",{onClick:()=>l("home"),className:`flex items-center gap-2 transition-colors ${s==="home"?"text-rose-500":"text-slate-400 hover:text-white"}`,children:[y.jsx(se.Home,{className:"w-5 h-5"}),y.jsx("span",{className:"font-medium",children:"Home"})]}),y.jsxs("button",{onClick:()=>l("new"),className:`flex items-center gap-2 transition-colors ${s==="new"?"text-rose-500":"text-slate-400 hover:text-white"}`,children:[y.jsx(se.Zap,{className:"w-5 h-5"}),y.jsx("span",{className:"font-medium",children:"New"})]}),y.jsxs("button",{onClick:()=>l("popular"),className:`flex items-center gap-2 transition-colors ${s==="popular"?"text-rose-500":"text-slate-400 hover:text-white"}`,children:[y.jsx(se.Star,{className:"w-5 h-5"}),y.jsx("span",{className:"font-medium",children:"Popular"})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("form",{onSubmit:b,className:"relative group hidden sm:block",children:[y.jsx(se.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),y.jsx("input",{type:"text",placeholder:"Search dramas...",value:g,onChange:N=>v(N.target.value),className:"bg-slate-800 border-none rounded-full py-2 pl-10 pr-4 text-sm w-48 focus:w-64 focus:ring-2 focus:ring-rose-500/50 transition-all outline-none"})]}),i?y.jsxs("div",{className:"flex items-center gap-4",children:[i.role===tl.ADMIN&&y.jsx("button",{onClick:()=>l("admin"),className:`p-2 rounded-lg transition-all ${s==="admin"?"bg-rose-500 text-white":"text-slate-400 hover:bg-slate-800"}`,title:"Admin Panel",children:y.jsx(se.LayoutDashboard,{className:"w-5 h-5"})}),y.jsxs("div",{className:"relative group",children:[y.jsxs("button",{className:"flex items-center gap-2 bg-slate-800 p-1 pr-3 rounded-full hover:bg-slate-700 transition-all border border-slate-700",children:[y.jsx("img",{src:i.avatar,alt:i.name,className:"w-8 h-8 rounded-full border border-slate-600 shadow-lg"}),y.jsx("span",{className:"text-xs font-bold text-slate-300 hidden sm:inline",children:i.name})]}),y.jsxs("div",{className:"absolute right-0 mt-2 w-52 bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all p-2 z-[100]",children:[y.jsxs("button",{onClick:()=>l("profile"),className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-slate-300 hover:bg-slate-800 rounded-xl transition-colors",children:[y.jsx(se.User,{className:"w-4 h-4"})," Profile"]}),y.jsxs("button",{onClick:()=>l("edit-profile"),className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-slate-300 hover:bg-slate-800 rounded-xl transition-colors",children:[y.jsx(se.Edit,{className:"w-4 h-4"})," Edit Profile"]}),y.jsxs("button",{onClick:()=>l("subscription"),className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-amber-500 hover:bg-amber-500/10 rounded-xl transition-colors font-bold",children:[y.jsx(se.Zap,{className:"w-4 h-4"})," Subscription"]}),y.jsx("hr",{className:"my-1 border-slate-800"}),y.jsxs("button",{onClick:t,className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-rose-500 hover:bg-rose-500/10 rounded-xl transition-colors font-bold",children:[y.jsx(se.LogOut,{className:"w-4 h-4"})," Logout"]})]})]})]}):y.jsx("button",{onClick:()=>l("login"),className:"bg-rose-600 hover:bg-rose-500 text-white px-6 py-2 rounded-full font-bold transition-all shadow-lg shadow-rose-600/20",children:"Sign In"})]})]}),T&&y.jsx("div",{className:"fixed top-14 left-4 right-4 z-50 md:hidden",children:y.jsxs("form",{onSubmit:N=>{N.preventDefault(),g.trim()&&(r(g),E(!1),v(""))},className:"flex items-center gap-2 bg-slate-800 p-2 rounded-xl border border-slate-700",children:[y.jsx(se.Search,{className:"w-5 h-5 text-slate-400"}),y.jsx("input",{autoFocus:!0,value:g,onChange:N=>v(N.target.value),placeholder:"Search dramas...",className:"flex-1 bg-transparent outline-none text-sm text-slate-100"}),y.jsx("button",{type:"button",onClick:()=>{E(!1)},className:"text-slate-400 px-2",children:"Close"})]})}),y.jsxs("div",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-slate-900/95 border-t border-slate-800 py-2 flex justify-around z-50",children:[y.jsxs("button",{onClick:()=>l("home"),"aria-label":"Home",className:"flex flex-col items-center text-slate-300 hover:text-white",children:[y.jsx(se.Home,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] mt-1",children:"Home"})]}),y.jsxs("button",{onClick:()=>E(!0),"aria-label":"Search",className:"flex flex-col items-center text-slate-300 hover:text-white",children:[y.jsx(se.Search,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] mt-1",children:"Search"})]}),y.jsxs("button",{onClick:()=>l("genres"),"aria-label":"Genres",className:"flex flex-col items-center text-slate-300 hover:text-white",children:[y.jsx(se.Menu,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] mt-1",children:"Genres"})]}),y.jsxs("button",{onClick:()=>l("new"),"aria-label":"New",className:"flex flex-col items-center text-slate-300 hover:text-white",children:[y.jsx(se.Zap,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] mt-1",children:"New"})]}),y.jsxs("button",{onClick:()=>l("popular"),"aria-label":"Popular",className:"flex flex-col items-center text-slate-300 hover:text-white",children:[y.jsx(se.Star,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] mt-1",children:"Popular"})]}),y.jsxs("button",{onClick:()=>l("profile"),"aria-label":"Profile",className:"flex flex-col items-center text-slate-300 hover:text-white",children:[y.jsx("img",{src:i&&i.avatar||"/",className:"w-6 h-6 rounded-full border border-slate-700 object-cover"}),y.jsx("span",{className:"text-[10px] mt-1",children:"Profile"})]})]})]})},ki=({drama:i,onClick:t,onFilter:l})=>y.jsxs("div",{className:"group relative bg-slate-800/20 rounded-[2.5rem] overflow-hidden border border-slate-700/50 hover:border-rose-500 transition-all cursor-pointer shadow-2xl hover:-translate-y-2",children:[y.jsxs("div",{className:"aspect-[2/3] overflow-hidden relative",onClick:()=>t(i.id),children:[y.jsx("img",{src:i.thumbnail,alt:i.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity"}),y.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[i.isNew&&y.jsxs("div",{className:"bg-amber-500 text-white text-[8px] font-black px-2.5 py-1.5 rounded-lg flex items-center gap-1 shadow-2xl uppercase tracking-widest animate-pulse",children:[y.jsx(se.Zap,{className:"w-3 h-3 fill-current"})," NEW"]}),i.isHot&&y.jsxs("div",{className:"bg-rose-600 text-white text-[8px] font-black px-2.5 py-1.5 rounded-lg flex items-center gap-1 shadow-2xl uppercase tracking-widest",children:[y.jsx(se.Flame,{className:"w-3 h-3 fill-current"})," HOT"]})]}),y.jsx("div",{className:"absolute bottom-4 left-4 right-4 translate-y-4 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-500 ease-out",children:y.jsxs("button",{className:"w-full bg-white text-slate-950 py-3.5 rounded-2xl font-black flex items-center justify-center gap-2 text-[10px] shadow-2xl uppercase tracking-widest",children:[y.jsx(se.Play,{className:"w-4 h-4 fill-current"})," PLAY DRAMA"]})})]}),y.jsxs("div",{className:"p-6",children:[y.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:i.genre.map(s=>y.jsx("button",{onClick:r=>{r.stopPropagation(),l==null||l("genre",s)},className:"text-[9px] font-black text-rose-500 uppercase tracking-widest bg-rose-500/5 px-2 py-0.5 rounded-md hover:bg-rose-500 hover:text-white transition-all",children:s},s))}),y.jsx("h3",{className:"font-bold text-slate-100 text-sm truncate group-hover:text-rose-400 transition-colors",onClick:()=>t(i.id),children:i.title}),y.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-700/30",children:[y.jsxs("div",{className:"flex items-center gap-1 text-amber-500 text-[10px] font-black",children:[y.jsx(se.Star,{className:"w-3 h-3 fill-current"})," ",i.rating.toFixed(1)]}),y.jsxs("p",{className:"text-slate-500 text-[9px] font-bold uppercase tracking-widest",children:[i.episodes.length," Episodes"]})]})]})]}),uc=({onSelectDrama:i,onFilter:t})=>{const[l,s]=K.useState([]),[r,d]=K.useState([]),[m,g]=K.useState([]),[v,h]=K.useState("Genre"),[x,T]=K.useState(()=>Z.getSiteSettings());K.useEffect(()=>{s(Z.getDramas()),d(Z.getGenres().sort()),g(Z.getRegions().sort()),Z.checkPremiumExpiries(),T(Z.getSiteSettings());const q=()=>T(Z.getSiteSettings());return window.addEventListener("storage",q),()=>window.removeEventListener("storage",q)},[]);const E=l.filter(q=>q.isHot),b=l.filter(q=>q.isNew),N=l.filter(q=>(q.genre||[]).some($=>$.toLowerCase().includes("sulih"))),P=[...l].sort((q,$)=>new Date($.createdAt).getTime()-new Date(q.createdAt).getTime());[...b].sort((q,$)=>new Date($.createdAt).getTime()-new Date(q.createdAt).getTime())[0]||P[0];const I=(b.length?b:P).slice(0,6),[J,X]=K.useState(0),[z,O]=K.useState(!1);return K.useEffect(()=>{if(I.length<=1)return;const q=setInterval(()=>{z||X($=>($+1)%I.length)},4e3);return()=>clearInterval(q)},[I.length,z]),y.jsxs("div",{className:"pt-24 pb-12 px-4 md:px-8 max-w-7xl mx-auto animate-in fade-in duration-500",children:[y.jsx("section",{className:"relative h-[420px] md:h-[520px] rounded-[2rem] overflow-hidden mb-12 shadow-2xl",children:y.jsxs("div",{onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),className:"h-full w-full",children:[y.jsx("div",{className:"h-full w-full flex transition-transform duration-700",style:{transform:`translateX(-${J*100}%)`},children:I.map(q=>y.jsxs("div",{className:"min-w-full h-full relative",children:[y.jsx("img",{src:q.thumbnail||"https://picsum.photos/seed/hero/1200/600",alt:q.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-950/60 to-transparent"}),y.jsxs("div",{className:"absolute left-6 md:left-12 top-1/3 max-w-3xl p-6 md:p-12",children:[y.jsx("div",{className:"flex items-center gap-3 mb-4",children:y.jsxs("span",{className:"bg-rose-600 text-white text-[9px] font-black px-4 py-1.5 rounded-full flex items-center gap-2 tracking-widest uppercase",children:[y.jsx(se.Zap,{className:"w-3 h-3 fill-current"})," TOP SELECTION"]})}),y.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white mb-3 leading-tight tracking-tighter",children:q.title}),y.jsx("p",{className:"text-slate-300 text-sm md:text-lg mb-6 line-clamp-2 max-w-lg",children:q.description}),y.jsx("div",{className:"flex gap-3",children:y.jsx("button",{onClick:()=>i(q.id),className:"bg-rose-600 hover:bg-rose-500 text-white px-6 py-3 rounded-2xl font-black",children:"Watch"})})]})]},q.id))}),y.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:I.map((q,$)=>y.jsx("button",{onClick:()=>X($),className:`w-3 h-3 rounded-full ${$===J?"bg-rose-500":"bg-slate-700"}`},$))}),y.jsx("button",{onClick:()=>X(q=>(q-1+I.length)%I.length),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-slate-800/60 p-2 rounded-full",children:y.jsx(se.ChevronRight,{className:"w-5 h-5 rotate-180"})}),y.jsx("button",{onClick:()=>X(q=>(q+1)%I.length),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-slate-800/60 p-2 rounded-full",children:y.jsx(se.ChevronRight,{className:"w-5 h-5"})})]})}),b.length>0&&y.jsxs("section",{className:"mb-20",children:[y.jsx("div",{className:"flex items-center justify-between mb-8",children:y.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-3 uppercase tracking-tighter",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center",children:y.jsx(se.Zap,{className:"text-amber-500 w-5 h-5 fill-current"})}),"New Releases"]})}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8",children:b.map(q=>y.jsx(ki,{drama:q,onClick:i,onFilter:t},q.id))})]}),y.jsxs("section",{className:"mb-20",children:[y.jsx("div",{className:"flex items-center justify-between mb-8",children:y.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-3 uppercase tracking-tighter",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-rose-500/20 flex items-center justify-center",children:y.jsx(se.Flame,{className:"text-rose-500 w-5 h-5 fill-current"})}),"Most Popular"]})}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8",children:E.slice(0,5).map(q=>y.jsx(ki,{drama:q,onClick:i,onFilter:t},q.id))})]}),N.length>0&&y.jsxs("section",{className:"mb-20",children:[y.jsx("div",{className:"flex items-center justify-between mb-8",children:y.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-3 uppercase tracking-tighter",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-violet-500/20 flex items-center justify-center",children:y.jsx(se.Zap,{className:"text-violet-500 w-5 h-5 fill-current"})}),"Sulih Suara"]})}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8",children:N.map(q=>y.jsx(ki,{drama:q,onClick:i,onFilter:t},q.id))})]}),y.jsxs("section",{children:[y.jsx("div",{className:"flex items-center justify-between mb-8",children:y.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-3 uppercase tracking-tighter",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:y.jsx(se.Film,{className:"text-blue-500 w-5 h-5"})}),"Recommended"]})}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8",children:P.map(q=>y.jsx(ki,{drama:q,onClick:i,onFilter:t},q.id))})]})]})},Sx=({dramaId:i,user:t,onBack:l,onLogin:s,onUpgrade:r})=>{var I,J,X,z;const[d,m]=K.useState(null),[g,v]=K.useState(null),[h,x]=K.useState(0),[T,E]=K.useState(!1);K.useEffect(()=>{const O=Z.getDramas().find($=>$.id===i);if(!O)return;m(O);const q=O.episodes.findIndex($=>!$.isPremium||(t==null?void 0:t.isPremium));q!==-1?(x(q),v(O.episodes[q]),E(!1)):(v(null),E(!0))},[i,t]);const b=O=>{if(!d)return;const q=d.episodes[O];if(q){if(q.isPremium&&!(t!=null&&t.isPremium)){E(!0);return}x(O),v(q),E(!1)}},N=()=>b(Math.max(0,h-1)),P=()=>b(Math.min(d.episodes.length-1,h+1));return d?y.jsx("div",{className:"pt-20 pb-12",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2",children:[y.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-slate-400 hover:text-white mb-4",children:[y.jsx(se.ChevronRight,{className:"w-5 h-5 rotate-180"}),"Kembali"]}),y.jsx("div",{className:"relative aspect-[9/16] md:aspect-video bg-black rounded-3xl overflow-hidden border border-slate-800",children:T?y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-slate-900/95 backdrop-blur p-8 text-center",children:[y.jsx(se.Lock,{className:"w-12 h-12 text-amber-400 mb-4"}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Episode Premium"}),y.jsx("p",{className:"text-slate-400 mb-6",children:"Upgrade untuk membuka semua episode tanpa batas."}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{onClick:r,className:"bg-rose-600 hover:bg-rose-500 text-white px-6 py-3 rounded-full font-bold",children:"Upgrade"}),!t&&y.jsx("button",{onClick:s,className:"bg-slate-800 border border-slate-700 px-6 py-3 rounded-full text-white",children:"Login"})]})]}):y.jsx("video",{src:(g==null?void 0:g.videoUrl)||"https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",controls:!0,autoPlay:!0,poster:d.thumbnail,className:"w-full h-full object-contain"},g==null?void 0:g.id)}),y.jsxs("div",{className:"mt-4 flex items-center justify-center gap-6",children:[y.jsx("button",{onClick:N,disabled:h===0,className:"px-4 py-2 bg-slate-800/50 rounded-lg disabled:opacity-40",children:" Sebelumnya"}),y.jsxs("div",{className:"text-center",children:[y.jsxs("p",{className:"font-bold text-white text-sm",children:["Episode ",(I=d.episodes[h])==null?void 0:I.order]}),y.jsx("p",{className:"text-xs text-slate-400",children:(J=d.episodes[h])==null?void 0:J.title})]}),y.jsx("button",{onClick:P,disabled:h===d.episodes.length-1,className:"px-4 py-2 bg-rose-600 rounded-lg text-white disabled:opacity-40",children:"Selanjutnya "})]}),y.jsxs("div",{className:"mt-8",children:[y.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:d.title}),y.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[y.jsx("span",{className:"text-xs font-bold text-rose-500 uppercase",children:(X=d.genre)==null?void 0:X.join(", ")}),y.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:(z=d.region)==null?void 0:z.join(", ")}),y.jsxs("span",{className:"flex items-center gap-1 text-amber-400 text-sm font-bold",children:[y.jsx(se.Star,{className:"w-4 h-4 fill-current"}),d.rating.toFixed(1)]})]}),y.jsx("p",{className:"text-slate-400 leading-relaxed",children:d.description})]})]}),y.jsx("div",{className:"lg:col-span-1",children:y.jsxs("div",{className:"sticky top-24 bg-slate-900 border border-slate-800 rounded-3xl p-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Daftar Episode"}),y.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-3",children:d.episodes.map((O,q)=>{const $=O.isPremium&&!(t!=null&&t.isPremium);return y.jsxs("button",{onClick:()=>b(q),className:`relative h-11 rounded-lg font-bold text-sm border transition
                      ${q===h?"bg-rose-500/10 border-rose-500 text-rose-500":"bg-slate-800/40 border-transparent text-slate-400 hover:bg-slate-800"}
                    `,children:[O.order,$&&y.jsx(se.Lock,{className:"w-3 h-3 absolute top-1 right-1 text-amber-400"})]},O.id)})}),!(t!=null&&t.isPremium)&&y.jsxs("div",{className:"mt-8 p-5 rounded-2xl bg-gradient-to-br from-rose-600 to-amber-600",children:[y.jsx("h4",{className:"font-black text-white mb-1",children:"AKSES UNLIMITED"}),y.jsx("p",{className:"text-xs text-white/80 mb-4",children:"Semua episode tersedia tanpa batasan."}),y.jsx("button",{onClick:r,className:"w-full bg-white text-rose-600 py-2 rounded-xl font-bold",children:"Upgrade Sekarang"})]})]})})]})}):y.jsx("div",{className:"pt-32 text-center text-slate-400",children:"Loading drama..."})},Tx=({onLoginSuccess:i,onBack:t})=>{const[l,s]=K.useState(!1),[r,d]=K.useState(""),[m,g]=K.useState(""),[v,h]=K.useState(""),x=T=>{T.preventDefault();const E=Z.getUsers();if(l){if(E.find(P=>P.email===r))return alert("Email sudah terdaftar!");const N=Z.registerUser({name:v,email:r,password:m});Z.setCurrentUser(N),i(N)}else{const b=E.find(N=>N.email===r&&N.password===m);b?(Z.setCurrentUser(b),i(b)):alert("Email atau password salah!")}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 px-4",children:y.jsxs("div",{className:"w-full max-w-md animate-in zoom-in duration-300",children:[y.jsxs("div",{className:"flex flex-col items-center gap-4 mb-8 cursor-pointer",onClick:t,children:[y.jsx("div",{className:"bg-gradient-to-tr from-rose-500 to-amber-500 p-3 rounded-2xl shadow-xl shadow-rose-600/30",children:y.jsx(se.Play,{className:"w-10 h-10 text-white fill-current"})}),y.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"DramaShort"})]}),y.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-8 rounded-3xl shadow-2xl",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:l?"Buat Akun Baru":"Selamat Datang Kembali"}),y.jsx("p",{className:"text-slate-400 text-sm mb-8",children:"Silakan isi data Anda untuk melanjutkan."}),y.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l&&y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Nama Lengkap"}),y.jsx("input",{type:"text",required:!0,value:v,onChange:T=>h(T.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-rose-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Email Address"}),y.jsx("input",{type:"email",required:!0,value:r,onChange:T=>d(T.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-rose-500 outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-widest mb-2",children:"Password"}),y.jsx("input",{type:"password",required:!0,value:m,onChange:T=>g(T.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:ring-2 focus:ring-rose-500 outline-none"})]}),y.jsx("button",{type:"submit",className:"w-full bg-rose-600 hover:bg-rose-500 text-white py-3.5 rounded-xl font-black text-lg shadow-xl shadow-rose-600/20 transition-all mt-4",children:l?"Daftar Sekarang":"Masuk"})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsxs("p",{className:"text-slate-500 text-sm",children:[l?"Sudah punya akun?":"Belum punya akun?",y.jsx("button",{onClick:()=>s(!l),className:"text-rose-500 font-bold ml-1 hover:underline",children:l?"Masuk di sini":"Daftar di sini"})]})})]})]})})},Ex="modulepreload",_x=function(i){return"/"+i},kp={},Lp=function(t,l,s){let r=Promise.resolve();if(l&&l.length>0){let m=function(h){return Promise.all(h.map(x=>Promise.resolve(x).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),v=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));r=m(l.map(h=>{if(h=_x(h),h in kp)return;kp[h]=!0;const x=h.endsWith(".css"),T=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${T}`))return;const E=document.createElement("link");if(E.rel=x?"stylesheet":Ex,x||(E.as="script"),E.crossOrigin="",E.href=h,v&&E.setAttribute("nonce",v),document.head.appendChild(E),x)return new Promise((b,N)=>{E.addEventListener("load",b),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function d(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return r.then(m=>{for(const g of m||[])g.status==="rejected"&&d(g.reason);return t().catch(d)})};var bx={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cx,Ax;function Nx(){return{geminiUrl:Cx,vertexUrl:Ax}}function wx(i,t,l,s){var r,d;if(!(i!=null&&i.baseUrl)){const m=Nx();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(d=m.geminiUrl)!==null&&d!==void 0?d:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn{}function ee(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const d=t[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,l){for(let d=0;d<t.length-1;d++){const m=t[d];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const v=i[g];if(Array.isArray(l))for(let h=0;h<v.length;h++){const x=v[h];c(x,t.slice(d+1),l[h])}else for(const h of v)c(h,t.slice(d+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const v=i[g];c(v[0],t.slice(d+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[s]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return l;const r=t[s];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const m=i[d];return Array.isArray(m)?m.map(g=>u(g,t.slice(s+1),l)):l}else return l}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return l;throw s}}function Rx(i,t){for(const[l,s]of Object.entries(t)){const r=l.split("."),d=s.split("."),m=new Set;let g=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){g=v;break}if(g!==-1&&d.length>g)for(let v=g;v<d.length;v++){const h=d[v];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}fc(i,r,d,0,m)}}function fc(i,t,l,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const d=t[s];if(d.endsWith("[]")){const m=d.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const v of g[m])fc(v,t,l,s+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),v={};for(const h of g)v[h]=m[h];for(const[h,x]of Object.entries(v)){const T=[];for(const E of l.slice(s))E==="*"?T.push(h):T.push(E);c(m,T,x)}for(const h of g)delete m[h]}}else{const m=i;d in m&&fc(m[d],t,l,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(i){const t={},l=u(i,["operationName"]);l!=null&&c(t,["operationName"],l);const s=u(i,["resourceName"]);return s!=null&&c(t,["_url","resourceName"],s),t}function Ix(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],Ux(m)),t}function Dx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],kx(m)),t}function Ux(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Lx(m))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function kx(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Px(m))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Lx(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],Bx(l)),t}function Px(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],Ox(l)),t}function Gx(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function Hx(i){const t={},l=u(i,["operationName"]);return l!=null&&c(t,["_url","operationName"],l),t}function qx(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],Vx(m)),t}function Vx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function xg(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],zx(m)),t}function zx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Bx(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Nc(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Ox(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Nc(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Pp||(Pp={}));var Gp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Gp||(Gp={}));var Hp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Hp||(Hp={}));var Nn;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Nn||(Nn={}));var qp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(qp||(qp={}));var Vp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Vp||(Vp={}));var zp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(zp||(zp={}));var Bp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Bp||(Bp={}));var Op;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Op||(Op={}));var Jp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Jp||(Jp={}));var Fp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Fp||(Fp={}));var Yp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Yp||(Yp={}));var Kp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Kp||(Kp={}));var Xp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Xp||(Xp={}));var Qp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Qp||(Qp={}));var Zp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Zp||(Zp={}));var jp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jp||(jp={}));var $p;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})($p||($p={}));var Wp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Wp||(Wp={}));var Ua;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ua||(Ua={}));var eh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(eh||(eh={}));var th;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(th||(th={}));var nh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(nh||(nh={}));var mc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(mc||(mc={}));var ih;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ih||(ih={}));var lh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(lh||(lh={}));var oh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(oh||(oh={}));var sh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(sh||(sh={}));var ah;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(ah||(ah={}));var rh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rh||(rh={}));var uh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(uh||(uh={}));var ch;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(ch||(ch={}));var dh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(dh||(dh={}));var fh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(fh||(fh={}));var mh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mh||(mh={}));var ph;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ph||(ph={}));var hh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(hh||(hh={}));var gh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gh||(gh={}));var yh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(yh||(yh={}));var vh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(vh||(vh={}));var xh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(xh||(xh={}));var Sh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Sh||(Sh={}));var Th;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Th||(Th={}));var Eh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Eh||(Eh={}));var _h;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(_h||(_h={}));var bh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(bh||(bh={}));var Ch;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ch||(Ch={}));var Ah;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Ah||(Ah={}));var Nh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Nh||(Nh={}));var wh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wh||(wh={}));var Rh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rh||(Rh={}));var Mh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Mh||(Mh={}));var Ih;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ih||(Ih={}));var Dh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dh||(Dh={}));var Uh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Uh||(Uh={}));var zl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(zl||(zl={}));class pc{constructor(t){const l={};for(const s of t.headers.entries())l[s[0]]=s[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Xo{get text(){var t,l,s,r,d,m,g,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const T=[];for(const E of(v=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[b,N]of Object.entries(E))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(N!==null||N!==void 0)&&T.push(b);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;x=!0,h+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var t,l,s,r,d,m,g,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const T of(v=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[E,b]of Object.entries(T))E!=="inlineData"&&(b!==null||b!==void 0)&&x.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,s,r,d,m,g,v;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(v=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,s,r,d,m,g,v,h;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(v=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,s,r,d,m,g,v,h;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(v=(g=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class kh{}class Lh{}class Jx{}class Fx{}class Yx{}class Kx{}class Ph{}class Gh{}class Hh{}class Xx{}class ka{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new ka;let r;const d=t;return l?r=Dx(d):r=Ix(d),Object.assign(s,r),s}}class qh{}class Vh{}class zh{}class Bh{}class Qx{}class Zx{}class jx{}class wc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new wc,d=qx(t);return Object.assign(s,d),s}}class $x{}class Wx{}class eS{}class Oh{}class tS{get text(){var t,l,s;let r="",d=!1;const m=[];for(const g of(s=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[v,h]of Object.entries(g))v!=="text"&&v!=="thought"&&h!==null&&m.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var t,l,s;let r="";const d=[];for(const m of(s=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[g,v]of Object.entries(m))g!=="inlineData"&&v!==null&&d.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class nS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Rc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new Rc,d=xg(t);return Object.assign(s,d),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Sg(i,t){const l=Ge(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function Tg(i){return Array.isArray(i)?i.map(t=>La(t)):[La(i)]}function La(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Eg(i){const t=La(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function _g(i){const t=La(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Jh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function bg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Jh(t)):[Jh(i)]}function hc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Fh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Yh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Lt(i){if(i==null)throw new Error("ContentUnion is required");return hc(i)?i:{role:"user",parts:bg(i)}}function Mc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const s=Lt(l);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const l=Lt(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>Lt(l)):[Lt(t)]}function dn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Fh(i)||Yh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Lt(i)]}const t=[],l=[],s=hc(i[0]);for(const r of i){const d=hc(r);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)t.push(r);else{if(Fh(r)||Yh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return s||t.push({role:"user",parts:bg(l)}),t}function iS(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(s=>s!=="null");if(l.length===1)t.type=Object.values(Nn).includes(l[0].toUpperCase())?l[0].toUpperCase():Nn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of l)t.anyOf.push({type:Object.values(Nn).includes(s.toUpperCase())?s.toUpperCase():Nn.TYPE_UNSPECIFIED})}}function Ol(i){const t={},l=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(t.nullable=!0,i=d[1]):d[1].type==="null"&&(t.nullable=!0,i=d[0])),i.type instanceof Array&&iS(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Nn).includes(g.toUpperCase())?g.toUpperCase():Nn.TYPE_UNSPECIFIED}else if(l.includes(m))t[m]=Ol(g);else if(s.includes(m)){const v=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}v.push(Ol(h))}t[m]=v}else if(r.includes(m)){const v={};for(const[h,x]of Object.entries(g))v[h]=Ol(x);t[m]=v}else{if(m==="additionalProperties")continue;t[m]=g}return t}function Ic(i){return Ol(i)}function Dc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Uc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Fl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ol(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ol(t.response));return i}function Yl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function lS(i,t,l,s=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function ei(i,t){if(typeof t!="string")throw new Error("name must be a string");return lS(i,t,"cachedContents")}function Cg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Li(i){return Nc(i)}function oS(i){return i!=null&&typeof i=="object"&&"name"in i}function sS(i){return i!=null&&typeof i=="object"&&"video"in i}function aS(i){return i!=null&&typeof i=="object"&&"uri"in i}function Ag(i){var t;let l;if(oS(i)&&(l=i.name),!(aS(i)&&(l=i.uri,l===void 0))&&!(sS(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Ng(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function wg(i){for(const t of["models","tunedModels","publisherModels"])if(rS(i,t))return i[t];return[]}function rS(i,t){return i!==null&&typeof i=="object"&&t in i}function uS(i,t={}){const l=i,s={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(s.responseJsonSchema=l.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function cS(i,t={}){const l=[],s=new Set;for(const r of i){const d=r.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const m=uS(r,t);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function Rg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const s=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function dS(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Mg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const v=m.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Kl(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Ig(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(i){const t={},l=u(i,["responsesFile"]);l!=null&&c(t,["fileName"],l);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>YS(m))),c(t,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["inlinedEmbedContentResponses"],d)}return t}function mS(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&c(t,["format"],l);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function pS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["predictionsFormat"],l);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ia(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["metadata","displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],Ig(r));const d=u(i,["metadata","createTime"]);d!=null&&c(t,["createTime"],d);const m=u(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&c(t,["updateTime"],g);const v=u(i,["metadata","model"]);v!=null&&c(t,["model"],v);const h=u(i,["metadata","output"]);return h!=null&&c(t,["dest"],fS(Mg(h))),t}function gc(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["state"]);r!=null&&c(t,["state"],Ig(r));const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["createTime"]);m!=null&&c(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(t,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(t,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(t,["updateTime"],h);const x=u(i,["model"]);x!=null&&c(t,["model"],x);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],hS(T));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],mS(Mg(E)));const b=u(i,["completionStats"]);return b!=null&&c(t,["completionStats"],b),t}function hS(i){const t={},l=u(i,["instancesFormat"]);l!=null&&c(t,["format"],l);const s=u(i,["gcsSource","uris"]);s!=null&&c(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function gS(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&c(l,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>FS(i,m))),c(l,["requests","requests"],d)}return l}function yS(i){const t={},l=u(i,["format"]);l!=null&&c(t,["instancesFormat"],l);const s=u(i,["gcsUri"]);s!=null&&c(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function vS(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function xS(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],Kl(i,s)),l}function SS(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],Kl(i,s)),l}function TS(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],ES(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&c(t,["index"],v);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(b=>b)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function ES(i){const t={},l=u(i,["citationSources"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function Dg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>WS(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function _S(i,t){const l={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&c(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function bS(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],pS(dS(r))),l}function Kh(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],gS(i,Rg(i,r)));const d=u(t,["config"]);return d!=null&&_S(d,l),l}function CS(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["model"],Ge(i,s));const r=u(t,["src"]);r!=null&&c(l,["inputConfig"],yS(Rg(i,r)));const d=u(t,["config"]);return d!=null&&bS(d,l),l}function AS(i,t){const l={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["batch","displayName"],s),l}function NS(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["src"]);r!=null&&c(l,["batch","inputConfig"],kS(i,r));const d=u(t,["config"]);return d!=null&&AS(d,l),l}function wS(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],Kl(i,s)),l}function RS(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],Kl(i,s)),l}function MS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function IS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);return d!=null&&c(t,["error"],d),t}function DS(i,t){const l={},s=u(t,["contents"]);if(s!=null){let d=Mc(i,s);Array.isArray(d)&&(d=d.map(m=>m)),c(l,["requests[]","request","content"],d)}const r=u(t,["config"]);return r!=null&&(c(l,["_self"],US(r,l)),Rx(l,{"requests[].*":"requests[].request.*"})),l}function US(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function kS(i,t){const l={},s=u(t,["fileName"]);s!=null&&c(l,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&c(l,["requests"],DS(i,r)),l}function LS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function PS(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function GS(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function HS(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Dg(Lt(r)));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(s,["topP"],m);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const b=u(t,["presencePenalty"]);b!=null&&c(s,["presencePenalty"],b);const N=u(t,["frequencyPenalty"]);N!=null&&c(s,["frequencyPenalty"],N);const P=u(t,["seed"]);P!=null&&c(s,["seed"],P);const I=u(t,["responseMimeType"]);I!=null&&c(s,["responseMimeType"],I);const J=u(t,["responseSchema"]);J!=null&&c(s,["responseSchema"],Ic(J));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(s,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(t,["safetySettings"]);if(l!==void 0&&z!=null){let ge=z;Array.isArray(ge)&&(ge=ge.map(Ue=>eT(Ue))),c(l,["safetySettings"],ge)}const O=u(t,["tools"]);if(l!==void 0&&O!=null){let ge=Yl(O);Array.isArray(ge)&&(ge=ge.map(Ue=>nT(Fl(Ue)))),c(l,["tools"],ge)}const q=u(t,["toolConfig"]);if(l!==void 0&&q!=null&&c(l,["toolConfig"],tT(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=u(t,["cachedContent"]);l!==void 0&&$!=null&&c(l,["cachedContent"],ei(i,$));const Q=u(t,["responseModalities"]);Q!=null&&c(s,["responseModalities"],Q);const pe=u(t,["mediaResolution"]);pe!=null&&c(s,["mediaResolution"],pe);const te=u(t,["speechConfig"]);if(te!=null&&c(s,["speechConfig"],Dc(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(t,["thinkingConfig"]);he!=null&&c(s,["thinkingConfig"],he);const le=u(t,["imageConfig"]);le!=null&&c(s,["imageConfig"],JS(le));const Ne=u(t,["enableEnhancedCivicAnswers"]);return Ne!=null&&c(s,["enableEnhancedCivicAnswers"],Ne),s}function qS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(h=>TS(h))),c(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function VS(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],Kl(i,s)),l}function zS(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],Kl(i,s)),l}function BS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function OS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function JS(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function FS(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["request","model"],Ge(i,s));const r=u(t,["contents"]);if(r!=null){let g=dn(r);Array.isArray(g)&&(g=g.map(v=>Dg(v))),c(l,["request","contents"],g)}const d=u(t,["metadata"]);d!=null&&c(l,["metadata"],d);const m=u(t,["config"]);return m!=null&&c(l,["request","generationConfig"],HS(i,m,u(l,["request"],{}))),l}function YS(i){const t={},l=u(i,["response"]);l!=null&&c(t,["response"],qS(l));const s=u(i,["error"]);return s!=null&&c(t,["error"],s),t}function KS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function XS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const d=u(i,["filter"]);return t!==void 0&&d!=null&&c(t,["_query","filter"],d),l}function QS(i){const t={},l=u(i,["config"]);return l!=null&&KS(l,t),t}function ZS(i){const t={},l=u(i,["config"]);return l!=null&&XS(l,t),t}function jS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>Ia(m))),c(t,["batchJobs"],d)}return t}function $S(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>gc(m))),c(t,["batchJobs"],d)}return t}function WS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],LS(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],PS(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],vS(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function eT(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function tT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],GS(l));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function nT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],BS(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],OS(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $n;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})($n||($n={}));class nl{constructor(t,l,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,s,r)}init(t,l,s){var r,d;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iT extends Wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new nl($n.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Kh(this.apiClient,t),s=l._url,r=ee("{model}:batchGenerateContent",s),g=l.batch.inputConfig.requests,v=g.requests,h=[];for(const x of v){const T=Object.assign({},x);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const b=T.request;b.systemInstruction=E,T.request=b}h.push(T)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const s=l?Object.assign({},l):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const d=this.getGcsUri(t),m=this.getBigqueryUri(t);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${r}`;else if(m)s.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=CS(this.apiClient,t);return g=ee("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>gc(x))}else{const h=Kh(this.apiClient,t);return g=ee("{model}:batchGenerateContent",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>Ia(x))}}async createEmbeddingsInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NS(this.apiClient,t);return d=ee("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>Ia(v))}}async get(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=zS(this.apiClient,t);return g=ee("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>gc(x))}else{const h=VS(this.apiClient,t);return g=ee("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>Ia(x))}}async cancel(t){var l,s,r,d;let m="",g={};if(this.apiClient.isVertexAI()){const v=SS(this.apiClient,t);m=ee("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=xS(this.apiClient,t);m=ee("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=ZS(t);return g=ee("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=$S(x),E=new Oh;return Object.assign(E,T),E})}else{const h=QS(t);return g=ee("batches",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=jS(x),E=new Oh;return Object.assign(E,T),E})}}async delete(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=RS(this.apiClient,t);return g=ee("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>IS(x))}else{const h=wS(this.apiClient,t);return g=ee("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>MS(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lT(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Xh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>NT(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function oT(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let x=dn(m);Array.isArray(x)&&(x=x.map(T=>Xh(T))),c(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Xh(Lt(g)));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(T=>RT(T))),c(t,["tools"],x)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&c(t,["toolConfig"],wT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function sT(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const d=u(i,["displayName"]);t!==void 0&&d!=null&&c(t,["displayName"],d);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let T=dn(m);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&c(t,["systemInstruction"],Lt(g));const v=u(i,["tools"]);if(t!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>MT(E))),c(t,["tools"],T)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&c(t,["toolConfig"],h);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&c(t,["encryption_spec","kmsKeyName"],x),l}function aT(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["model"],Sg(i,s));const r=u(t,["config"]);return r!=null&&oT(r,l),l}function rT(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["model"],Sg(i,s));const r=u(t,["config"]);return r!=null&&sT(r,l),l}function uT(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],ei(i,s)),l}function cT(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],ei(i,s)),l}function dT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function fT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function mT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function pT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function hT(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function gT(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function yT(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],ei(i,s)),l}function vT(i,t){const l={},s=u(t,["name"]);return s!=null&&c(l,["_url","name"],ei(i,s)),l}function xT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function ST(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function TT(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function ET(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function _T(i){const t={},l=u(i,["config"]);return l!=null&&TT(l,t),t}function bT(i){const t={},l=u(i,["config"]);return l!=null&&ET(l,t),t}function CT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function AT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["cachedContents"],d)}return t}function NT(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],mT(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],pT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],lT(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function wT(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],hT(l));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function RT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],xT(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],ST(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function MT(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>gT(E))),c(t,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function IT(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function DT(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&c(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),l}function UT(i,t){const l={},s=u(t,["name"]);s!=null&&c(l,["_url","name"],ei(i,s));const r=u(t,["config"]);return r!=null&&IT(r,l),l}function kT(i,t){const l={},s=u(t,["name"]);s!=null&&c(l,["_url","name"],ei(i,s));const r=u(t,["config"]);return r!=null&&DT(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LT extends Wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new nl($n.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(l),l)}async create(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=rT(this.apiClient,t);return g=ee("cachedContents",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=aT(this.apiClient,t);return g=ee("cachedContents",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async get(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=vT(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=yT(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async delete(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=cT(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=fT(x),E=new zh;return Object.assign(E,T),E})}else{const h=uT(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=dT(x),E=new zh;return Object.assign(E,T),E})}}async update(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=kT(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=UT(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async listInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=bT(t);return g=ee("cachedContents",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=AT(x),E=new Bh;return Object.assign(E,T),E})}else{const h=_T(t);return g=ee("cachedContents",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=CT(x),E=new Bh;return Object.assign(E,T),E})}}}function Pa(i,t){var l={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(l[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(l[s[r]]=i[s[r]]);return l}function Qh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],s=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ye(i){return this instanceof ye?(this.v=i,this):new ye(i)}function vn(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=l.apply(i,t||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(b){return function(N){return Promise.resolve(N).then(b,T)}}function g(b,N){s[b]&&(r[b]=function(P){return new Promise(function(I,J){d.push([b,P,I,J])>1||v(b,P)})},N&&(r[b]=N(r[b])))}function v(b,N){try{h(s[b](N))}catch(P){E(d[0][3],P)}}function h(b){b.value instanceof ye?Promise.resolve(b.value.v).then(x,T):E(d[0][2],b)}function x(b){v("next",b)}function T(b){v("throw",b)}function E(b,N){b(N),d.shift(),d.length&&v(d[0][0],d[0][1])}}function xn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Qh=="function"?Qh(i):i[Symbol.iterator](),l={},s("next"),s("throw"),s("return"),l[Symbol.asyncIterator]=function(){return this},l);function s(d){l[d]=i[d]&&function(m){return new Promise(function(g,v){m=i[d](m),r(g,v,m.done,m.value)})}}function r(d,m,g,v){Promise.resolve(v).then(function(h){d({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:Ug(l)}function Ug(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function GT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Zh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let s=0;for(;s<l;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let d=!0;for(;s<l&&i[s].role==="model";)r.push(i[s]),d&&!Ug(i[s])&&(d=!1),s++;d?t.push(...r):t.pop()}return t}class HT{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new qT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class qT{constructor(t,l,s,r={},d=[]){this.apiClient=t,this.modelsModule=l,this.model=s,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),GT(d)}async sendMessage(t){var l;await this.sendPromise;const s=Lt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,m,g;const v=await r,h=(m=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,x=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];x!=null&&(E=(g=x.slice(T))!==null&&g!==void 0?g:[]);const b=h?[h]:[];this.recordHistory(s,b,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const s=Lt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,s)}getHistory(t=!1){const l=t?Zh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return vn(this,arguments,function*(){var r,d,m,g,v,h;const x=[];try{for(var T=!0,E=xn(t),b;b=yield ye(E.next()),r=b.done,!r;T=!0){g=b.value,T=!1;const N=g;if(PT(N)){const P=(h=(v=N.candidates)===null||v===void 0?void 0:v[0])===null||h===void 0?void 0:h.content;P!==void 0&&x.push(P)}yield yield ye(N)}}catch(N){d={error:N}}finally{try{!T&&!r&&(m=E.return)&&(yield ye(m.call(E)))}finally{if(d)throw d.error}}this.recordHistory(l,x)})}recordHistory(t,l,s){let r=[];l.length>0&&l.every(d=>d.role!==void 0)?r=l:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Zh(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,qa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(i){const t={},l=u(i,["file"]);return l!=null&&c(t,["file"],l),t}function zT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function BT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],Ag(l)),t}function OT(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function JT(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","file"],Ag(l)),t}function FT(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function YT(i){const t={},l=u(i,["config"]);return l!=null&&FT(l,t),t}function KT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["files"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XT extends Wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new nl($n.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YT(t);return d=ee("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const h=KT(v),x=new $x;return Object.assign(x,h),x})}}async createInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VT(t);return d=ee("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=zT(v),x=new Wx;return Object.assign(x,h),x})}}async get(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JT(t);return d=ee("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=BT(t);return d=ee("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const h=OT(v),x=new eS;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Da(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function QT(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>dE(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function ZT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function jT(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $T(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function WT(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&c(t,["logprobs"],v);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const b=u(i,["responseMimeType"]);b!=null&&c(t,["responseMimeType"],b);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const P=u(i,["responseSchema"]);P!=null&&c(t,["responseSchema"],P);const I=u(i,["routingConfig"]);I!=null&&c(t,["routingConfig"],I);const J=u(i,["seed"]);J!=null&&c(t,["seed"],J);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const z=u(i,["stopSequences"]);z!=null&&c(t,["stopSequences"],z);const O=u(i,["temperature"]);O!=null&&c(t,["temperature"],O);const q=u(i,["thinkingConfig"]);q!=null&&c(t,["thinkingConfig"],q);const $=u(i,["topK"]);$!=null&&c(t,["topK"],$);const Q=u(i,["topP"]);if(Q!=null&&c(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function eE(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function tE(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function nE(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Uc(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const b=u(i,["enableAffectiveDialog"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],QT(Lt(N)));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let $=Yl(P);Array.isArray($)&&($=$.map(Q=>mE(Fl(Q)))),c(t,["setup","tools"],$)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&c(t,["setup","sessionResumption"],fE(I));const J=u(i,["inputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","inputAudioTranscription"],J);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const z=u(i,["realtimeInputConfig"]);t!==void 0&&z!=null&&c(t,["setup","realtimeInputConfig"],z);const O=u(i,["contextWindowCompression"]);t!==void 0&&O!=null&&c(t,["setup","contextWindowCompression"],O);const q=u(i,["proactivity"]);if(t!==void 0&&q!=null&&c(t,["setup","proactivity"],q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function iE(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],WT(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Uc(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const b=u(i,["enableAffectiveDialog"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],Lt(N));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let Q=Yl(P);Array.isArray(Q)&&(Q=Q.map(pe=>pE(Fl(pe)))),c(t,["setup","tools"],Q)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&c(t,["setup","sessionResumption"],I);const J=u(i,["inputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","inputAudioTranscription"],J);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const z=u(i,["realtimeInputConfig"]);t!==void 0&&z!=null&&c(t,["setup","realtimeInputConfig"],z);const O=u(i,["contextWindowCompression"]);t!==void 0&&O!=null&&c(t,["setup","contextWindowCompression"],O);const q=u(i,["proactivity"]);t!==void 0&&q!=null&&c(t,["setup","proactivity"],q);const $=u(i,["explicitVadSignal"]);return t!==void 0&&$!=null&&c(t,["setup","explicitVadSignal"],$),l}function lE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["setup","model"],Ge(i,s));const r=u(t,["config"]);return r!=null&&c(l,["config"],nE(r,l)),l}function oE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["setup","model"],Ge(i,s));const r=u(t,["config"]);return r!=null&&c(l,["config"],iE(r,l)),l}function sE(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&c(t,["musicGenerationConfig"],l),t}function aE(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["weightedPrompts"],s)}return t}function rE(i){const t={},l=u(i,["media"]);if(l!=null){let h=Tg(l);Array.isArray(h)&&(h=h.map(x=>Da(x))),c(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],Da(_g(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Da(Eg(d)));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(t,["activityEnd"],v),t}function uE(i){const t={},l=u(i,["media"]);if(l!=null){let h=Tg(l);Array.isArray(h)&&(h=h.map(x=>x)),c(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(t,["audio"],_g(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(t,["video"],Eg(d));const m=u(i,["text"]);m!=null&&c(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(t,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(t,["activityEnd"],v),t}function cE(i){const t={},l=u(i,["setupComplete"]);l!=null&&c(t,["setupComplete"],l);const s=u(i,["serverContent"]);s!=null&&c(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(t,["toolCallCancellation"],d);const m=u(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],hE(m));const g=u(i,["goAway"]);g!=null&&c(t,["goAway"],g);const v=u(i,["sessionResumptionUpdate"]);v!=null&&c(t,["sessionResumptionUpdate"],v);const h=u(i,["voiceActivityDetectionSignal"]);return h!=null&&c(t,["voiceActivityDetectionSignal"],h),t}function dE(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],ZT(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],jT(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],Da(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function fE(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function mE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],eE(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],tE(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function pE(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>$T(E))),c(t,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function hE(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&c(t,["promptTokenCount"],l);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(t,["toolUsePromptTokenCount"],d);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&c(t,["totalTokenCount"],g);const v=u(i,["promptTokensDetails"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(N=>N)),c(t,["promptTokensDetails"],b)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(N=>N)),c(t,["cacheTokensDetails"],b)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(N=>N)),c(t,["responseTokensDetails"],b)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(N=>N)),c(t,["toolUsePromptTokensDetails"],b)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function yE(i){const t={},l=u(i,["content"]);l!=null&&c(t,["content"],l);const s=u(i,["citationMetadata"]);s!=null&&c(t,["citationMetadata"],vE(s));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(t,["finishReason"],d);const m=u(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(t,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&c(t,["index"],v);const h=u(i,["logprobsResult"]);h!=null&&c(t,["logprobsResult"],h);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(b=>b)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function vE(i){const t={},l=u(i,["citationSources"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),c(t,["citations"],s)}return t}function xE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["contents"]);if(r!=null){let d=dn(r);Array.isArray(d)&&(d=d.map(m=>m)),c(l,["contents"],d)}return l}function SE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["tokensInfo"],r)}return t}function TE(i){const t={},l=u(i,["values"]);l!=null&&c(t,["values"],l);const s=u(i,["statistics"]);return s!=null&&c(t,["statistics"],EE(s)),t}function EE(i){const t={},l=u(i,["truncated"]);l!=null&&c(t,["truncated"],l);const s=u(i,["token_count"]);return s!=null&&c(t,["tokenCount"],s),t}function Va(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>I_(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function _E(i){const t={},l=u(i,["controlType"]);l!=null&&c(t,["controlType"],l);const s=u(i,["enableControlImageComputation"]);return s!=null&&c(t,["computeControl"],s),t}function bE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function CE(i,t){const l={},s=u(i,["systemInstruction"]);t!==void 0&&s!=null&&c(t,["systemInstruction"],Lt(s));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>Gg(g))),c(t,["tools"],m)}const d=u(i,["generationConfig"]);return t!==void 0&&d!=null&&c(t,["generationConfig"],g_(d)),l}function AE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["contents"]);if(r!=null){let m=dn(r);Array.isArray(m)&&(m=m.map(g=>Va(g))),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&bE(d),l}function NE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["contents"]);if(r!=null){let m=dn(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&CE(d,l),l}function wE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["totalTokens"]);s!=null&&c(t,["totalTokens"],s);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function RE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["totalTokens"]);return s!=null&&c(t,["totalTokens"],s),t}function ME(i,t){const l={},s=u(t,["model"]);return s!=null&&c(l,["_url","name"],Ge(i,s)),l}function IE(i,t){const l={},s=u(t,["model"]);return s!=null&&c(l,["_url","name"],Ge(i,s)),l}function DE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function UE(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}function kE(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const b=u(i,["language"]);t!==void 0&&b!=null&&c(t,["parameters","language"],b);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const P=u(i,["outputCompressionQuality"]);t!==void 0&&P!=null&&c(t,["parameters","outputOptions","compressionQuality"],P);const I=u(i,["addWatermark"]);t!==void 0&&I!=null&&c(t,["parameters","addWatermark"],I);const J=u(i,["labels"]);t!==void 0&&J!=null&&c(t,["labels"],J);const X=u(i,["editMode"]);t!==void 0&&X!=null&&c(t,["parameters","editMode"],X);const z=u(i,["baseSteps"]);return t!==void 0&&z!=null&&c(t,["parameters","editConfig","baseSteps"],z),l}function LE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>G_(v))),c(l,["instances[0]","referenceImages"],g)}const m=u(t,["config"]);return m!=null&&kE(m,l),l}function PE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>za(d))),c(t,["generatedImages"],r)}return t}function GE(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(t!==void 0&&d!=null&&c(t,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function HE(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&c(t,["instances[]","task_type"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const d=u(i,["outputDimensionality"]);t!==void 0&&d!=null&&c(t,["parameters","outputDimensionality"],d);const m=u(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return t!==void 0&&g!=null&&c(t,["parameters","autoTruncate"],g),l}function qE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["contents"]);if(r!=null){let g=Mc(i,r);Array.isArray(g)&&(g=g.map(v=>v)),c(l,["requests[]","content"],g)}const d=u(t,["config"]);d!=null&&GE(d,l);const m=u(t,["model"]);return m!==void 0&&c(l,["requests[]","model"],Ge(i,m)),l}function VE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["contents"]);if(r!=null){let m=Mc(i,r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["instances[]","content"],m)}const d=u(t,["config"]);return d!=null&&HE(d,l),l}function zE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function BE(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>TE(m))),c(t,["embeddings"],d)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function OE(i){const t={},l=u(i,["endpoint"]);l!=null&&c(t,["name"],l);const s=u(i,["deployedModelId"]);return s!=null&&c(t,["deployedModelId"],s),t}function JE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function FE(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function YE(i){const t={},l=u(i,["mode"]);l!=null&&c(t,["mode"],l);const s=u(i,["allowedFunctionNames"]);if(s!=null&&c(t,["allowedFunctionNames"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function KE(i){const t={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(i,["description"]);l!=null&&c(t,["description"],l);const s=u(i,["name"]);s!=null&&c(t,["name"],s);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(t,["parametersJsonSchema"],d);const m=u(i,["response"]);m!=null&&c(t,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(t,["responseJsonSchema"],g),t}function XE(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Va(Lt(r)));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(s,["topP"],m);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const b=u(t,["presencePenalty"]);b!=null&&c(s,["presencePenalty"],b);const N=u(t,["frequencyPenalty"]);N!=null&&c(s,["frequencyPenalty"],N);const P=u(t,["seed"]);P!=null&&c(s,["seed"],P);const I=u(t,["responseMimeType"]);I!=null&&c(s,["responseMimeType"],I);const J=u(t,["responseSchema"]);J!=null&&c(s,["responseSchema"],Ic(J));const X=u(t,["responseJsonSchema"]);if(X!=null&&c(s,["responseJsonSchema"],X),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(t,["safetySettings"]);if(l!==void 0&&z!=null){let ge=z;Array.isArray(ge)&&(ge=ge.map(Ue=>H_(Ue))),c(l,["safetySettings"],ge)}const O=u(t,["tools"]);if(l!==void 0&&O!=null){let ge=Yl(O);Array.isArray(ge)&&(ge=ge.map(Ue=>F_(Fl(Ue)))),c(l,["tools"],ge)}const q=u(t,["toolConfig"]);if(l!==void 0&&q!=null&&c(l,["toolConfig"],J_(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=u(t,["cachedContent"]);l!==void 0&&$!=null&&c(l,["cachedContent"],ei(i,$));const Q=u(t,["responseModalities"]);Q!=null&&c(s,["responseModalities"],Q);const pe=u(t,["mediaResolution"]);pe!=null&&c(s,["mediaResolution"],pe);const te=u(t,["speechConfig"]);if(te!=null&&c(s,["speechConfig"],Dc(te)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(t,["thinkingConfig"]);he!=null&&c(s,["thinkingConfig"],he);const le=u(t,["imageConfig"]);le!=null&&c(s,["imageConfig"],T_(le));const Ne=u(t,["enableEnhancedCivicAnswers"]);return Ne!=null&&c(s,["enableEnhancedCivicAnswers"],Ne),s}function QE(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Lt(r));const d=u(t,["temperature"]);d!=null&&c(s,["temperature"],d);const m=u(t,["topP"]);m!=null&&c(s,["topP"],m);const g=u(t,["topK"]);g!=null&&c(s,["topK"],g);const v=u(t,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const h=u(t,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&c(s,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(s,["logprobs"],E);const b=u(t,["presencePenalty"]);b!=null&&c(s,["presencePenalty"],b);const N=u(t,["frequencyPenalty"]);N!=null&&c(s,["frequencyPenalty"],N);const P=u(t,["seed"]);P!=null&&c(s,["seed"],P);const I=u(t,["responseMimeType"]);I!=null&&c(s,["responseMimeType"],I);const J=u(t,["responseSchema"]);J!=null&&c(s,["responseSchema"],Ic(J));const X=u(t,["responseJsonSchema"]);X!=null&&c(s,["responseJsonSchema"],X);const z=u(t,["routingConfig"]);z!=null&&c(s,["routingConfig"],z);const O=u(t,["modelSelectionConfig"]);O!=null&&c(s,["modelConfig"],O);const q=u(t,["safetySettings"]);if(l!==void 0&&q!=null){let L=q;Array.isArray(L)&&(L=L.map(j=>j)),c(l,["safetySettings"],L)}const $=u(t,["tools"]);if(l!==void 0&&$!=null){let L=Yl($);Array.isArray(L)&&(L=L.map(j=>Gg(Fl(j)))),c(l,["tools"],L)}const Q=u(t,["toolConfig"]);l!==void 0&&Q!=null&&c(l,["toolConfig"],Q);const pe=u(t,["labels"]);l!==void 0&&pe!=null&&c(l,["labels"],pe);const te=u(t,["cachedContent"]);l!==void 0&&te!=null&&c(l,["cachedContent"],ei(i,te));const he=u(t,["responseModalities"]);he!=null&&c(s,["responseModalities"],he);const le=u(t,["mediaResolution"]);le!=null&&c(s,["mediaResolution"],le);const Ne=u(t,["speechConfig"]);Ne!=null&&c(s,["speechConfig"],Dc(Ne));const ge=u(t,["audioTimestamp"]);ge!=null&&c(s,["audioTimestamp"],ge);const Ue=u(t,["thinkingConfig"]);Ue!=null&&c(s,["thinkingConfig"],Ue);const it=u(t,["imageConfig"]);if(it!=null&&c(s,["imageConfig"],E_(it)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return s}function jh(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["contents"]);if(r!=null){let m=dn(r);Array.isArray(m)&&(m=m.map(g=>Va(g))),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],XE(i,d,l)),l}function $h(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["contents"]);if(r!=null){let m=dn(r);Array.isArray(m)&&(m=m.map(g=>g)),c(l,["contents"],m)}const d=u(t,["config"]);return d!=null&&c(l,["generationConfig"],QE(i,d,l)),l}function Wh(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(h=>yE(h))),c(t,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(t,["promptFeedback"],d);const m=u(i,["responseId"]);m!=null&&c(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(t,["usageMetadata"],g),t}function eg(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(x=>x)),c(t,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const d=u(i,["modelVersion"]);d!=null&&c(t,["modelVersion"],d);const m=u(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&c(t,["responseId"],g);const v=u(i,["usageMetadata"]);return v!=null&&c(t,["usageMetadata"],v),t}function ZE(i,t){const l={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const d=u(i,["guidanceScale"]);if(t!==void 0&&d!=null&&c(t,["parameters","guidanceScale"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g);const v=u(i,["includeSafetyAttributes"]);t!==void 0&&v!=null&&c(t,["parameters","includeSafetyAttributes"],v);const h=u(i,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const x=u(i,["language"]);t!==void 0&&x!=null&&c(t,["parameters","language"],x);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=u(i,["imageSize"]);if(t!==void 0&&b!=null&&c(t,["parameters","sampleImageSize"],b),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function jE(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const d=u(i,["numberOfImages"]);t!==void 0&&d!=null&&c(t,["parameters","sampleCount"],d);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);t!==void 0&&g!=null&&c(t,["parameters","guidanceScale"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const b=u(i,["language"]);t!==void 0&&b!=null&&c(t,["parameters","language"],b);const N=u(i,["outputMimeType"]);t!==void 0&&N!=null&&c(t,["parameters","outputOptions","mimeType"],N);const P=u(i,["outputCompressionQuality"]);t!==void 0&&P!=null&&c(t,["parameters","outputOptions","compressionQuality"],P);const I=u(i,["addWatermark"]);t!==void 0&&I!=null&&c(t,["parameters","addWatermark"],I);const J=u(i,["labels"]);t!==void 0&&J!=null&&c(t,["labels"],J);const X=u(i,["imageSize"]);t!==void 0&&X!=null&&c(t,["parameters","sampleImageSize"],X);const z=u(i,["enhancePrompt"]);return t!==void 0&&z!=null&&c(t,["parameters","enhancePrompt"],z),l}function $E(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&ZE(d,l),l}function WE(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["config"]);return d!=null&&jE(d,l),l}function e_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>f_(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Lg(r)),t}function t_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>za(m))),c(t,["generatedImages"],d)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],Pg(r)),t}function n_(i,t){const l={},s=u(i,["numberOfVideos"]);if(t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(i,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const m=u(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(t!==void 0&&g!=null&&c(t,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=u(i,["negativePrompt"]);t!==void 0&&v!=null&&c(t,["parameters","negativePrompt"],v);const h=u(i,["enhancePrompt"]);if(t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const x=u(i,["lastFrame"]);t!==void 0&&x!=null&&c(t,["instances[0]","lastFrame"],Ba(x));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(b=>lb(b))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function i_(i,t){const l={},s=u(i,["numberOfVideos"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const d=u(i,["fps"]);t!==void 0&&d!=null&&c(t,["parameters","fps"],d);const m=u(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&c(t,["parameters","seed"],g);const v=u(i,["aspectRatio"]);t!==void 0&&v!=null&&c(t,["parameters","aspectRatio"],v);const h=u(i,["resolution"]);t!==void 0&&h!=null&&c(t,["parameters","resolution"],h);const x=u(i,["personGeneration"]);t!==void 0&&x!=null&&c(t,["parameters","personGeneration"],x);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const b=u(i,["enhancePrompt"]);t!==void 0&&b!=null&&c(t,["parameters","enhancePrompt"],b);const N=u(i,["generateAudio"]);t!==void 0&&N!=null&&c(t,["parameters","generateAudio"],N);const P=u(i,["lastFrame"]);t!==void 0&&P!=null&&c(t,["instances[0]","lastFrame"],Sn(P));const I=u(i,["referenceImages"]);if(t!==void 0&&I!=null){let z=I;Array.isArray(z)&&(z=z.map(O=>ob(O))),c(t,["instances[0]","referenceImages"],z)}const J=u(i,["mask"]);t!==void 0&&J!=null&&c(t,["instances[0]","mask"],ib(J));const X=u(i,["compressionQuality"]);return t!==void 0&&X!=null&&c(t,["parameters","compressionQuality"],X),l}function l_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],r_(m)),t}function o_(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],u_(m)),t}function s_(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],Ba(d));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],Hg(m));const g=u(t,["source"]);g!=null&&c_(g,l);const v=u(t,["config"]);return v!=null&&n_(v,l),l}function a_(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const d=u(t,["image"]);d!=null&&c(l,["instances[0]","image"],Sn(d));const m=u(t,["video"]);m!=null&&c(l,["instances[0]","video"],qg(m));const g=u(t,["source"]);g!=null&&d_(g,l);const v=u(t,["config"]);return v!=null&&i_(v,l),l}function r_(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>p_(m))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function u_(i){const t={},l=u(i,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>h_(m))),c(t,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function c_(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Ba(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],Hg(d)),l}function d_(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Sn(r));const d=u(i,["video"]);return t!==void 0&&d!=null&&c(t,["instances[0]","video"],qg(d)),l}function f_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],__(l));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],Lg(r)),t}function za(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["image"],kg(l));const s=u(i,["raiFilteredReason"]);s!=null&&c(t,["raiFilteredReason"],s);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],Pg(r));const d=u(i,["prompt"]);return d!=null&&c(t,["enhancedPrompt"],d),t}function m_(i){const t={},l=u(i,["_self"]);l!=null&&c(t,["mask"],kg(l));const s=u(i,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["labels"],r)}return t}function p_(i){const t={},l=u(i,["video"]);return l!=null&&c(t,["video"],tb(l)),t}function h_(i){const t={},l=u(i,["_self"]);return l!=null&&c(t,["video"],nb(l)),t}function g_(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&c(t,["modelConfig"],l);const s=u(i,["responseJsonSchema"]);s!=null&&c(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(t,["candidateCount"],d);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(t,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&c(t,["logprobs"],v);const h=u(i,["maxOutputTokens"]);h!=null&&c(t,["maxOutputTokens"],h);const x=u(i,["mediaResolution"]);x!=null&&c(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const b=u(i,["responseMimeType"]);b!=null&&c(t,["responseMimeType"],b);const N=u(i,["responseModalities"]);N!=null&&c(t,["responseModalities"],N);const P=u(i,["responseSchema"]);P!=null&&c(t,["responseSchema"],P);const I=u(i,["routingConfig"]);I!=null&&c(t,["routingConfig"],I);const J=u(i,["seed"]);J!=null&&c(t,["seed"],J);const X=u(i,["speechConfig"]);X!=null&&c(t,["speechConfig"],X);const z=u(i,["stopSequences"]);z!=null&&c(t,["stopSequences"],z);const O=u(i,["temperature"]);O!=null&&c(t,["temperature"],O);const q=u(i,["thinkingConfig"]);q!=null&&c(t,["thinkingConfig"],q);const $=u(i,["topK"]);$!=null&&c(t,["topK"],$);const Q=u(i,["topP"]);if(Q!=null&&c(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function y_(i,t){const l={},s=u(t,["model"]);return s!=null&&c(l,["_url","name"],Ge(i,s)),l}function v_(i,t){const l={},s=u(t,["model"]);return s!=null&&c(l,["_url","name"],Ge(i,s)),l}function x_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function S_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function T_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const s=u(i,["imageSize"]);if(s!=null&&c(t,["imageSize"],s),u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function E_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&c(t,["aspectRatio"],l);const s=u(i,["imageSize"]);s!=null&&c(t,["imageSize"],s);const r=u(i,["outputMimeType"]);r!=null&&c(t,["imageOutputOptions","mimeType"],r);const d=u(i,["outputCompressionQuality"]);return d!=null&&c(t,["imageOutputOptions","compressionQuality"],d),t}function __(i){const t={},l=u(i,["bytesBase64Encoded"]);l!=null&&c(t,["imageBytes"],Li(l));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function kg(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["imageBytes"],Li(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Ba(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(i,["imageBytes"]);l!=null&&c(t,["bytesBase64Encoded"],Li(l));const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Sn(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["gcsUri"],l);const s=u(i,["imageBytes"]);s!=null&&c(t,["bytesBase64Encoded"],Li(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function b_(i,t,l){const s={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],Ng(i,g)),s}function C_(i,t,l){const s={},r=u(t,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const d=u(t,["pageToken"]);l!==void 0&&d!=null&&c(l,["_query","pageToken"],d);const m=u(t,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const g=u(t,["queryBase"]);return l!==void 0&&g!=null&&c(l,["_url","models_url"],Ng(i,g)),s}function A_(i,t){const l={},s=u(t,["config"]);return s!=null&&b_(i,s,l),l}function N_(i,t){const l={},s=u(t,["config"]);return s!=null&&C_(i,s,l),l}function w_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=wg(r);Array.isArray(d)&&(d=d.map(m=>yc(m))),c(t,["models"],d)}return t}function R_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let d=wg(r);Array.isArray(d)&&(d=d.map(m=>vc(m))),c(t,["models"],d)}return t}function M_(i){const t={},l=u(i,["maskMode"]);l!=null&&c(t,["maskMode"],l);const s=u(i,["segmentationClasses"]);s!=null&&c(t,["maskClasses"],s);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function yc(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["version"]);d!=null&&c(t,["version"],d);const m=u(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],Y_(m));const g=u(i,["inputTokenLimit"]);g!=null&&c(t,["inputTokenLimit"],g);const v=u(i,["outputTokenLimit"]);v!=null&&c(t,["outputTokenLimit"],v);const h=u(i,["supportedGenerationMethods"]);h!=null&&c(t,["supportedActions"],h);const x=u(i,["temperature"]);x!=null&&c(t,["temperature"],x);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const b=u(i,["topK"]);b!=null&&c(t,["topK"],b);const N=u(i,["thinking"]);return N!=null&&c(t,["thinking"],N),t}function vc(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["displayName"]);s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const d=u(i,["versionId"]);d!=null&&c(t,["version"],d);const m=u(i,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(E=>OE(E))),c(t,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(t,["labels"],g);const v=u(i,["_self"]);v!=null&&c(t,["tunedModelInfo"],K_(v));const h=u(i,["defaultCheckpointId"]);h!=null&&c(t,["defaultCheckpointId"],h);const x=u(i,["checkpoints"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function I_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],JE(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],FE(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],gE(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function D_(i){const t={},l=u(i,["productImage"]);return l!=null&&c(t,["image"],Sn(l)),t}function U_(i,t){const l={},s=u(i,["numberOfImages"]);t!==void 0&&s!=null&&c(t,["parameters","sampleCount"],s);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const d=u(i,["outputGcsUri"]);t!==void 0&&d!=null&&c(t,["parameters","storageUri"],d);const m=u(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const h=u(i,["addWatermark"]);t!==void 0&&h!=null&&c(t,["parameters","addWatermark"],h);const x=u(i,["outputMimeType"]);t!==void 0&&x!=null&&c(t,["parameters","outputOptions","mimeType"],x);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const b=u(i,["labels"]);return t!==void 0&&b!=null&&c(t,["labels"],b),l}function k_(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["source"]);r!=null&&P_(r,l);const d=u(t,["config"]);return d!=null&&U_(d,l),l}function L_(i){const t={},l=u(i,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>za(r))),c(t,["generatedImages"],s)}return t}function P_(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Sn(r));const d=u(i,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>D_(g))),c(t,["instances[0]","productImages"],m)}return l}function G_(i){const t={},l=u(i,["referenceImage"]);l!=null&&c(t,["referenceImage"],Sn(l));const s=u(i,["referenceId"]);s!=null&&c(t,["referenceId"],s);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const d=u(i,["maskImageConfig"]);d!=null&&c(t,["maskImageConfig"],M_(d));const m=u(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],_E(m));const g=u(i,["styleImageConfig"]);g!=null&&c(t,["styleImageConfig"],g);const v=u(i,["subjectImageConfig"]);return v!=null&&c(t,["subjectImageConfig"],v),t}function Lg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function Pg(i){const t={},l=u(i,["safetyAttributes","categories"]);l!=null&&c(t,["categories"],l);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(t,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function H_(i){const t={},l=u(i,["category"]);if(l!=null&&c(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(t,["threshold"],s),t}function q_(i){const t={},l=u(i,["image"]);return l!=null&&c(t,["image"],Sn(l)),t}function V_(i,t){const l={},s=u(i,["mode"]);t!==void 0&&s!=null&&c(t,["parameters","mode"],s);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const d=u(i,["confidenceThreshold"]);t!==void 0&&d!=null&&c(t,["parameters","confidenceThreshold"],d);const m=u(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);t!==void 0&&g!=null&&c(t,["parameters","binaryColorThreshold"],g);const v=u(i,["labels"]);return t!==void 0&&v!=null&&c(t,["labels"],v),l}function z_(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["source"]);r!=null&&O_(r,l);const d=u(t,["config"]);return d!=null&&V_(d,l),l}function B_(i){const t={},l=u(i,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>m_(r))),c(t,["generatedMasks"],s)}return t}function O_(i,t){const l={},s=u(i,["prompt"]);t!==void 0&&s!=null&&c(t,["instances[0]","prompt"],s);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Sn(r));const d=u(i,["scribbleImage"]);return t!==void 0&&d!=null&&c(t,["instances[0]","scribble"],q_(d)),l}function J_(i){const t={},l=u(i,["functionCallingConfig"]);l!=null&&c(t,["functionCallingConfig"],YE(l));const s=u(i,["retrievalConfig"]);return s!=null&&c(t,["retrievalConfig"],s),t}function F_(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],x_(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],S_(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}function Gg(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(E=>KE(E))),c(t,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(t,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(t,["googleSearchRetrieval"],r);const d=u(i,["computerUse"]);if(d!=null&&c(t,["computerUse"],d),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(t,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(t,["enterpriseWebSearch"],g);const v=u(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],h);const x=u(i,["urlContext"]);return x!=null&&c(t,["urlContext"],x),t}function Y_(i){const t={},l=u(i,["baseModel"]);l!=null&&c(t,["baseModel"],l);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function K_(i){const t={},l=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(t,["baseModel"],l);const s=u(i,["createTime"]);s!=null&&c(t,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function X_(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function Q_(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&c(t,["displayName"],s);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const d=u(i,["defaultCheckpointId"]);return t!==void 0&&d!=null&&c(t,["defaultCheckpointId"],d),l}function Z_(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","name"],Ge(i,s));const r=u(t,["config"]);return r!=null&&X_(r,l),l}function j_(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["config"]);return r!=null&&Q_(r,l),l}function $_(i,t){const l={},s=u(i,["outputGcsUri"]);t!==void 0&&s!=null&&c(t,["parameters","storageUri"],s);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=u(i,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const m=u(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);t!==void 0&&g!=null&&c(t,["parameters","outputOptions","mimeType"],g);const v=u(i,["outputCompressionQuality"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","compressionQuality"],v);const h=u(i,["enhanceInputImage"]);t!==void 0&&h!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],h);const x=u(i,["imagePreservationFactor"]);t!==void 0&&x!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],x);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const b=u(i,["mode"]);return t!==void 0&&b!=null&&c(t,["parameters","mode"],b),l}function W_(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["_url","model"],Ge(i,s));const r=u(t,["image"]);r!=null&&c(l,["instances[0]","image"],Sn(r));const d=u(t,["upscaleFactor"]);d!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],d);const m=u(t,["config"]);return m!=null&&$_(m,l),l}function eb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>za(d))),c(t,["generatedImages"],r)}return t}function tb(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const s=u(i,["encodedVideo"]);s!=null&&c(t,["videoBytes"],Li(s));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function nb(i){const t={},l=u(i,["gcsUri"]);l!=null&&c(t,["uri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(t,["videoBytes"],Li(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function ib(i){const t={},l=u(i,["image"]);l!=null&&c(t,["_self"],Sn(l));const s=u(i,["maskMode"]);return s!=null&&c(t,["maskMode"],s),t}function lb(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Ba(l));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function ob(i){const t={},l=u(i,["image"]);l!=null&&c(t,["image"],Sn(l));const s=u(i,["referenceType"]);return s!=null&&c(t,["referenceType"],s),t}function Hg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["uri"],l);const s=u(i,["videoBytes"]);s!=null&&c(t,["encodedVideo"],Li(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function qg(i){const t={},l=u(i,["uri"]);l!=null&&c(t,["gcsUri"],l);const s=u(i,["videoBytes"]);s!=null&&c(t,["bytesBase64Encoded"],Li(s));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sb(i,t){const l={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&c(t,["displayName"],s),l}function ab(i){const t={},l=u(i,["config"]);return l!=null&&sb(l,t),t}function rb(i,t){const l={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),l}function ub(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const s=u(i,["config"]);return s!=null&&rb(s,t),t}function cb(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function db(i,t){const l={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),l}function fb(i){const t={},l=u(i,["name"]);l!=null&&c(t,["name"],l);const s=u(i,["metadata"]);s!=null&&c(t,["metadata"],s);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const d=u(i,["error"]);d!=null&&c(t,["error"],d);const m=u(i,["response"]);return m!=null&&c(t,["response"],pb(m)),t}function mb(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const s=u(i,["fileName"]);s!=null&&c(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&db(r,t),t}function pb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&c(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function hb(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function gb(i){const t={},l=u(i,["config"]);return l!=null&&hb(l,t),t}function yb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["fileSearchStores"],d)}return t}function Vg(i,t){const l={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&c(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const d=u(i,["customMetadata"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),l}function vb(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&c(t,["_url","file_search_store_name"],l);const s=u(i,["config"]);return s!=null&&Vg(s,t),t}function xb(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&c(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sb="Content-Type",Tb="X-Server-Timeout",Eb="User-Agent",xc="x-goog-api-client",_b="1.34.0",bb=`google-genai-sdk/${_b}`,Cb="v1beta1",Ab="v1beta";class Nb{constructor(t){var l,s;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:Cb,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:Ab,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,s){const r=[this.getRequestUrlInternal(l)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,s);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let d={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=t.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.unaryApiCall(r,d,t.httpMethod)}patchHttpOptions(t,l){const s=JSON.parse(JSON.stringify(t));for(const[r,d]of Object.entries(l))typeof d=="object"?s[r]=Object.assign(Object.assign({},s[r]),d):d!==void 0&&(s[r]=d);return s}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,l,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=t.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,r.toString(),t.abortSignal),this.streamApiCall(r,d,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,s,r){if(l&&l.timeout||r){const d=new AbortController,m=d.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>d.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),t.signal=m}return l&&l.extraBody!==null&&wb(t,l.extraBody),t.headers=await this.getHeadersInternal(l,s),t}async unaryApiCall(t,l,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:s})).then(async r=>(await tg(r),new pc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:s})).then(async r=>(await tg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return vn(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:x}=yield ye(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=d.decode(x,{stream:!0});try{const N=JSON.parse(T);if("error"in N){const P=JSON.parse(JSON.stringify(N.error)),I=P.status,J=P.code,X=`got status: ${I}. ${JSON.stringify(N)}`;if(J>=400&&J<600)throw new qa({message:X,status:J})}}catch(N){if(N.name==="ApiError")throw N}m+=T;let E=-1,b=0;for(;;){E=-1,b=0;for(const I of v){const J=m.indexOf(I);J!==-1&&(E===-1||J<E)&&(E=J,b=I.length)}if(E===-1)break;const N=m.substring(0,E);m=m.substring(E+b);const P=N.trim();if(P.startsWith(g)){const I=P.substring(g.length).trim();try{const J=new Response(I,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ye(new pc(J))}catch(J){throw new Error(`exception parsing stream chunk ${I}. ${J}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){return fetch(t,l).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},l=bb+" "+this.clientOptions.userAgentExtra;return t[Eb]=l,t[xc]=l,t[Sb]="application/json",t}async getHeadersInternal(t,l){const s=new Headers;if(t&&t.headers){for(const[r,d]of Object.entries(t.headers))s.append(r,d);t.timeout&&t.timeout>0&&s.append(Tb,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,l),s}getFileName(t){var l;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(l=s.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),s}async uploadFile(t,l){var s;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,m=await d.stat(t);r.sizeBytes=String(m.size);const g=(s=l==null?void 0:l.mimeType)!==null&&s!==void 0?s:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const v={file:r},h=this.getFileName(t),x=ee("upload/v1beta/files",v._url),T=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,h,v,l==null?void 0:l.httpOptions);return d.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,s){var r;const d=this.clientOptions.uploader,m=await d.stat(l),g=String(m.size),v=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:m.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(l),T={};s!=null&&Vg(s,T);const E=await this.fetchUploadUrl(h,g,v,x,T,s==null?void 0:s.httpOptions);return d.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,s,r,d,m){var g;let v={};m?v=m:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(d),httpMethod:"POST",httpOptions:v});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function tg(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw l>=400&&l<600?new qa({message:r,status:l}):new Error(r)}}function wb(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,m){const g=Object.assign({},d);for(const v in m)if(Object.prototype.hasOwnProperty.call(m,v)){const h=m[v],x=g[v];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?g[v]=s(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),g[v]=h)}return g}const r=s(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rb="mcp_used/unknown";let Mb=!1;function zg(i){for(const t of i)if(Ib(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Mb}function Bg(i){var t;const l=(t=i[xc])!==null&&t!==void 0?t:"";i[xc]=(l+` ${Rb}`).trimStart()}function Ib(i){return i!==null&&typeof i=="object"&&i instanceof kc}function Db(i){return vn(this,arguments,function*(l,s=100){let r,d=0;for(;d<s;){const m=yield ye(l.listTools({cursor:r}));for(const g of m.tools)yield yield ye(g),d++;if(!m.nextCursor)break;r=m.nextCursor}})}class kc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new kc(t,l)}async initialize(){var t,l,s,r;if(this.mcpTools.length>0)return;const d={},m=[];for(const x of this.mcpClients)try{for(var g=!0,v=(l=void 0,xn(Db(x))),h;h=await v.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const T=r;m.push(T);const E=T.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=x}}catch(T){l={error:T}}finally{try{!g&&!t&&(s=v.return)&&await s.call(v)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),cS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await r.callTool({name:s.name,arguments:s.args},void 0,d);l.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ub(i,t,l){const s=new nS;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(s,r),t(s)}class kb{constructor(t,l,s){this.apiClient=t,this.auth=l,this.webSocketFactory=s}async connect(t){var l,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=Gb(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const x=new Promise(z=>{h=z}),T=t.callbacks,E=function(){h({})},b=this.apiClient,N={onopen:E,onmessage:z=>{Ub(b,T.onmessage,z)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(z){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(z){}},P=this.webSocketFactory.create(v,Pb(m),N);P.connect(),await x;const X={setup:{model:Ge(this.apiClient,t.model)}};return P.send(JSON.stringify(X)),new Lb(P,this.apiClient)}}class Lb{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=aE(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=sE(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(zl.PLAY)}pause(){this.sendPlaybackControl(zl.PAUSE)}stop(){this.sendPlaybackControl(zl.STOP)}resetContext(){this.sendPlaybackControl(zl.RESET_CONTEXT)}close(){this.conn.close()}}function Pb(i){const t={};return i.forEach((l,s)=>{t[s]=l}),t}function Gb(i){const t=new Headers;for(const[l,s]of Object.entries(i))t.append(l,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qb(i,t,l){const s=new tS;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const d=JSON.parse(r);if(i.isVertexAI()){const m=cE(d);Object.assign(s,m)}else Object.assign(s,d);t(s)}class Vb{constructor(t,l,s){this.apiClient=t,this.auth=l,this.webSocketFactory=s,this.music=new kb(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,s,r,d,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&zg(t.config.tools)&&Bg(T);const E=Jb(T);if(this.apiClient.isVertexAI())x=`${v}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,x);else{const te=this.apiClient.getApiKey();let he="BidiGenerateContent",le="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",le="access_token"),x=`${v}/ws/google.ai.generativelanguage.${h}.GenerativeService.${he}?${le}=${te}`}let b=()=>{};const N=new Promise(te=>{b=te}),P=t.callbacks,I=function(){var te;(te=P==null?void 0:P.onopen)===null||te===void 0||te.call(P),b({})},J=this.apiClient,X={onopen:I,onmessage:te=>{qb(J,P.onmessage,te)},onerror:(l=P==null?void 0:P.onerror)!==null&&l!==void 0?l:function(te){},onclose:(s=P==null?void 0:P.onclose)!==null&&s!==void 0?s:function(te){}},z=this.webSocketFactory.create(x,Ob(E),X);z.connect(),await N;let O=Ge(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const te=this.apiClient.getProject(),he=this.apiClient.getLocation();O=`projects/${te}/locations/${he}/`+O}let q={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ua.AUDIO]}:t.config.responseModalities=[Ua.AUDIO]),!((d=t.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Q=[];for(const te of $)if(this.isCallableTool(te)){const he=te;Q.push(await he.tool())}else Q.push(te);Q.length>0&&(t.config.tools=Q);const pe={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?q=oE(this.apiClient,pe):q=lE(this.apiClient,pe),delete q.config,z.send(JSON.stringify(q)),new Bb(z,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const zb={turnComplete:!0};class Bb{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let s=[];try{s=dn(l.turns),t.isVertexAI()||(s=s.map(r=>Va(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:s,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let s=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?s=l.functionResponses:s=[l.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!t.isVertexAI()&&!("id"in d))throw new Error(Hb)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},zb),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:uE(t)}:l={realtimeInput:rE(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function Ob(i){const t={};return i.forEach((l,s)=>{t[s]=l}),t}function Jb(i){const t=new Headers;for(const[l,s]of Object.entries(i))t.append(l,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ng=10;function ig(i){var t,l,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Jl(m)){r=!0;break}if(!r)return!0;const d=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Jl(i){return"callTool"in i&&typeof i.callTool=="function"}function Fb(i){var t,l,s;return(s=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>Jl(r)))!==null&&s!==void 0?s:!1}function lg(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(Jl(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&l.push(r)}),l}function og(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yb extends Wn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var s,r,d,m,g;const v=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!Fb(l)||ig(l.config))return await this.generateContentInternal(v);const h=lg(l);if(h.length>0){const P=h.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${P}.`)}let x,T;const E=dn(v.contents),b=(d=(r=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:ng;let N=0;for(;N<b&&(x=await this.generateContentInternal(v),!(!x.functionCalls||x.functionCalls.length===0));){const P=x.candidates[0].content,I=[];for(const J of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Jl(J)){const z=await J.callTool(x.functionCalls);I.push(...z)}N++,T={role:"user",parts:I},v.contents=dn(v.contents),v.contents.push(P),v.contents.push(T),og(v.config)&&(E.push(P),E.push(T))}return og(v.config)&&(x.automaticFunctionCallingHistory=E),x},this.generateContentStream=async l=>{var s,r,d,m,g;if(this.maybeMoveToResponseJsonSchem(l),ig(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const v=lg(l);if(v.length>0){const T=v.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(s=l==null?void 0:l.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,x=(g=(m=l==null?void 0:l.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(s=>{var r;let d;const m=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((r=v==null?void 0:v.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=v==null?void 0:v.safetyAttributes:m.push(v);let g;return d?g={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async l=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new nl($n.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const s={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(s.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async l=>{let s={numberOfImages:1,mode:"upscale"};l.config&&(s=Object.assign(Object.assign({},s),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var s,r,d,m,g,v;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=l.video)===null||s===void 0)&&s.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(d=l.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.uri&&(!((v=(g=l.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,s,r;const d=(l=t.config)===null||l===void 0?void 0:l.tools;if(!d)return t;const m=await Promise.all(d.map(async v=>Jl(v)?await v.tool():v)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&zg(t.config.tools)){const v=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},v);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Bg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,s,r;const d=new Map;for(const m of(s=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[])if(Jl(m)){const g=m,v=await g.tool();for(const h of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(t){var l,s,r;const d=(r=(s=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:ng;let m=!1,g=0;const v=await this.initAfcToolsMap(t);return(function(h,x,T){return vn(this,arguments,function*(){for(var E,b,N,P,I,J;g<d;){m&&(g++,m=!1);const q=yield ye(h.processParamsMaybeAddMcpUsage(T)),$=yield ye(h.generateContentStreamInternal(q)),Q=[],pe=[];try{for(var X=!0,z=(b=void 0,xn($)),O;O=yield ye(z.next()),E=O.done,!E;X=!0){P=O.value,X=!1;const te=P;if(yield yield ye(te),te.candidates&&(!((I=te.candidates[0])===null||I===void 0)&&I.content)){pe.push(te.candidates[0].content);for(const he of(J=te.candidates[0].content.parts)!==null&&J!==void 0?J:[])if(g<d&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(he.functionCall.name)){const le=yield ye(x.get(he.functionCall.name).callTool([he.functionCall]));Q.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(te){b={error:te}}finally{try{!X&&!E&&(N=z.return)&&(yield ye(N.call(z)))}finally{if(b)throw b.error}}if(Q.length>0){m=!0;const te=new Xo;te.candidates=[{content:{role:"user",parts:Q}}],yield yield ye(te);const he=[];he.push(...pe),he.push({role:"user",parts:Q});const le=dn(T.contents).concat(he);T.contents=le}else break}})})(this,v,t)}async generateContentInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=$h(this.apiClient,t);return g=ee("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=eg(x),E=new Xo;return Object.assign(E,T),E})}else{const h=jh(this.apiClient,t);return g=ee("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=Wh(x),E=new Xo;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=$h(this.apiClient,t);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(T){return vn(this,arguments,function*(){var E,b,N,P;try{for(var I=!0,J=xn(T),X;X=yield ye(J.next()),E=X.done,!E;I=!0){P=X.value,I=!1;const z=P,O=eg(yield ye(z.json()));O.sdkHttpResponse={headers:z.headers};const q=new Xo;Object.assign(q,O),yield yield ye(q)}}catch(z){b={error:z}}finally{try{!I&&!E&&(N=J.return)&&(yield ye(N.call(J)))}finally{if(b)throw b.error}}})})}else{const h=jh(this.apiClient,t);return g=ee("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(T){return vn(this,arguments,function*(){var E,b,N,P;try{for(var I=!0,J=xn(T),X;X=yield ye(J.next()),E=X.done,!E;I=!0){P=X.value,I=!1;const z=P,O=Wh(yield ye(z.json()));O.sdkHttpResponse={headers:z.headers};const q=new Xo;Object.assign(q,O),yield yield ye(q)}}catch(z){b={error:z}}finally{try{!I&&!E&&(N=J.return)&&(yield ye(N.call(J)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=VE(this.apiClient,t);return g=ee("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=BE(x),E=new kh;return Object.assign(E,T),E})}else{const h=qE(this.apiClient,t);return g=ee("{model}:batchEmbedContents",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=zE(x),E=new kh;return Object.assign(E,T),E})}}async generateImagesInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=WE(this.apiClient,t);return g=ee("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=t_(x),E=new Lh;return Object.assign(E,T),E})}else{const h=$E(this.apiClient,t);return g=ee("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=e_(x),E=new Lh;return Object.assign(E,T),E})}}async editImageInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=LE(this.apiClient,t);return d=ee("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const h=PE(v),x=new Jx;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=W_(this.apiClient,t);return d=ee("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const h=eb(v),x=new Fx;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=k_(this.apiClient,t);return d=ee("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=L_(v),x=new Yx;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=z_(this.apiClient,t);return d=ee("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=B_(v),x=new Kx;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=v_(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>vc(x))}else{const h=y_(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>yc(x))}}async listInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=N_(this.apiClient,t);return g=ee("{models_url}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=R_(x),E=new Ph;return Object.assign(E,T),E})}else{const h=A_(this.apiClient,t);return g=ee("{models_url}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=w_(x),E=new Ph;return Object.assign(E,T),E})}}async update(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=j_(this.apiClient,t);return g=ee("{model}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>vc(x))}else{const h=Z_(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>yc(x))}}async delete(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=IE(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=UE(x),E=new Gh;return Object.assign(E,T),E})}else{const h=ME(this.apiClient,t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=DE(x),E=new Gh;return Object.assign(E,T),E})}}async countTokens(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=NE(this.apiClient,t);return g=ee("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=RE(x),E=new Hh;return Object.assign(E,T),E})}else{const h=AE(this.apiClient,t);return g=ee("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=wE(x),E=new Hh;return Object.assign(E,T),E})}}async computeTokens(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=xE(this.apiClient,t);return d=ee("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>{const h=SE(v),x=new Xx;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=a_(this.apiClient,t);return g=ee("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m.then(x=>{const T=o_(x),E=new ka;return Object.assign(E,T),E})}else{const h=s_(this.apiClient,t);return g=ee("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m.then(x=>{const T=l_(x),E=new ka;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kb extends Wn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,s=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:s});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,s=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:s});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=Hx(t);return g=ee("{operationName}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),m}else{const h=Gx(t);return g=ee("{operationName}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=Mx(t);return d=ee("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xb(i){const t={},l=u(i,["data"]);if(l!=null&&c(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Qb(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>lC(d))),c(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(t,["role"],s),t}function Zb(i,t,l){const s={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const d=u(t,["newSessionExpireTime"]);l!==void 0&&d!=null&&c(l,["newSessionExpireTime"],d);const m=u(t,["uses"]);l!==void 0&&m!=null&&c(l,["uses"],m);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&c(l,["bidiGenerateContentSetup"],iC(i,g));const v=u(t,["lockAdditionalFields"]);return l!==void 0&&v!=null&&c(l,["fieldMask"],v),s}function jb(i,t){const l={},s=u(t,["config"]);return s!=null&&c(l,["config"],Zb(i,s,l)),l}function $b(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&c(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&c(t,["mimeType"],s),t}function Wb(i){const t={},l=u(i,["id"]);l!=null&&c(t,["id"],l);const s=u(i,["args"]);s!=null&&c(t,["args"],s);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function eC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&c(t,["enableWidget"],l),t}function tC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&c(t,["timeRangeFilter"],l),t}function nC(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&c(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","temperature"],d);const m=u(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&c(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Uc(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const b=u(i,["enableAffectiveDialog"]);t!==void 0&&b!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],b);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&c(t,["setup","systemInstruction"],Qb(Lt(N)));const P=u(i,["tools"]);if(t!==void 0&&P!=null){let $=Yl(P);Array.isArray($)&&($=$.map(Q=>sC(Fl(Q)))),c(t,["setup","tools"],$)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&c(t,["setup","sessionResumption"],oC(I));const J=u(i,["inputAudioTranscription"]);t!==void 0&&J!=null&&c(t,["setup","inputAudioTranscription"],J);const X=u(i,["outputAudioTranscription"]);t!==void 0&&X!=null&&c(t,["setup","outputAudioTranscription"],X);const z=u(i,["realtimeInputConfig"]);t!==void 0&&z!=null&&c(t,["setup","realtimeInputConfig"],z);const O=u(i,["contextWindowCompression"]);t!==void 0&&O!=null&&c(t,["setup","contextWindowCompression"],O);const q=u(i,["proactivity"]);if(t!==void 0&&q!=null&&c(t,["setup","proactivity"],q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function iC(i,t){const l={},s=u(t,["model"]);s!=null&&c(l,["setup","model"],Ge(i,s));const r=u(t,["config"]);return r!=null&&c(l,["config"],nC(r,l)),l}function lC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&c(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&c(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(t,["fileData"],$b(d));const m=u(i,["functionCall"]);m!=null&&c(t,["functionCall"],Wb(m));const g=u(i,["functionResponse"]);g!=null&&c(t,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(t,["inlineData"],Xb(v));const h=u(i,["text"]);h!=null&&c(t,["text"],h);const x=u(i,["thought"]);x!=null&&c(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function oC(i){const t={},l=u(i,["handle"]);if(l!=null&&c(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function sC(i){const t={},l=u(i,["functionDeclarations"]);if(l!=null){let x=l;Array.isArray(x)&&(x=x.map(T=>T)),c(t,["functionDeclarations"],x)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(t,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(t,["computerUse"],r);const d=u(i,["fileSearch"]);d!=null&&c(t,["fileSearch"],d);const m=u(i,["codeExecution"]);if(m!=null&&c(t,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(t,["googleMaps"],eC(g));const v=u(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],tC(v));const h=u(i,["urlContext"]);return h!=null&&c(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const s=i[l];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(d=>`${l}.${d}`);t.push(...r)}else t.push(l)}return t.join(",")}function rC(i,t){let l=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,l=d):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const d=aC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const v=[];d&&v.push(d),g.length>0&&v.push(...g),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class uC extends Wn{constructor(t){super(),this.apiClient=t}async create(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=jb(this.apiClient,t);d=ee("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const v=rC(g,t.config);return r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(i,t){const l={},s=u(i,["force"]);return t!==void 0&&s!=null&&c(t,["_query","force"],s),l}function dC(i){const t={},l=u(i,["name"]);l!=null&&c(t,["_url","name"],l);const s=u(i,["config"]);return s!=null&&cC(s,t),t}function fC(i){const t={},l=u(i,["name"]);return l!=null&&c(t,["_url","name"],l),t}function mC(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&c(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),l}function pC(i){const t={},l=u(i,["parent"]);l!=null&&c(t,["_url","parent"],l);const s=u(i,["config"]);return s!=null&&mC(s,t),t}function hC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&c(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&c(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(m=>m)),c(t,["documents"],d)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gC extends Wn{constructor(t){super(),this.apiClient=t,this.list=async l=>new nl($n.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:l.parent,config:s.config}),await this.listInternal(l),l)}async get(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fC(t);return d=ee("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=dC(t);r=ee("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=pC(t);return d=ee("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=hC(v),x=new Qx;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yC extends Wn{constructor(t,l=new gC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(s={})=>new nl($n.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ab(t);return d=ee("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=cb(t);return d=ee("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(t){var l,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ub(t);r=ee("{name}",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gb(t);return d=ee("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=yb(v),x=new Zx;return Object.assign(x,h),x})}}async uploadToFileSearchStoreInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vb(t);return d=ee("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=xb(v),x=new jx;return Object.assign(x,h),x})}}async importFile(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=mb(t);return d=ee("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=fb(v),x=new wc;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Og=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Og=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^l()&15>>+s/4).toString(16))};const vC=()=>Og();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Tc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fn extends Error{}class Vt extends fn{constructor(t,l,s,r){super(`${Vt.makeMessage(t,l,s)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,s){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,s,r){if(!t||!r)return new Oa({message:s,cause:Tc(l)});const d=l;return t===400?new Fg(t,d,s,r):t===401?new Yg(t,d,s,r):t===403?new Kg(t,d,s,r):t===404?new Xg(t,d,s,r):t===409?new Qg(t,d,s,r):t===422?new Zg(t,d,s,r):t===429?new jg(t,d,s,r):t>=500?new $g(t,d,s,r):new Vt(t,d,s,r)}}class Ec extends Vt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Oa extends Vt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class Jg extends Oa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Fg extends Vt{}class Yg extends Vt{}class Kg extends Vt{}class Xg extends Vt{}class Qg extends Vt{}class Zg extends Vt{}class jg extends Vt{}class $g extends Vt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xC=/^[a-z][a-z0-9+.-]*:/i,SC=i=>xC.test(i);let _c=i=>(_c=Array.isArray,_c(i));const TC=_c;let EC=TC;const sg=EC;function _C(i){if(!i)return!0;for(const t in i)return!1;return!0}function bC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const CC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new fn(`${i} must be an integer`);if(t<0)throw new fn(`${i} must be a positive integer`);return t},AC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const RC=()=>{var i,t,l,s,r;const d=wC();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":rg(Deno.build.os),"X-Stainless-Arch":ag(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":rg((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":ag((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=MC();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Vl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function MC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const s=l.exec(navigator.userAgent);if(s){const r=s[1]||0,d=s[2]||0,m=s[3]||0;return{browser:t,version:`${r}.${d}.${m}`}}}return null}const ag=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",rg=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Aa;const IC=()=>Aa??(Aa=RC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Wg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function UC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Wg({start(){},async pull(l){const{done:s,value:r}=await t.next();s?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function e0(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function kC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t0=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function cc(i,t,l){return t0(),new File(i,t??"unknown_file",l)}function PC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const GC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n0=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",HC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&n0(i),qC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function VC(i,t,l){if(t0(),i=await i,HC(i))return i instanceof File?i:cc([await i.arrayBuffer()],i.name);if(qC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),cc(await bc(r),t,l)}const s=await bc(i);if(t||(t=PC(i)),!(l!=null&&l.type)){const r=s.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return cc(s,t,l)}async function bc(i){var t,l,s,r,d;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(n0(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(GC(i))try{for(var g=!0,v=xn(i),h;h=await v.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const x=r;m.push(...await bc(x))}}catch(x){l={error:x}}finally{try{!g&&!t&&(s=v.return)&&await s.call(v)}finally{if(l)throw l.error}}else{const x=(d=i==null?void 0:i.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${zC(i)}`)}return m}function zC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i0{constructor(t){this._client=t}}i0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l0(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ug=Object.freeze(Object.create(null)),BC=(i=l0)=>(function(l,...s){if(l.length===1)return l[0];let r=!1;const d=[],m=l.reduce((x,T,E)=>{var b,N,P;/[?#]/.test(T)&&(r=!0);const I=s[E];let J=(r?encodeURIComponent:i)(""+I);return E!==s.length&&(I==null||typeof I=="object"&&I.toString===((P=Object.getPrototypeOf((N=Object.getPrototypeOf((b=I.hasOwnProperty)!==null&&b!==void 0?b:ug))!==null&&N!==void 0?N:ug))===null||P===void 0?void 0:P.toString))&&(J=I+"",d.push({start:x.length+T.length,length:J.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),x+T+(E===s.length?"":J)},""),g=m.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=v.exec(g))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((x,T)=>x.start-T.start),d.length>0){let x=0;const T=d.reduce((E,b)=>{const N=" ".repeat(b.start-x),P="^".repeat(b.length);return x=b.start+b.length,E+N+P},"");throw new fn(`Path parameters result in path with invalid segments:
${d.map(E=>E.error).join(`
`)}
${m}
${T}`)}return m}),Na=BC(l0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o0 extends i0{create(t,l){var s;const{api_version:r=this._client.apiVersion}=t,d=Pa(t,["api_version"]);if("model"in d&&"agent_config"in d)throw new fn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new fn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Na`/${r}/interactions`,Object.assign(Object.assign({body:d},l),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,l={},s){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(Na`/${r}/interactions/${t}`,s)}cancel(t,l={},s){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(Na`/${r}/interactions/${t}/cancel`,s)}get(t,l={},s){var r;const d=l??{},{api_version:m=this._client.apiVersion}=d,g=Pa(d,["api_version"]);return this._client.get(Na`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},s),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}o0._key=Object.freeze(["interactions"]);class s0 extends o0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let s=0;for(const r of i)l.set(r,s),s+=r.length;return l}let wa;function Lc(i){let t;return(wa??(t=new globalThis.TextEncoder,wa=t.encode.bind(t)))(i)}let Ra;function cg(i){let t;return(Ra??(t=new globalThis.TextDecoder,Ra=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ja{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Lc(t):t;this.buffer=OC([this.buffer,l]);const s=[];let r;for(;(r=JC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(cg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=cg(this.buffer.subarray(0,d));s.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Ja.NEWLINE_CHARS=new Set([`
`,"\r"]);Ja.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function FC(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ga={off:0,error:200,warn:300,info:400,debug:500},dg=(i,t,l)=>{if(i){if(bC(Ga,i))return i;qt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ga))}`)}};function Zo(){}function Ma(i,t,l){return!t||Ga[i]>Ga[l]?Zo:t[i].bind(t)}const YC={error:Zo,warn:Zo,info:Zo,debug:Zo};let fg=new WeakMap;function qt(i){var t;const l=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return YC;const r=fg.get(l);if(r&&r[0]===s)return r[1];const d={error:Ma("error",l,s),warn:Ma("warn",l,s),info:Ma("info",l,s),debug:Ma("debug",l,s)};return fg.set(l,[s,d]),d}const el=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bl{constructor(t,l,s){this.iterator=t,this.controller=l,this.client=s}static fromSSEResponse(t,l,s){let r=!1;const d=s?qt(s):console;function m(){return vn(this,arguments,function*(){var v,h,x,T;if(r)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var b=!0,N=xn(KC(t,l)),P;P=yield ye(N.next()),v=P.done,!v;b=!0){T=P.value,b=!1;const I=T;if(!E)if(I.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ye(JSON.parse(I.data))}catch(J){throw d.error("Could not parse message into JSON:",I.data),d.error("From chunk:",I.raw),J}}}catch(I){h={error:I}}finally{try{!b&&!v&&(x=N.return)&&(yield ye(x.call(N)))}finally{if(h)throw h.error}}E=!0}catch(I){if(Sc(I))return yield ye(void 0);throw I}finally{E||l.abort()}})}return new Bl(m,l,s)}static fromReadableStream(t,l,s){let r=!1;function d(){return vn(this,arguments,function*(){var v,h,x,T;const E=new Ja,b=e0(t);try{for(var N=!0,P=xn(b),I;I=yield ye(P.next()),v=I.done,!v;N=!0){T=I.value,N=!1;const J=T;for(const X of E.decode(J))yield yield ye(X)}}catch(J){h={error:J}}finally{try{!N&&!v&&(x=P.return)&&(yield ye(x.call(P)))}finally{if(h)throw h.error}}for(const J of E.flush())yield yield ye(J)})}function m(){return vn(this,arguments,function*(){var v,h,x,T;if(r)throw new fn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var b=!0,N=xn(d()),P;P=yield ye(N.next()),v=P.done,!v;b=!0){T=P.value,b=!1;const I=T;E||I&&(yield yield ye(JSON.parse(I)))}}catch(I){h={error:I}}finally{try{!b&&!v&&(x=N.return)&&(yield ye(x.call(N)))}finally{if(h)throw h.error}}E=!0}catch(I){if(Sc(I))return yield ye(void 0);throw I}finally{E||l.abort()}})}return new Bl(m,l,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],s=this.iterator(),r=d=>({next:()=>{if(d.length===0){const m=s.next();t.push(m),l.push(m)}return d.shift()}});return[new Bl(()=>r(t),this.controller,this.client),new Bl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Wg({async start(){l=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:d}=await l.next();if(d)return s.close();const m=Lc(JSON.stringify(r)+`
`);s.enqueue(m)}catch(r){s.error(r)}},async cancel(){var s;await((s=l.return)===null||s===void 0?void 0:s.call(l))}})}}function KC(i,t){return vn(this,arguments,function*(){var s,r,d,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fn("Attempted to iterate over a response with no body");const g=new QC,v=new Ja,h=e0(i.body);try{for(var x=!0,T=xn(XC(h)),E;E=yield ye(T.next()),s=E.done,!s;x=!0){m=E.value,x=!1;const b=m;for(const N of v.decode(b)){const P=g.decode(N);P&&(yield yield ye(P))}}}catch(b){r={error:b}}finally{try{!x&&!s&&(d=T.return)&&(yield ye(d.call(T)))}finally{if(r)throw r.error}}for(const b of v.flush()){const N=g.decode(b);N&&(yield yield ye(N))}})}function XC(i){return vn(this,arguments,function*(){var l,s,r,d;let m=new Uint8Array;try{for(var g=!0,v=xn(i),h;h=yield ye(v.next()),l=h.done,!l;g=!0){d=h.value,g=!1;const x=d;if(x==null)continue;const T=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Lc(x):x;let E=new Uint8Array(m.length+T.length);E.set(m),E.set(T,m.length),m=E;let b;for(;(b=FC(m))!==-1;)yield yield ye(m.slice(0,b)),m=m.slice(b)}}catch(x){s={error:x}}finally{try{!g&&!l&&(r=v.return)&&(yield ye(r.call(v)))}finally{if(s)throw s.error}}m.length>0&&(yield yield ye(m))})}class QC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,s,r]=ZC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function ZC(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function jC(i,t){const{response:l,requestLogID:s,retryOfRequestLogID:r,startTime:d}=t,m=await(async()=>{var g;if(t.options.stream)return qt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Bl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const v=l.headers.get("content-type"),h=(g=v==null?void 0:v.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?await l.json():await l.text()})();return qt(i).debug(`[${s}] response parsed`,el({retryOfRequestLogID:r,url:l.url,status:l.status,body:m,durationMs:Date.now()-d})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pc extends Promise{constructor(t,l,s=jC){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Pc(this.client,this.responsePromise,async(l,s)=>t(await this.parseResponse(l,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a0=Symbol("brand.privateNullableHeaders");function*$C(i){if(!i)return;if(a0 in i){const{values:s,nulls:r}=i;yield*s.entries();for(const d of r)yield[d,null];return}let t=!1,l;i instanceof Headers?l=i.entries():sg(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let s of l){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=sg(s[1])?s[1]:[s[1]];let m=!1;for(const g of d)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const Qo=i=>{const t=new Headers,l=new Set;for(const s of i){const r=new Set;for(const[d,m]of $C(s)){const g=d.toLowerCase();r.has(g)||(t.delete(d),r.add(g)),m===null?(t.delete(d),l.add(g)):(t.append(d,m),l.delete(g))}}return{[a0]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dc=i=>{var t,l,s,r,d,m;if(typeof globalThis.process<"u")return(s=(l=(t=bx)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(m=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var r0;class Fa{constructor(t){var l,s,r,d,m,g,v,{baseURL:h=dc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(l=dc("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,E=Pa(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:x,apiVersion:T},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(s=b.timeout)!==null&&s!==void 0?s:Fa.DEFAULT_TIMEOUT,this.logger=(r=b.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(m=(d=dg(b.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:dg(dc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:N,this.fetchOptions=b.fetchOptions,this.maxRetries=(g=b.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(v=b.fetch)!==null&&v!==void 0?v:DC(),this.encoder=LC,this._options=b,this.apiKey=x,this.apiVersion=T,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=Qo([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return Qo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,s])=>typeof s<"u").map(([l,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(l)}=`;throw new fn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Vl}`}defaultIdempotencyKey(){return`stainless-node-retry-${vC()}`}makeStatusError(t,l,s,r){return Vt.generate(t,l,s,r)}buildURL(t,l,s){const r=!this.baseURLOverridden()&&s||this.baseURL,d=SC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return _C(m)||(l=Object.assign(Object.assign({},m),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(d.search=this.stringifyQuery(l)),d.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:s}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Pc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,s){var r,d,m;const g=await t,v=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=v),await this.prepareOptions(g);const{req:h,url:x,timeout:T}=await this.buildRequest(g,{retryCount:v-l});await this.prepareRequest(h,{url:x,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=s===void 0?"":`, retryOf: ${s}`,N=Date.now();if(qt(this).debug(`[${E}] sending request`,el({retryOfRequestLogID:s,method:g.method,url:x,options:g,headers:h.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new Ec;const P=new AbortController,I=await this.fetchWithTimeout(x,h,T,P).catch(Tc),J=Date.now();if(I instanceof globalThis.Error){const z=`retrying, ${l} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new Ec;const O=Sc(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(l)return qt(this).info(`[${E}] connection ${O?"timed out":"failed"} - ${z}`),qt(this).debug(`[${E}] connection ${O?"timed out":"failed"} (${z})`,el({retryOfRequestLogID:s,url:x,durationMs:J-N,message:I.message})),this.retryRequest(g,l,s??E);throw qt(this).info(`[${E}] connection ${O?"timed out":"failed"} - error; no more retries left`),qt(this).debug(`[${E}] connection ${O?"timed out":"failed"} (error; no more retries left)`,el({retryOfRequestLogID:s,url:x,durationMs:J-N,message:I.message})),O?new Jg:new Oa({cause:I})}const X=`[${E}${b}] ${h.method} ${x} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${J-N}ms`;if(!I.ok){const z=await this.shouldRetry(I);if(l&&z){const te=`retrying, ${l} attempts remaining`;return await kC(I.body),qt(this).info(`${X} - ${te}`),qt(this).debug(`[${E}] response error (${te})`,el({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,durationMs:J-N})),this.retryRequest(g,l,s??E,I.headers)}const O=z?"error; no more retries left":"error; not retryable";qt(this).info(`${X} - ${O}`);const q=await I.text().catch(te=>Tc(te).message),$=AC(q),Q=$?void 0:q;throw qt(this).debug(`[${E}] response error (${O})`,el({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,message:Q,durationMs:Date.now()-N})),this.makeStatusError(I.status,$,Q,I.headers)}return qt(this).info(X),qt(this).debug(`[${E}] response start`,el({retryOfRequestLogID:s,url:I.url,status:I.status,headers:I.headers,durationMs:J-N})),{response:I,options:g,controller:P,requestLogID:E,retryOfRequestLogID:s,startTime:N}}async fetchWithTimeout(t,l,s,r){const d=l||{},{signal:m,method:g}=d,v=Pa(d,["signal","method"]);m&&m.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),s),x=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},x?{duplex:"half"}:{}),{method:"GET"}),v);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(h)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,s,r){var d;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(m=h)}const v=r==null?void 0:r.get("retry-after");if(v&&!m){const h=parseFloat(v);Number.isNaN(h)?m=Date.parse(v)-Date.now():m=h*1e3}if(!(m&&0<=m&&m<60*1e3)){const h=(d=t.maxRetries)!==null&&d!==void 0?d:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(l,h)}return await NC(m),this.makeRequest(t,l-1,s)}calculateDefaultRetryTimeoutMillis(t,l){const d=l-t,m=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var s,r,d;const m=Object.assign({},t),{method:g,path:v,query:h,defaultBaseURL:x}=m,T=this.buildURL(v,h,x);"timeout"in m&&CC("timeout",m.timeout),m.timeout=(s=m.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:E,body:b}=this.buildBody({options:m}),N=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=m.fetchOptions)!==null&&d!==void 0?d:{}),url:T,timeout:m.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:s,retryCount:r}){let d={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=Qo([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),IC()),this._options.defaultHeaders,s,t.headers,m]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=Qo([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:UC(t)}:this.encoder({body:t,headers:s})}}Fa.DEFAULT_TIMEOUT=6e4;class St extends Fa{constructor(){super(...arguments),this.interactions=new s0(this)}}r0=St;St.GeminiNextGenAPIClient=r0;St.GeminiNextGenAPIClientError=fn;St.APIError=Vt;St.APIConnectionError=Oa;St.APIConnectionTimeoutError=Jg;St.APIUserAbortError=Ec;St.NotFoundError=Xg;St.ConflictError=Qg;St.RateLimitError=jg;St.BadRequestError=Fg;St.AuthenticationError=Yg;St.InternalServerError=$g;St.PermissionDeniedError=Kg;St.UnprocessableEntityError=Zg;St.toFile=VC;St.Interactions=s0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WC(i,t){const l={},s=u(i,["name"]);return s!=null&&c(l,["_url","name"],s),l}function eA(i,t){const l={},s=u(i,["name"]);return s!=null&&c(l,["_url","name"],s),l}function tA(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(l,["sdkHttpResponse"],s),l}function nA(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(l,["sdkHttpResponse"],s),l}function iA(i,t,l){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","epochCount"],d);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&c(t,["tuningTask","hyperparameters","batchSize"],g);const v=u(i,["learningRate"]);if(t!==void 0&&v!=null&&c(t,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function lA(i,t,l){const s={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const b=u(i,["validationDataset"]);t!==void 0&&b!=null&&c(t,["supervisedTuningSpec"],mg(b))}else if(r==="PREFERENCE_TUNING"){const b=u(i,["validationDataset"]);t!==void 0&&b!=null&&c(t,["preferenceOptimizationSpec"],mg(b))}const d=u(i,["tunedModelDisplayName"]);t!==void 0&&d!=null&&c(t,["tunedModelDisplayName"],d);const m=u(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const b=u(i,["epochCount"]);t!==void 0&&b!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(g==="PREFERENCE_TUNING"){const b=u(i,["epochCount"]);t!==void 0&&b!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const b=u(i,["learningRateMultiplier"]);t!==void 0&&b!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(v==="PREFERENCE_TUNING"){const b=u(i,["learningRateMultiplier"]);t!==void 0&&b!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const b=u(i,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(h==="PREFERENCE_TUNING"){const b=u(i,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let x=u(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const b=u(i,["adapterSize"]);t!==void 0&&b!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(x==="PREFERENCE_TUNING"){const b=u(i,["adapterSize"]);t!==void 0&&b!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),s}function oA(i,t){const l={},s=u(i,["baseModel"]);s!=null&&c(l,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&gA(d);const m=u(i,["config"]);return m!=null&&iA(m,l),l}function sA(i,t){const l={},s=u(i,["baseModel"]);s!=null&&c(l,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(l,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&yA(d,l,t);const m=u(i,["config"]);return m!=null&&lA(m,l,t),l}function aA(i,t){const l={},s=u(i,["name"]);return s!=null&&c(l,["_url","name"],s),l}function rA(i,t){const l={},s=u(i,["name"]);return s!=null&&c(l,["_url","name"],s),l}function uA(i,t,l){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),s}function cA(i,t,l){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const d=u(i,["pageToken"]);t!==void 0&&d!=null&&c(t,["_query","pageToken"],d);const m=u(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),s}function dA(i,t){const l={},s=u(i,["config"]);return s!=null&&uA(s,l),l}function fA(i,t){const l={},s=u(i,["config"]);return s!=null&&cA(s,l),l}function mA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&c(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>u0(g))),c(l,["tuningJobs"],m)}return l}function pA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&c(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(l,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(g=>Cc(g))),c(l,["tuningJobs"],m)}return l}function hA(i,t){const l={},s=u(i,["name"]);s!=null&&c(l,["model"],s);const r=u(i,["name"]);return r!=null&&c(l,["endpoint"],r),l}function gA(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(l,["examples","examples"],r)}return l}function yA(i,t,l){const s={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let d=u(l,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(d==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function u0(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&c(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],Cg(d));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&c(l,["startTime"],g);const v=u(i,["tuningTask","completeTime"]);v!=null&&c(l,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const x=u(i,["description"]);x!=null&&c(l,["description"],x);const T=u(i,["baseModel"]);T!=null&&c(l,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(l,["tunedModel"],hA(E)),l}function Cc(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&c(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["state"]);d!=null&&c(l,["state"],Cg(d));const m=u(i,["createTime"]);m!=null&&c(l,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(l,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(l,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(l,["updateTime"],h);const x=u(i,["error"]);x!=null&&c(l,["error"],x);const T=u(i,["description"]);T!=null&&c(l,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(l,["baseModel"],E);const b=u(i,["tunedModel"]);b!=null&&c(l,["tunedModel"],b);const N=u(i,["preTunedModel"]);N!=null&&c(l,["preTunedModel"],N);const P=u(i,["supervisedTuningSpec"]);P!=null&&c(l,["supervisedTuningSpec"],P);const I=u(i,["preferenceOptimizationSpec"]);I!=null&&c(l,["preferenceOptimizationSpec"],I);const J=u(i,["tuningDataStats"]);J!=null&&c(l,["tuningDataStats"],J);const X=u(i,["encryptionSpec"]);X!=null&&c(l,["encryptionSpec"],X);const z=u(i,["partnerModelTuningSpec"]);z!=null&&c(l,["partnerModelTuningSpec"],z);const O=u(i,["customBaseModel"]);O!=null&&c(l,["customBaseModel"],O);const q=u(i,["experiment"]);q!=null&&c(l,["experiment"],q);const $=u(i,["labels"]);$!=null&&c(l,["labels"],$);const Q=u(i,["outputUri"]);Q!=null&&c(l,["outputUri"],Q);const pe=u(i,["pipelineJob"]);pe!=null&&c(l,["pipelineJob"],pe);const te=u(i,["serviceAccount"]);te!=null&&c(l,["serviceAccount"],te);const he=u(i,["tunedModelDisplayName"]);he!=null&&c(l,["tunedModelDisplayName"],he);const le=u(i,["veoTuningSpec"]);return le!=null&&c(l,["veoTuningSpec"],le),l}function vA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&c(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(l,["name"],r);const d=u(i,["metadata"]);d!=null&&c(l,["metadata"],d);const m=u(i,["done"]);m!=null&&c(l,["done"],m);const g=u(i,["error"]);return g!=null&&c(l,["error"],g),l}function mg(i,t){const l={},s=u(i,["gcsUri"]);s!=null&&c(l,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA extends Wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new nl($n.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var s;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((s=l.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},l),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),d=await this.tuneMldevInternal(r);let m="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?m=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(m=d.name.split("/operations/")[0]),{name:m,state:mc.JOB_STATE_QUEUED}}}}async getInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=rA(t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>Cc(x))}else{const h=aA(t);return g=ee("{name}",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>u0(x))}}async listInternal(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=fA(t);return g=ee("tuningJobs",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=pA(x),E=new qh;return Object.assign(E,T),E})}else{const h=dA(t);return g=ee("tunedModels",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=mA(x),E=new qh;return Object.assign(E,T),E})}}async cancel(t){var l,s,r,d;let m,g="",v={};if(this.apiClient.isVertexAI()){const h=eA(t);return g=ee("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=nA(x),E=new Vh;return Object.assign(E,T),E})}else{const h=WC(t);return g=ee("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=t.config)===null||d===void 0?void 0:d.abortSignal}).then(x=>x.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:x.headers},E})),m.then(x=>{const T=tA(x),E=new Vh;return Object.assign(E,T),E})}}async tuneInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI()){const g=sA(t,t);return d=ee("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>Cc(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,s;let r,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oA(t);return d=ee("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:v.headers},x})),r.then(v=>vA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const TA=1024*1024*8,EA=3,_A=1e3,bA=2,Ha="x-goog-upload-status";async function CA(i,t,l){var s;const r=await c0(i,t,l),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function AA(i,t,l){var s;const r=await c0(i,t,l),d=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=xg(d),g=new Rc;return Object.assign(g,m),g}async function c0(i,t,l){var s,r;let d=0,m=0,g=new pc(new Response),v="upload";for(d=i.size;m<d;){const h=Math.min(TA,d-m),x=i.slice(m,m+h);m+h>=d&&(v+=", finalize");let T=0,E=_A;for(;T<EA&&(g=await l.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[Ha]));)T++,await wA(E),E=E*bA;if(m+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ha])!=="active")break;if(d<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function NA(i){return{size:i.size,type:i.type}}function wA(i){return new Promise(t=>setTimeout(t,i))}class RA{async upload(t,l,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await CA(t,l,s)}async uploadToFileSearchStore(t,l,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await AA(t,l,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await NA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MA{create(t,l,s){return new IA(t,l,s)}}class IA{constructor(t,l,s){this.url=t,this.headers=l,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pg="x-goog-api-key";class DA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(pg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(pg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UA="gl-node/";class kA{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const l=new St({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=l.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const s=wx(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new DA(this.apiKey);this.apiClient=new Nb({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:UA+"web",uploader:new RA,downloader:new SA}),this.models=new Yb(this.apiClient),this.live=new Vb(this.apiClient,r,new MA),this.batches=new iT(this.apiClient),this.chats=new HT(this.models,this.apiClient),this.caches=new LT(this.apiClient),this.files=new XT(this.apiClient),this.operations=new Kb(this.apiClient),this.authTokens=new uC(this.apiClient),this.tunings=new xA(this.apiClient),this.fileSearchStores=new yC(this.apiClient)}}const hg=new kA({apiKey:"PLACEHOLDER_API_KEY"}),LA={generateDramaDescription:async(i,t)=>{try{return(await hg.models.generateContent({model:"gemini-2.5-flash",contents:`Create a captivating, high-stakes 2-sentence synopsis for a short drama titled "${i}" in the ${t} genre. Make it sound like a viral TikTok drama advertisement.`})).text||"No description generated."}catch(l){return console.error("Gemini Error:",l),"An exciting new drama you won't want to miss!"}},smartSearch:async(i,t)=>{var l;try{const s=await hg.models.generateContent({model:"gemini-2.5-flash",contents:`Based on this list of dramas: ${JSON.stringify(t.map(r=>({id:r.id,title:r.title,description:r.description})))}, find the IDs of dramas that best match the search query: "${i}". Return ONLY a JSON array of strings (the IDs).`,config:{responseMimeType:"application/json",responseSchema:{type:Nn.ARRAY,items:{type:Nn.STRING}}}});return JSON.parse(((l=s.text)==null?void 0:l.trim())||"[]")}catch{return[]}}},PA=()=>{var at,Tt,Mn,sl,ds,fs,to,ai,al,In,Dn,ri,Un,lt,no,io;const[i,t]=K.useState("content"),[l,s]=K.useState([]),[r,d]=K.useState([]),[m,g]=K.useState([]),[v,h]=K.useState([]),[x,T]=K.useState([]),[E,b]=K.useState([]),[N,P]=K.useState(()=>Z.getSiteSettings()),[I,J]=K.useState(!1),[X,z]=K.useState(null),[O,q]=K.useState(!1),[$,Q]=K.useState(""),[pe,te]=K.useState(""),[he,le]=K.useState(!1),[Ne,ge]=K.useState(null),[Ue,it]=K.useState({name:"",price:0,duration:"",description:""}),[L,j]=K.useState(null),[de,He]=K.useState(""),[ae,R]=K.useState(Z.getGatewayConfig()),[F,W]=K.useState(5e3),[ne,ve]=K.useState(null),[_e,ke]=K.useState(null),[pt,$e]=K.useState(""),[il,Xl]=K.useState(()=>{try{const C=localStorage.getItem("dramabox_config");return C?JSON.parse(C).base:"https://dramabox.sansekai.my.id/api"}catch{return"https://dramabox.sansekai.my.id/api"}}),[jo,Ya]=K.useState("/dramabox/latest"),[ti,$o]=K.useState(""),[Wo,Gc]=K.useState(""),[Ka,es]=K.useState(""),[ll,ts]=K.useState(""),[ht,wn]=K.useState(null),[gt,Ql]=K.useState(!1),[Zl,Xa]=K.useState(!0),[Kt,tn]=K.useState(null),[jl,ns]=K.useState(""),[is,ni]=K.useState(""),[Rt,mn]=K.useState(""),Mt=C=>{if(!C)return[];if(Array.isArray(C))return C;const ue=["episodes","chapterList","chapters","data","list","rows"];for(const De of ue)if(Array.isArray(C[De]))return C[De];if(typeof C=="object")for(const De of Object.keys(C))try{const Te=C[De];if(Array.isArray(Te))return Te;if(typeof Te=="object"){const We=Mt(Te);if(We&&We.length)return We}}catch{continue}return[]},ls=(C,ue)=>{const De=_t=>{if(!_t)return"";const Tn=Me=>{if(!Me||typeof Me!="string")return Me;const H=Me.replace(/\s+/g,"");if(/^[A-Za-z0-9+/=]+$/.test(H)&&H.length%4===0)try{const re=atob(H);if(typeof re=="string"&&re.startsWith("http"))return re}catch{}return Me};try{if(_t&&Array.isArray(_t.cdnList)&&_t.cdnList.length){const Me=_t.cdnList.find(H=>H.isDefault||H.is_default)||_t.cdnList[0];if(Me){const H=Me.videoPathList||Me.videoPath_list||Me.video_path_list||Me.videoPaths||Me.files||Me.video_list;if(Array.isArray(H)&&H.length){let re=H.find(Ke=>Ke.isDefault||Ke.is_default||Ke.isEntry)||H.slice().sort((Ke,Ve)=>(Ve.quality||0)-(Ke.quality||0))[0];const fe=re&&(re.videoPath||re.video_path||re.file||re.url||re.path);if(typeof fe=="string"&&fe)return fe}}}}catch{}const Pt=["videoUrl","video_url","playUrl","play_url","file","files","videoPath","video_path","videoPathList","video_path_list","videoPaths","url","link","links","source","sources","stream","stream_url","m3u8","play","main_url","mainUrl","backup_url","backupUrl"];for(const Me of Pt){const H=_t[Me];if(H){if(typeof H=="string"&&H.trim())return H.trim();if(typeof H=="string"&&H.trim()){const re=Tn(H.trim());if(re&&typeof re=="string"&&re.startsWith("http"))return re}if(Array.isArray(H)&&H.length){const re=H[0];if(typeof re=="string"&&re.trim())return re.trim();if(re&&typeof re=="object"){const fe=re.url||re.file||re.playUrl||re.file_url;if(fe&&typeof fe=="string")return fe}}if(typeof H=="object"){const re=H.url||H.file||H.playUrl||H.play_url||H.file_url;if(re&&typeof re=="string")return re}}}const vt=Me=>{if(!Me)return null;if(typeof Me=="string"&&Me.startsWith("http"))return Me;if(Array.isArray(Me))for(const H of Me){const re=vt(H);if(re)return re}if(typeof Me=="object")for(const H of Object.keys(Me))try{const re=vt(Me[H]);if(re)return re}catch{}return null},ui=vt(_t);if(ui&&typeof ui=="string"){const Me=Tn(ui);if(Me&&Me.startsWith("http"))return Me}return ui||""},Te=C.chapterId||C.chapter_id||C.id||C._id||C.episodeId||C.episode_id||`${Date.now()}-${ue}`,We=Number(C.order||C.index||ue+1)||ue+1;let Et=!!(C.isPremium||C.premium||C.paywall);globalThis.__applyEpisodePricingFlag&&(globalThis.__episodeFreeUpTo&&We<=Number(globalThis.__episodeFreeUpTo)&&(Et=!1),globalThis.__episodePremiumFrom&&We>=Number(globalThis.__episodePremiumFrom)&&(Et=!0));try{typeof ii=="boolean"&&ii&&(li&&We<=Number(li)&&(Et=!1),oi&&We>=Number(oi)&&(Et=!0))}catch{}return{id:String(Te),title:C.chapterName||C.chapter_name||C.title||C.name||`Episode ${ue+1}`,videoUrl:De(C)||"",duration:C.duration||C.time||"00:00",isPremium:Et,order:We}},[os,$l]=K.useState(""),[ii,ol]=K.useState(!1),[li,Rn]=K.useState(0),[oi,Pi]=K.useState(0),ss=async()=>{var Me;if(!ht)return alert("Tidak ada data untuk diimport. Jalankan Test terlebih dahulu.");let C=[];const ue=H=>{if(!H)return null;if(Array.isArray(H))return H;if(typeof H=="object")for(const re of Object.keys(H))try{const fe=H[re];if(Array.isArray(fe))return fe;if(typeof fe=="object"){const Ke=ue(fe);if(Ke)return Ke}}catch{continue}return null},De=ue(ht);if(De)C=De;else if(ht&&(ht.bookId||ht.book_id||ht.id||ht.book||ht.bookName||ht.title))C=[ht];else return alert("Response tidak berformat array - tidak ada yang bisa diimport");Ql(!0),tn(null);let Te=0,We=0,Et=0;const _t=Z.getDramas(),Tn=H=>{if(!H)return null;if(Array.isArray(H))return H;if(typeof H=="object"){const re=["episodes","chapterList","chapters","data","list","rows"];for(const fe of re)if(Array.isArray(H[fe]))return H[fe];for(const fe of Object.keys(H))try{const Ke=H[fe];if(Array.isArray(Ke))return Ke;if(typeof Ke=="object"){const Ve=Tn(Ke);if(Ve)return Ve}}catch{continue}}return null},Pt=(H,re)=>ls(H,re),vt=C[0];if((H=>!H||typeof H!="object"?!1:!!(H.chapterId||H.chapter_id||H.episodeId||H.episode_id||H.videoUrl||H.video_url||H.url)&&!!(H.bookId||H.book_id||ll))(vt)){const H={};for(const re of C){const fe=String(re.bookId||re.book_id||ll||"unknown");H[fe]=H[fe]||[],H[fe].push(re)}for(const re of Object.keys(H))try{const fe=H[re],Ke=_t.find(Ve=>Ve.id===re);if(Ke){const Ve=new Set((Me=Ke.episodes)==null?void 0:Me.map(Gt=>Gt.id)),Dt=fe.map((Gt,En)=>Pt(Gt,En)).filter(Gt=>!Ve.has(Gt.id));Ke.episodes=[...Ke.episodes||[],...Dt],Z.saveDrama(Ke),Te+=Dt.length}else{const Ve=fe[0].bookName||fe[0].book_name||`Drama ${re}`,Dt=[];fe[0].bookName&&Dt.push(String(fe[0].bookName)),fe[0].book_name&&Dt.push(String(fe[0].book_name)),fe[0].corner&&fe[0].corner.name&&Dt.push(String(fe[0].corner.name)),Array.isArray(fe[0].tags)&&Dt.push(...fe[0].tags.map(Ut=>typeof Ut=="string"?Ut:Ut.name||"")),Array.isArray(fe[0].tagV3s)&&Dt.push(...fe[0].tagV3s.map(Ut=>Ut.tagName||Ut.name||""));const Gt=Dt.join(" ").toLowerCase();let En=[];Gt.includes("sulih")&&(En=["Sulih Suara"]);const bt={id:re,title:Ve,description:fe[0].introduction||fe[0].desc||"",thumbnail:fe[0].cover||fe[0].coverWap||"",genre:En,region:[],views:0,rating:5,episodes:fe.map((Ut,Gi)=>Pt(Ut,Gi)),isHot:!!Gt.includes("terpopuler"),isNew:!!Gt.includes("baru"),isPremiumDrama:!1,createdAt:new Date().toISOString()};Gt.includes("sulih")&&(bt.isNew=!1,bt.isHot=!1),Z.saveDrama(bt),Te++}}catch{Et++}It(),Ql(!1),tn({added:Te,skipped:We,errors:Et}),alert(`Import selesai. Added episodes/groups: ${Te}, Skipped: ${We}, Errors: ${Et}`);return}for(const H of C)try{const re=H.bookId||H.book_id||H.id||H._id||H.book&&H.book.id;if(!re){Et++;continue}const fe=String(re),Ke=H.title||H.name||H.bookName||H.book_name,Ve=_t.find(Ze=>Ze.id===fe||Ke&&Ze.title===Ke);if(Ve&&Zl){We++;continue}const Dt=Tn(H)||[],Gt=Array.isArray(Dt)?Dt.map((Ze,ci)=>Pt(Ze,ci)):[],En=H.genre?Array.isArray(H.genre)?H.genre:[String(H.genre)]:H.tags&&Array.isArray(H.tags)?H.tags.map(Ze=>typeof Ze=="string"?Ze:Ze.name||String(Ze)):H.tagV3s&&Array.isArray(H.tagV3s)?H.tagV3s.map(Ze=>Ze.tagName||Ze.name||String(Ze)):[],bt=[];H.bookName&&bt.push(String(H.bookName)),H.book_name&&bt.push(String(H.book_name)),H.corner&&H.corner.name&&bt.push(String(H.corner.name)),Array.isArray(H.tags)&&bt.push(...H.tags.map(Ze=>typeof Ze=="string"?Ze:Ze.name||"")),Array.isArray(H.tagV3s)&&bt.push(...H.tagV3s.map(Ze=>Ze.tagName||Ze.name||""));const Ut=bt.join(" ").toLowerCase();let Gi=En;Ut.includes("sulih")&&(Gi=["Sulih Suara"]);const pn={id:fe,title:H.title||H.name||H.bookName||H.book_name||"Untitled",description:H.desc||H.description||H.synopsis||H.introduction||H.summary||"",thumbnail:H.cover||H.thumbnail||H.thumb||H.image||H.coverWap||H.cover_wap||"",genre:Gi,region:H.region?Array.isArray(H.region)?H.region:[String(H.region)]:[],views:parseInt(H.views||H.view||H.view_count||0)||0,rating:parseFloat(H.rating||5)||5,episodes:Gt,isHot:Ut.includes("terpopuler")?!0:!!(H.isHot||H.hot),isNew:Ut.includes("baru")?!0:!!(H.isNew||H.new),isPremiumDrama:!!(H.isPremiumDrama||H.premium),createdAt:new Date().toISOString()};if(Ut.includes("sulih")&&(pn.isNew=!1,pn.isHot=!1),Ve&&!Zl){const Ze=new Set((Ve.episodes||[]).map(ci=>ci.id));Ve.episodes=[...Ve.episodes||[],...pn.episodes.filter(ci=>!Ze.has(ci.id))],Z.saveDrama(Ve),Te++}else Z.saveDrama(pn),Te++}catch{Et++}It(),Ql(!1),tn({added:Te,skipped:We,errors:Et}),alert(`Import selesai. Added: ${Te}, Skipped: ${We}, Errors: ${Et}`)},[be,et]=K.useState({title:"",description:"",genre:[],region:[],thumbnail:"",rating:5,isHot:!1,isNew:!0,isPremiumDrama:!1,episodes:[]});K.useEffect(()=>{It()},[]),K.useEffect(()=>{He("")},[L]);const It=()=>{s(Z.getDramas()),d(Z.getUsers()),g(Z.getRequests().sort((C,ue)=>new Date(ue.createdAt).getTime()-new Date(C.createdAt).getTime())),h(Z.getPlans()),T(Z.getGenres().sort()),b(Z.getRegions().sort())},Qa=C=>{confirm("Approve pembayaran ini dan upgrade status user?")&&(Z.updateRequestStatus(C,"APPROVED"),It(),alert("Berhasil! Status user telah di-upgrade."))},as=()=>{const C={id:Date.now().toString(),title:`Episode ${be.episodes.length+1}`,videoUrl:"",duration:"02:00",isPremium:be.episodes.length>=3,order:be.episodes.length+1};et({...be,episodes:[...be.episodes,C]})},rs=C=>{C.preventDefault();const ue={id:X?X.id:Date.now().toString(),...be,views:X?X.views:0,createdAt:X?X.createdAt:new Date().toISOString()};Z.saveDrama(ue),It(),J(!1),z(null)},us=C=>{if(C.preventDefault(),L){const ue={...L,password:de||L.password};Z.saveUser(ue),j(null),It()}},Wl=C=>{C.preventDefault();const ue={id:Ne?Ne.id:Date.now().toString(),name:Ue.name,price:Ue.price,duration:Ue.duration,description:Ue.description};Z.savePlan(ue),le(!1),ge(null),It()},si=(C,ue,De)=>{De==="add"?C==="genre"?Z.addGenre(ue):Z.addRegion(ue):confirm(`Hapus ${C} ini?`)&&(C==="genre"?Z.removeGenre(ue):Z.removeRegion(ue)),It(),Q(""),te("")},eo=(C,ue)=>C.includes(ue)?C.filter(De=>De!==ue):[...C,ue],cs=async()=>{if(!be.title)return alert("Masukkan judul dulu!");q(!0);const C=be.genre.join(", ")||"drama",ue=await LA.generateDramaDescription(be.title,C);et(De=>({...De,description:ue})),q(!1)},yt=({id:C,label:ue,icon:De})=>y.jsxs("button",{onClick:()=>t(C),className:`flex items-center gap-2 px-6 py-3 font-bold transition-all border-b-2 whitespace-nowrap ${i===C?"border-rose-500 text-rose-500 bg-rose-500/5":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[y.jsx(De,{className:"w-4 h-4"})," ",ue]});return y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-3xl font-black text-white",children:"Panel Administrator"}),y.jsx("p",{className:"text-slate-400",children:"Pusat kendali operasional DramaShort."})]}),y.jsxs("div",{className:"flex border-b border-slate-800 mb-8 overflow-x-auto scrollbar-hide",children:[y.jsx(yt,{id:"content",label:"Konten",icon:se.Film}),y.jsx(yt,{id:"verification",label:"Verifikasi Bayar",icon:se.Zap}),y.jsx(yt,{id:"users",label:"Data User",icon:se.Users}),y.jsx(yt,{id:"plans",label:"Paket Langganan",icon:se.Settings}),y.jsx(yt,{id:"categories",label:"Kategori",icon:se.Menu}),y.jsx(yt,{id:"gateway",label:"Gateway",icon:se.Lock}),y.jsx(yt,{id:"dramaapi",label:"Drama API",icon:se.Settings}),y.jsx(yt,{id:"melolo",label:"Melolo API",icon:se.LayoutDashboard}),y.jsx(yt,{id:"seo",label:"SEO & Branding",icon:se.Edit})]}),i==="seo"&&y.jsx("div",{className:"grid grid-cols-1 gap-10 animate-in fade-in duration-500",children:y.jsxs("div",{className:"bg-slate-900 p-8 rounded-3xl border border-slate-800 space-y-6",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Pengaturan SEO & Branding"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Nama Website"}),y.jsx("input",{value:N.siteName||"",onChange:C=>P({...N,siteName:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Logo URL"}),y.jsx("input",{value:N.logoUrl||"",onChange:C=>P({...N,logoUrl:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Keyword (pisahkan dengan koma)"}),y.jsx("input",{value:Array.isArray(N.keywords)?N.keywords.join(", "):N.keywords||"",onChange:C=>P({...N,keywords:C.target.value.split(",").map(ue=>ue.trim()).filter(Boolean)}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Footer Text/HTML"}),y.jsx("textarea",{rows:4,value:N.footerText||"",onChange:C=>P({...N,footerText:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Livechat Embed HTML"}),y.jsx("textarea",{rows:4,value:N.livechatEmbedHtml||"",onChange:C=>P({...N,livechatEmbedHtml:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"WhatsApp Admin"}),y.jsx("input",{placeholder:"62812xxxxxxx",value:N.whatsappAdmin||"",onChange:C=>P({...N,whatsappAdmin:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"API Base URL"}),y.jsx("input",{placeholder:"https://domain-serverless.com",value:N.apiBaseUrl||"",onChange:C=>P({...N,apiBaseUrl:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"})]})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>Z.setSiteSettings(N),className:"bg-rose-600 hover:bg-rose-500 text-white px-6 py-3 rounded-xl font-bold",children:"Simpan Pengaturan"}),y.jsx("button",{onClick:()=>P(Z.getSiteSettings()),className:"bg-slate-800 hover:bg-slate-700 text-white px-6 py-3 rounded-xl font-bold border border-slate-700",children:"Reset"})]})]})}),i==="categories"&&y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 animate-in fade-in duration-500",children:[y.jsxs("div",{className:"bg-slate-900 p-8 rounded-3xl border border-slate-800",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Kelola Genre"}),y.jsxs("div",{className:"flex gap-2 mb-6",children:[y.jsx("input",{value:$,onChange:C=>Q(C.target.value),placeholder:"Genre baru...",className:"flex-1 bg-slate-800 p-3 rounded-xl outline-none"}),y.jsx("button",{onClick:()=>si("genre",$,"add"),className:"bg-rose-600 px-6 rounded-xl font-bold",children:"Add"})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(C=>y.jsxs("div",{className:"bg-slate-800 px-3 py-1.5 rounded-lg flex items-center gap-2 border border-slate-700",children:[y.jsx("span",{className:"text-sm",children:C}),y.jsx("button",{onClick:()=>si("genre",C,"remove"),children:y.jsx(se.X,{className:"w-3 h-3 text-slate-500 hover:text-rose-500"})})]},C))})]}),y.jsxs("div",{className:"bg-slate-900 p-8 rounded-3xl border border-slate-800",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Kelola Region"}),y.jsxs("div",{className:"flex gap-2 mb-6",children:[y.jsx("input",{value:pe,onChange:C=>te(C.target.value),placeholder:"Region baru...",className:"flex-1 bg-slate-800 p-3 rounded-xl outline-none"}),y.jsx("button",{onClick:()=>si("region",pe,"add"),className:"bg-rose-600 px-6 rounded-xl font-bold",children:"Add"})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(C=>y.jsxs("div",{className:"bg-slate-800 px-3 py-1.5 rounded-lg flex items-center gap-2 border border-slate-700",children:[y.jsx("span",{className:"text-sm",children:C}),y.jsx("button",{onClick:()=>si("region",C,"remove"),children:y.jsx(se.X,{className:"w-3 h-3 text-slate-500 hover:text-rose-500"})})]},C))})]})]}),i==="content"&&y.jsxs("div",{className:"animate-in fade-in duration-500",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-xl font-bold text-white",children:"Daftar Drama"}),y.jsxs("button",{onClick:()=>{J(!0),z(null),et({title:"",description:"",genre:[],region:[],thumbnail:"",rating:5,isHot:!1,isNew:!0,isPremiumDrama:!1,episodes:[]})},className:"bg-rose-600 text-white px-4 py-2 rounded-lg font-bold flex items-center gap-2 transition-all hover:bg-rose-500",children:[y.jsx(se.Plus,{className:"w-4 h-4"})," Tambah Drama"]})]}),I?y.jsxs("div",{className:"bg-slate-900 p-8 rounded-3xl border border-slate-800 animate-in zoom-in duration-300",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-6 uppercase tracking-widest",children:X?"Edit Drama":"Drama Baru"}),y.jsxs("form",{onSubmit:rs,className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[y.jsxs("div",{className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Judul Drama"}),y.jsx("input",{placeholder:"Judul...",value:be.title,onChange:C=>et({...be,title:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl outline-none text-sm",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Genre (Multi-select)"}),y.jsx("div",{className:"bg-slate-800 border border-slate-700 p-2 rounded-xl flex flex-wrap gap-1 max-h-32 overflow-y-auto custom-scrollbar",children:x.map(C=>y.jsx("button",{type:"button",onClick:()=>et({...be,genre:eo(be.genre,C)}),className:`px-2 py-1 rounded text-[10px] font-bold ${be.genre.includes(C)?"bg-rose-600 text-white":"bg-slate-700 text-slate-400"}`,children:C},C))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Region (Multi-select)"}),y.jsx("div",{className:"bg-slate-800 border border-slate-700 p-2 rounded-xl flex flex-wrap gap-1 max-h-32 overflow-y-auto custom-scrollbar",children:E.map(C=>y.jsx("button",{type:"button",onClick:()=>et({...be,region:eo(be.region,C)}),className:`px-2 py-1 rounded text-[10px] font-bold ${be.region.includes(C)?"bg-rose-600 text-white":"bg-slate-700 text-slate-400"}`,children:C},C))})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"URL Thumbnail"}),y.jsx("input",{value:be.thumbnail,onChange:C=>et({...be,thumbnail:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-xs",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Rating (0-5)"}),y.jsx("input",{type:"number",step:"0.1",max:"5",min:"0",value:be.rating,onChange:C=>et({...be,rating:parseFloat(C.target.value)}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-xs"})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Sinopsis AI"}),y.jsx("button",{type:"button",onClick:cs,disabled:O,className:"text-[10px] text-rose-500 font-bold underline",children:O?"Generating...":"AI Generate"})]}),y.jsx("textarea",{value:be.description,onChange:C=>et({...be,description:C.target.value}),className:"w-full bg-slate-800 border border-slate-700 p-3 rounded-xl min-h-[80px] text-xs"})]}),y.jsxs("div",{className:"flex flex-wrap gap-6 p-4 bg-slate-800/50 rounded-2xl border border-slate-700",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[y.jsx("input",{type:"checkbox",checked:be.isHot,onChange:C=>et({...be,isHot:C.target.checked}),className:"accent-rose-500"}),y.jsx("span",{className:"text-xs font-bold text-slate-300 group-hover:text-white transition-colors",children:"Trending"})]}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[y.jsx("input",{type:"checkbox",checked:be.isNew,onChange:C=>et({...be,isNew:C.target.checked}),className:"accent-amber-500"}),y.jsx("span",{className:"text-xs font-bold text-slate-300 group-hover:text-white transition-colors",children:"New Release"})]}),y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[y.jsx("input",{type:"checkbox",checked:be.isPremiumDrama,onChange:C=>et({...be,isPremiumDrama:C.target.checked}),className:"accent-rose-500"}),y.jsx("span",{className:"text-xs font-bold text-slate-300 group-hover:text-white transition-colors",children:"Full Premium"})]})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 mb-4",children:[y.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Import Episodes (paste JSON)"}),y.jsx("textarea",{rows:4,value:os,onChange:C=>$l(C.target.value),className:"w-full bg-slate-900 p-3 rounded-xl text-sm",placeholder:"Paste episodes array or object containing episodes here..."}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[y.jsx("input",{type:"checkbox",checked:ii,onChange:C=>ol(C.target.checked),className:"accent-rose-500"})," Apply pricing range"]}),y.jsx("div",{className:"text-[12px] text-slate-400",children:"(mark episodes as free/premium by range)"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("label",{className:"text-[12px] text-slate-400",children:"Free up to"}),y.jsx("input",{type:"number",min:0,value:li||"",onChange:C=>Rn(parseInt(C.target.value||"0")||0),className:"w-20 bg-slate-900 p-2 rounded-xl text-sm"}),y.jsx("label",{className:"text-[12px] text-slate-400",children:"Premium from"}),y.jsx("input",{type:"number",min:0,value:oi||"",onChange:C=>Pi(parseInt(C.target.value||"0")||0),className:"w-20 bg-slate-900 p-2 rounded-xl text-sm"})]})]}),y.jsxs("div",{className:"flex gap-2 mt-2",children:[y.jsx("button",{type:"button",onClick:()=>{try{const C=JSON.parse(os),ue=Mt(C);if(!ue||ue.length===0)return alert("Tidak menemukan array episode dalam JSON tersebut.");const De=ue.map((Te,We)=>ls(Te,We));et(Te=>({...Te,episodes:[...Te.episodes||[],...De]})),$l(""),alert(`Berhasil menambahkan ${De.length} episode (ditambahkan ke daftar saat ini).`)}catch(C){alert("JSON invalid: "+((C==null?void 0:C.message)||C))}},className:"bg-rose-600 px-4 py-2 rounded-xl font-bold",children:"Load Episodes"}),y.jsx("button",{type:"button",onClick:()=>{$l("")},className:"bg-slate-800 px-4 py-2 rounded-xl",children:"Clear"}),y.jsx("button",{type:"button",onClick:()=>{et(C=>({...C,episodes:[]}))},className:"bg-amber-500 px-4 py-2 rounded-xl font-bold",children:"Clear Episodes"})]})]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h4",{className:"font-bold text-white text-sm",children:["Episode (",be.episodes.length,")"]}),y.jsx("button",{type:"button",onClick:as,className:"text-xs bg-slate-800 px-3 py-1.5 rounded-lg border border-slate-700",children:"+ Tambah"})]}),y.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:be.episodes.map((C,ue)=>y.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700 rounded-xl flex items-center justify-between gap-2",children:[y.jsx("input",{placeholder:"Judul",value:C.title,onChange:De=>et({...be,episodes:be.episodes.map(Te=>Te.id===C.id?{...Te,title:De.target.value}:Te)}),className:"bg-slate-900 border border-slate-700 p-2 rounded-lg text-[10px] flex-1"}),y.jsx("input",{placeholder:"Video URL",value:C.videoUrl,onChange:De=>et({...be,episodes:be.episodes.map(Te=>Te.id===C.id?{...Te,videoUrl:De.target.value}:Te)}),className:"bg-slate-900 border border-slate-700 p-2 rounded-lg text-[10px] flex-1"}),y.jsxs("label",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-[8px] font-bold text-slate-500",children:"Premium"}),y.jsx("input",{type:"checkbox",checked:C.isPremium,onChange:De=>et({...be,episodes:be.episodes.map(Te=>Te.id===C.id?{...Te,isPremium:De.target.checked}:Te)}),className:"w-3 h-3"})]})]},C.id))}),y.jsxs("div",{className:"flex gap-4 pt-4 border-t border-slate-800",children:[y.jsx("button",{type:"submit",className:"flex-1 bg-rose-600 text-white py-3 rounded-xl font-black shadow-lg shadow-rose-600/20",children:"SIMPAN DRAMA"}),y.jsx("button",{type:"button",onClick:()=>J(!1),className:"bg-slate-800 text-white px-8 py-3 rounded-xl font-bold",children:"BATAL"})]})]})]})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(C=>y.jsxs("div",{className:"bg-slate-900 p-4 rounded-3xl border border-slate-800 flex gap-4 transition-all hover:border-slate-600",children:[y.jsx("img",{src:C.thumbnail,className:"w-20 h-28 object-cover rounded-xl shadow-lg"}),y.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-white truncate text-sm",children:C.title}),y.jsxs("p",{className:"text-[10px] text-slate-500 mt-1 line-clamp-1",children:[(C.genre||[]).join(", "),"  ",(C.region||[]).join(", ")]}),y.jsxs("div",{className:"flex items-center gap-1 text-amber-500 font-bold text-[10px] mt-1",children:[y.jsx(se.Star,{className:"w-3 h-3 fill-current"})," ",C.rating]})]}),y.jsxs("div",{className:"flex gap-4 border-t border-slate-800 pt-3",children:[y.jsx("button",{onClick:()=>{z(C),et(C),J(!0)},className:"text-xs text-rose-500 font-bold underline",children:"Edit"}),y.jsx("button",{onClick:()=>{confirm("Hapus drama ini?")&&(Z.deleteDrama(C.id),It())},className:"text-xs text-slate-500 font-bold underline hover:text-rose-500",children:"Hapus"})]})]})]},C.id))})]}),i==="gateway"&&y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in fade-in duration-500",children:[y.jsxs("form",{onSubmit:C=>{C.preventDefault(),Z.setGatewayConfig(ae),alert("Konfigurasi disimpan")},className:"bg-slate-900 p-8 rounded-3xl border border-slate-800",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Konfigurasi Payment Gateway"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"Tripay"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx("input",{placeholder:"API Key",value:((at=ae.tripay)==null?void 0:at.apiKey)||"",onChange:C=>R({...ae,tripay:{...ae.tripay,apiKey:C.target.value}}),className:"bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"}),y.jsx("input",{placeholder:"Private Key",value:((Tt=ae.tripay)==null?void 0:Tt.privateKey)||"",onChange:C=>R({...ae,tripay:{...ae.tripay,privateKey:C.target.value}}),className:"bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"}),y.jsx("input",{placeholder:"Merchant Code",value:((Mn=ae.tripay)==null?void 0:Mn.merchantCode)||"",onChange:C=>R({...ae,tripay:{...ae.tripay,merchantCode:C.target.value}}),className:"bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm"}),y.jsxs("select",{value:((sl=ae.tripay)==null?void 0:sl.mode)||"sandbox",onChange:C=>R({...ae,tripay:{...ae.tripay,mode:C.target.value}}),className:"bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm",children:[y.jsx("option",{value:"sandbox",children:"Sandbox"}),y.jsx("option",{value:"production",children:"Production"})]})]})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"Paydisini"}),y.jsx("input",{placeholder:"API Key",value:((ds=ae.paydisini)==null?void 0:ds.apiKey)||"",onChange:C=>R({...ae,paydisini:{...ae.paydisini,apiKey:C.target.value}}),className:"bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm w-full"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase mb-3",children:"QRIS Static"}),y.jsx("input",{placeholder:"URL Gambar QRIS Static",value:((fs=ae.qris)==null?void 0:fs.staticUrl)||"",onChange:C=>R({...ae,qris:{staticUrl:C.target.value}}),className:"bg-slate-800 border border-slate-700 p-3 rounded-xl text-sm w-full"})]}),y.jsx("button",{type:"submit",className:"bg-rose-600 text-white px-6 py-3 rounded-xl font-black",children:"Simpan Konfigurasi"})]})]}),y.jsxs("div",{className:"bg-slate-900 p-8 rounded-3xl border border-slate-800",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Testing"}),y.jsxs("div",{className:"space-y-6 text-sm",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{className:"col-span-1",children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Nominal Test"}),y.jsx("input",{type:"number",value:F,onChange:C=>W(parseInt(C.target.value||"0")),className:"bg-slate-800 border border-slate-700 p-3 rounded-xl w-full"})]}),y.jsxs("div",{className:"flex items-end gap-3",children:[y.jsx("button",{onClick:async()=>{var De;const{payments:C}=await Lp(async()=>{const{payments:Te}=await Promise.resolve().then(()=>gg);return{payments:Te}},void 0),ue=await C.createTripayTransaction({method:"QRIS",amount:F,customer_name:"Admin Test",customer_email:"admin@example.com",merchant_ref:`TEST-${Date.now()}`,credentials:ae.tripay});ve(ue),(De=ue==null?void 0:ue.data)!=null&&De.checkout_url&&window.open(ue.data.checkout_url,"_blank")},className:"bg-rose-600 text-white px-4 py-3 rounded-xl font-black",children:"Test Tripay"}),y.jsx("button",{onClick:async()=>{var Te,We;const{payments:C}=await Lp(async()=>{const{payments:Et}=await Promise.resolve().then(()=>gg);return{payments:Et}},void 0),ue=await C.createPaydisiniTransaction({unique_code:`TEST-${Date.now()}`,service:"QRIS",amount:F,note:"Admin Test",return_url:window.location.origin,callback_url:window.location.origin,credentials:ae.paydisini});ke(ue);const De=((Te=ue==null?void 0:ue.data)==null?void 0:Te.payment_url)||((We=ue==null?void 0:ue.data)==null?void 0:We.checkout_url);De&&window.open(De,"_blank")},className:"bg-amber-500 text-white px-4 py-3 rounded-xl font-black",children:"Test Paydisini"}),y.jsx("button",{onClick:()=>{var C;$e(((C=ae.qris)==null?void 0:C.staticUrl)||"")},className:"bg-slate-800 text-white px-4 py-3 rounded-xl font-black border border-slate-700",children:"Generate QR Static"})]})]}),y.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded-xl border border-slate-700",children:[y.jsx("div",{className:"text-slate-300",children:"Tripay"}),y.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full ${(to=ae.tripay)!=null&&to.apiKey&&((ai=ae.tripay)!=null&&ai.privateKey)&&((al=ae.tripay)!=null&&al.merchantCode)?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-amber-500/10 text-amber-500 border border-amber-500/20"}`,children:(In=ae.tripay)!=null&&In.apiKey&&((Dn=ae.tripay)!=null&&Dn.privateKey)&&((ri=ae.tripay)!=null&&ri.merchantCode)?"Siap":"Belum Lengkap"})]}),y.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded-xl border border-slate-700",children:[y.jsx("div",{className:"text-slate-300",children:"Paydisini"}),y.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full ${(Un=ae.paydisini)!=null&&Un.apiKey?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-amber-500/10 text-amber-500 border border-amber-500/20"}`,children:(lt=ae.paydisini)!=null&&lt.apiKey?"Siap":"Belum Lengkap"})]}),y.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 p-3 rounded-xl border border-slate-700",children:[y.jsx("div",{className:"text-slate-300",children:"QRIS Static"}),y.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest px-3 py-1 rounded-full ${(no=ae.qris)!=null&&no.staticUrl?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-amber-500/10 text-amber-500 border border-amber-500/20"}`,children:(io=ae.qris)!=null&&io.staticUrl?"Siap":"Belum Lengkap"})]}),ne&&y.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800",children:[y.jsx("div",{className:"text-xs font-bold text-slate-400 mb-2",children:"Tripay Response"}),y.jsx("pre",{className:"text-[10px] text-slate-300 overflow-x-auto",children:JSON.stringify(ne,null,2)})]}),_e&&y.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800",children:[y.jsx("div",{className:"text-xs font-bold text-slate-400 mb-2",children:"Paydisini Response"}),y.jsx("pre",{className:"text-[10px] text-slate-300 overflow-x-auto",children:JSON.stringify(_e,null,2)})]}),pt&&y.jsxs("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 flex items-center gap-4",children:[y.jsx("img",{src:pt,className:"w-40 h-40 rounded-xl border border-slate-700 bg-white p-2"}),y.jsxs("div",{className:"text-slate-300 text-sm font-bold",children:["Rp ",F.toLocaleString()]})]})]})]})]}),i==="dramaapi"&&y.jsx("div",{className:"grid grid-cols-1 gap-8 animate-in fade-in duration-500",children:y.jsxs("div",{className:"bg-slate-900 p-6 rounded-3xl border border-slate-800",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Drama API  Paste Raw Data"}),y.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Hapus tester  cukup paste raw JSON/object atau raw ARRAY lalu tekan ",y.jsx("strong",{children:"Load"})," dan ",y.jsx("strong",{children:"Import"}),"."]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Paste raw JSON / object"}),y.jsx("textarea",{value:jl,onChange:C=>ns(C.target.value),rows:6,className:"w-full bg-slate-800 p-3 rounded-xl text-sm",placeholder:"Paste single JSON object here..."}),y.jsxs("div",{className:"flex gap-2 mt-2",children:[y.jsx("button",{onClick:()=>{try{const C=JSON.parse(jl);wn(C),tn(null),alert("JSON parsed, ready.")}catch(C){alert("Invalid JSON: "+((C==null?void 0:C.message)||C))}},className:"bg-amber-500 px-4 py-2 rounded-xl font-bold",children:"Load JSON"}),y.jsx("button",{onClick:()=>{ns(""),wn(null),tn(null)},className:"bg-slate-800 px-4 py-2 rounded-xl",children:"Clear"})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Paste raw ARRAY"}),y.jsx("textarea",{value:is||"",onChange:C=>ni(C.target.value),rows:6,className:"w-full bg-slate-800 p-3 rounded-xl text-sm",placeholder:"Paste JSON array here..."}),y.jsxs("div",{className:"flex gap-2 mt-2",children:[y.jsx("button",{onClick:()=>{try{const C=JSON.parse(is||"");wn(C),tn(null),alert("Array parsed, ready.")}catch(C){alert("Invalid JSON array: "+((C==null?void 0:C.message)||C))}},className:"bg-amber-500 px-4 py-2 rounded-xl font-bold",children:"Load Array"}),y.jsx("button",{onClick:()=>{ni(""),wn(null),tn(null)},className:"bg-slate-800 px-4 py-2 rounded-xl",children:"Clear"})]})]}),y.jsx("div",{className:"flex items-center gap-3",children:y.jsx("button",{onClick:async()=>{await ss()},disabled:gt||!ht,className:"bg-rose-600 px-4 py-2 rounded-xl font-bold",children:gt?"Importing...":"Import"})}),ht&&y.jsxs("div",{className:"mt-4 bg-slate-900 p-4 rounded-xl border border-slate-800 text-sm",children:[y.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Response (truncated):"}),y.jsx("pre",{className:"text-[12px] whitespace-pre-wrap max-h-72 overflow-auto",children:JSON.stringify(ht,null,2)})]}),Kt&&y.jsxs("div",{className:"mt-4 bg-slate-900 p-4 rounded-xl border border-slate-800 text-sm",children:[y.jsx("div",{className:"font-bold text-white mb-2",children:"Import Result"}),y.jsxs("div",{className:"text-slate-300",children:["Added: ",Kt.added,"  Skipped: ",Kt.skipped,"  Errors: ",Kt.errors]})]})]})}),i==="melolo"&&y.jsx("div",{className:"grid grid-cols-1 gap-8 animate-in fade-in duration-500",children:y.jsxs("div",{className:"bg-slate-900 p-6 rounded-3xl border border-slate-800",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Melolo API  Paste Raw Data"}),y.jsxs("p",{className:"text-slate-400 text-sm mb-4",children:["Paste raw Melolo JSON/object (must contain ",y.jsx("strong",{children:"books"})," array) or paste an array directly. Press ",y.jsx("strong",{children:"Load Melolo"})," to load into the importer."]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Paste Melolo JSON / object"}),y.jsx("textarea",{value:Rt,onChange:C=>mn(C.target.value),rows:6,className:"w-full bg-slate-800 p-3 rounded-xl text-sm",placeholder:"Paste Melolo JSON/object here (will look for books[])"}),y.jsxs("div",{className:"flex gap-2 mt-2",children:[y.jsx("button",{onClick:()=>{try{const C=JSON.parse(Rt||"");C&&Array.isArray(C.books)?(wn(C.books),tn(null),alert("Melolo books[] parsed and loaded as array.")):Array.isArray(C)?(wn(C),tn(null),alert("Parsed array loaded.")):alert("JSON parsed but no books[] array found. Paste object containing a books array or an array.")}catch(C){alert("Invalid JSON: "+((C==null?void 0:C.message)||C))}},className:"bg-amber-500 px-4 py-2 rounded-xl font-bold",children:"Load Melolo"}),y.jsx("button",{onClick:()=>{mn(""),wn(null),tn(null)},className:"bg-slate-800 px-4 py-2 rounded-xl",children:"Clear"})]})]}),y.jsx("div",{className:"flex items-center gap-3",children:y.jsx("button",{onClick:async()=>{await ss()},disabled:gt||!ht,className:"bg-rose-600 px-4 py-2 rounded-xl font-bold",children:gt?"Importing...":"Import"})}),ht&&y.jsxs("div",{className:"mt-4 bg-slate-900 p-4 rounded-xl border border-slate-800 text-sm",children:[y.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Response (truncated):"}),y.jsx("pre",{className:"text-[12px] whitespace-pre-wrap max-h-72 overflow-auto",children:JSON.stringify(ht,null,2)})]}),Kt&&y.jsxs("div",{className:"mt-4 bg-slate-900 p-4 rounded-xl border border-slate-800 text-sm",children:[y.jsx("div",{className:"font-bold text-white mb-2",children:"Import Result"}),y.jsxs("div",{className:"text-slate-300",children:["Added: ",Kt.added,"  Skipped: ",Kt.skipped,"  Errors: ",Kt.errors]})]})]})}),i==="verification"&&y.jsxs("div",{className:"bg-slate-900 rounded-3xl border border-slate-800 overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-500",children:[y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-slate-800/50 text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-5",children:"User Account"}),y.jsx("th",{className:"px-6 py-5",children:"Plan Detail"}),y.jsx("th",{className:"px-6 py-5",children:"Total Paid"}),y.jsx("th",{className:"px-6 py-5",children:"Status"}),y.jsx("th",{className:"px-6 py-5 text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-800",children:m.map(C=>y.jsxs("tr",{className:"hover:bg-slate-800/20 transition-colors",children:[y.jsxs("td",{className:"px-6 py-5",children:[y.jsx("div",{className:"font-bold text-white",children:C.userName}),y.jsx("div",{className:"text-[10px] text-slate-500",children:C.userEmail})]}),y.jsxs("td",{className:"px-6 py-5",children:[y.jsx("div",{className:"font-bold text-slate-300",children:C.planName}),y.jsx("div",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-tighter",children:C.paymentMethod})]}),y.jsxs("td",{className:"px-6 py-5 font-black text-rose-500",children:["Rp ",C.amount.toLocaleString()]}),y.jsx("td",{className:"px-6 py-5",children:y.jsx("span",{className:`text-[10px] font-black uppercase tracking-tighter px-3 py-1 rounded-full ${C.status==="PENDING"?"bg-amber-500/10 text-amber-500 border border-amber-500/20":"bg-green-500/10 text-green-500 border border-green-500/20"}`,children:C.status})}),y.jsx("td",{className:"px-6 py-5 text-right",children:C.status==="PENDING"&&y.jsx("button",{onClick:()=>Qa(C.id),className:"bg-green-600 hover:bg-green-500 text-white px-5 py-2 rounded-xl text-xs font-black transition-all shadow-lg shadow-green-600/20",children:"APPROVE & UPGRADE"})})]},C.id))})]}),m.length===0&&y.jsx("div",{className:"py-32 text-center text-slate-500 italic font-bold",children:"Tidak ada antrean pembayaran."})]}),i==="users"&&y.jsx("div",{className:"bg-slate-900 rounded-3xl border border-slate-800 overflow-hidden shadow-2xl animate-in slide-in-from-right duration-500",children:L?y.jsxs("div",{className:"p-8 animate-in zoom-in duration-300",children:[y.jsxs("h3",{className:"font-black text-white text-xl mb-6",children:["Modify Account: ",L.name]}),y.jsxs("form",{onSubmit:us,className:"grid grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Full Name"}),y.jsx("input",{value:L.name,onChange:C=>j({...L,name:C.target.value}),className:"w-full bg-slate-800 p-3 rounded-xl text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Email"}),y.jsx("input",{value:L.email,onChange:C=>j({...L,email:C.target.value}),className:"w-full bg-slate-800 p-3 rounded-xl text-sm"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Role"}),y.jsxs("select",{value:L.role,onChange:C=>j({...L,role:C.target.value}),className:"w-full bg-slate-800 p-3 rounded-xl text-sm",children:[y.jsx("option",{value:tl.USER,children:"User"}),y.jsx("option",{value:tl.ADMIN,children:"Admin"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Premium Status"}),y.jsxs("select",{value:L.isPremium?"true":"false",onChange:C=>j({...L,isPremium:C.target.value==="true"}),className:"w-full bg-slate-800 p-3 rounded-xl text-sm",children:[y.jsx("option",{value:"false",children:"Free Access"}),y.jsx("option",{value:"true",children:"Premium Access"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Password (kosong = tidak diubah)"}),y.jsx("input",{type:"password",value:de,onChange:C=>He(C.target.value),className:"w-full bg-slate-800 p-3 rounded-xl text-sm",placeholder:"Isi jika ingin reset password"})]}),y.jsxs("div",{className:"col-span-2 flex gap-4 mt-4",children:[y.jsx("button",{type:"submit",className:"flex-1 bg-rose-600 p-3 rounded-xl font-black text-white",children:"UPDATE USER"}),y.jsx("button",{type:"button",onClick:()=>j(null),className:"flex-1 bg-slate-800 p-3 rounded-xl font-bold text-white",children:"CANCEL"})]})]})]}):y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"bg-slate-800 text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-4",children:"Account Holder"}),y.jsx("th",{className:"px-6 py-4",children:"Current Status"}),y.jsx("th",{className:"px-6 py-4",children:"Expiry"}),y.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-slate-800",children:r.map(C=>y.jsxs("tr",{className:"hover:bg-slate-800/20",children:[y.jsxs("td",{className:"px-6 py-4 flex items-center gap-3",children:[y.jsx("img",{src:C.avatar,className:"w-10 h-10 rounded-full border border-slate-700"}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-white",children:C.name}),y.jsx("div",{className:"text-[10px] text-slate-500 uppercase font-black",children:C.role})]})]}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-tighter ${C.isPremium?"bg-amber-500/10 text-amber-500 border border-amber-500/20":"bg-slate-800 text-slate-500 border border-slate-700"}`,children:C.isPremium?"Premium":"Free"})}),y.jsx("td",{className:"px-6 py-4 text-[10px] font-bold text-slate-500",children:C.premiumExpiresAt?new Date(C.premiumExpiresAt).toLocaleString():"N/A"}),y.jsx("td",{className:"px-6 py-4 text-right",children:y.jsx("button",{onClick:()=>j(C),className:"bg-slate-800 hover:bg-slate-700 px-4 py-2 rounded-lg text-rose-500 font-black text-xs transition-all",children:"EDIT"})})]},C.id))})]})}),i==="plans"&&y.jsx(y.Fragment,{children:he?y.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2rem] border border-slate-800 animate-in zoom-in duration-300 max-w-3xl",children:[y.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:Ne?"Edit Paket Langganan":"Paket Langganan Baru"}),y.jsxs("form",{onSubmit:Wl,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Nama Paket"}),y.jsx("input",{value:Ue.name,onChange:C=>it({...Ue,name:C.target.value}),className:"w-full bg-slate-800 p-3 rounded-xl text-sm border border-slate-700",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Harga"}),y.jsx("input",{type:"number",value:Ue.price,onChange:C=>it({...Ue,price:parseInt(C.target.value||"0")}),className:"w-full bg-slate-800 p-3 rounded-xl text-sm border border-slate-700",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Durasi"}),y.jsx("input",{placeholder:"contoh: 24h atau 30d",value:Ue.duration,onChange:C=>it({...Ue,duration:C.target.value}),className:"w-full bg-slate-800 p-3 rounded-xl text-sm border border-slate-700",required:!0})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase mb-2 block",children:"Deskripsi"}),y.jsx("textarea",{value:Ue.description,onChange:C=>it({...Ue,description:C.target.value}),className:"w-full bg-slate-800 p-3 rounded-xl text-sm border border-slate-700 min-h-[80px]"})]}),y.jsxs("div",{className:"md:col-span-2 flex gap-4 pt-2",children:[y.jsx("button",{type:"submit",className:"flex-1 bg-rose-600 text-white py-3 rounded-xl font-black shadow-lg shadow-rose-600/20",children:"SIMPAN PAKET"}),y.jsx("button",{type:"button",onClick:()=>{le(!1),ge(null)},className:"bg-slate-800 text-white px-8 py-3 rounded-xl font-bold border border-slate-700",children:"BATAL"})]})]})]}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-in slide-in-from-top duration-500",children:[v.map(C=>y.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2rem] border border-slate-800 flex flex-col justify-between hover:border-rose-500 transition-all shadow-2xl",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-black text-white text-xl mb-1",children:C.name}),y.jsxs("p",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest mb-4",children:["Duration: ",C.duration]}),y.jsxs("p",{className:"text-3xl font-black text-rose-500 mb-6",children:["Rp ",C.price.toLocaleString()]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>{ge(C),it(C),le(!0)},className:"flex-1 bg-slate-800 p-3 rounded-xl text-rose-500 font-bold hover:bg-slate-700",children:y.jsx(se.Edit,{className:"w-5 h-5 mx-auto"})}),y.jsx("button",{onClick:()=>{confirm("Hapus paket ini?")&&(Z.deletePlan(C.id),It())},className:"flex-1 bg-slate-800 p-3 rounded-xl text-slate-500 font-bold hover:text-rose-500",children:y.jsx(se.Trash2,{className:"w-5 h-5 mx-auto"})})]})]},C.id)),y.jsxs("button",{onClick:()=>{le(!0),ge(null),it({name:"",price:0,duration:"",description:""})},className:"border-4 border-dashed border-slate-800 rounded-[2rem] p-8 text-slate-700 font-black text-lg hover:border-rose-500 hover:text-rose-500 transition-all flex items-center justify-center gap-4",children:[y.jsx(se.Plus,{className:"w-8 h-8"})," NEW PLAN"]})]})})]})},GA=({user:i,onLogout:t,onBack:l})=>i?y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-2xl mx-auto animate-in slide-in-from-bottom duration-500",children:[y.jsxs("button",{onClick:l,className:"flex items-center gap-2 text-slate-400 hover:text-white mb-8 transition-colors",children:[y.jsx(se.ChevronRight,{className:"w-5 h-5 rotate-180"})," Kembali ke Home"]}),y.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-[2.5rem] overflow-hidden shadow-2xl",children:[y.jsx("div",{className:"h-32 bg-gradient-to-r from-rose-600 to-amber-600"}),y.jsxs("div",{className:"px-8 pb-8",children:[y.jsxs("div",{className:"relative -mt-16 mb-6",children:[y.jsx("img",{src:i.avatar,className:"w-32 h-32 rounded-full border-8 border-slate-900 shadow-xl"}),y.jsx("div",{className:`absolute bottom-2 left-24 px-3 py-1 rounded-full text-[10px] font-black uppercase shadow-lg ${i.isPremium?"bg-amber-500 text-white":"bg-slate-700 text-slate-300"}`,children:i.isPremium?"Premium":"Free Account"})]}),y.jsx("h1",{className:"text-3xl font-black text-white mb-1",children:i.name}),y.jsx("p",{className:"text-slate-400 font-medium mb-8",children:i.email}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"p-4 bg-slate-800/40 border border-slate-800 rounded-2xl flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(se.User,{className:"w-5 h-5 text-slate-500"}),y.jsx("span",{className:"text-sm font-bold text-slate-300",children:"Account Role"})]}),y.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-white",children:i.role})]}),y.jsxs("div",{className:"p-4 bg-slate-800/40 border border-slate-800 rounded-2xl flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(se.Clock,{className:"w-5 h-5 text-slate-500"}),y.jsx("span",{className:"text-sm font-bold text-slate-300",children:"Joined Since"})]}),y.jsx("span",{className:"text-xs font-bold text-white",children:new Date(i.createdAt).toLocaleDateString()})]})]}),y.jsxs("button",{onClick:t,className:"w-full mt-10 bg-slate-800 hover:bg-rose-600 text-white py-4 rounded-2xl font-black transition-all flex items-center justify-center gap-3 border border-slate-700",children:[y.jsx(se.LogOut,{className:"w-5 h-5"})," Logout dari Akun"]}),y.jsxs("button",{onClick:()=>window.location.hash="#/edit-profile",className:"w-full mt-4 bg-rose-600 hover:bg-rose-500 text-white py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-3 border border-rose-700",children:[y.jsx(se.Edit,{className:"w-5 h-5"})," Edit Profile"]})]})]})]}):y.jsx("div",{className:"pt-32 text-center text-slate-500",children:"Silakan login terlebih dahulu."}),HA=({user:i,onUpgrade:t,onBack:l})=>{const s=Z.getPlans();return y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-5xl mx-auto animate-in fade-in duration-500",children:[y.jsxs("div",{className:"mb-10 text-center",children:[y.jsx("h1",{className:"text-4xl font-black text-white mb-4",children:"Upgrade ke Premium"}),y.jsx("p",{className:"text-slate-400 max-w-xl mx-auto",children:"Nonton semua episode eksklusif, bebas iklan, dan kualitas video HD hanya dengan berlangganan paket pilihan."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((r,d)=>y.jsxs("div",{className:`p-8 rounded-[2.5rem] border-2 flex flex-col ${d===1?"border-rose-500 bg-rose-500/5 shadow-2xl scale-105":"border-slate-800 bg-slate-900/40"}`,children:[y.jsx("h3",{className:"text-xl font-black text-white mb-2",children:r.name}),y.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest mb-6",children:r.duration}),y.jsxs("div",{className:"text-4xl font-black text-rose-500 mb-6",children:[y.jsx("span",{className:"text-sm font-medium mr-1",children:"Rp"}),r.price.toLocaleString()]}),y.jsx("p",{className:"text-sm text-slate-300 leading-relaxed mb-8 flex-1",children:r.description}),y.jsx("button",{onClick:t,className:`w-full py-4 rounded-2xl font-black transition-all ${d===1?"bg-rose-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:"Pilih Paket"})]},r.id))}),y.jsxs("div",{className:"mt-16 p-8 bg-slate-900 border border-slate-800 rounded-[2.5rem] flex flex-col md:flex-row items-center justify-between gap-8",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:"Status Saat Ini"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-3 h-3 rounded-full animate-pulse ${i!=null&&i.isPremium?"bg-green-500":"bg-slate-500"}`}),y.jsx("span",{className:"font-black uppercase tracking-widest text-sm",children:i!=null&&i.isPremium?"Member Premium Aktif":"User Gratis"})]})]}),y.jsx("button",{onClick:l,className:"bg-slate-800 px-10 py-4 rounded-2xl font-bold text-white border border-slate-700",children:"Kembali Menonton"})]})]})},qA=({filter:i,onSelectDrama:t,onBack:l})=>{const[s,r]=K.useState([]);return K.useEffect(()=>{const d=Z.getDramas();if(!i){r(d);return}let m=d;if(i.type==="genre")m=d.filter(g=>g.genre.some(v=>v.toLowerCase()===i.value.toLowerCase()));else if(i.type==="region")m=d.filter(g=>g.region.some(v=>v.toLowerCase()===i.value.toLowerCase()));else{const g=i.value.toLowerCase();m=d.filter(v=>v.title.toLowerCase().includes(g)||v.description.toLowerCase().includes(g)||v.genre.some(h=>h.toLowerCase().includes(g))||v.region.some(h=>h.toLowerCase().includes(g)))}r(m)},[i]),y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-10",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-black text-white",children:(i==null?void 0:i.type)==="search"?`Hasil Cari: "${i.value}"`:(i==null?void 0:i.type)==="genre"?`Genre: ${i.value}`:(i==null?void 0:i.type)==="region"?`Region: ${i.value}`:"Semua Drama"}),y.jsxs("p",{className:"text-slate-500 font-medium",children:[s.length," drama ditemukan."]})]}),y.jsxs("button",{onClick:l,className:"text-slate-400 hover:text-white font-bold flex items-center gap-2",children:[y.jsx(se.X,{className:"w-5 h-5"})," Tutup"]})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:s.map(d=>y.jsx(ki,{drama:d,onClick:t},d.id))}),s.length===0&&y.jsxs("div",{className:"py-32 text-center",children:[y.jsx(se.Search,{className:"w-16 h-16 text-slate-800 mx-auto mb-4"}),y.jsx("p",{className:"text-slate-500 font-bold text-xl italic",children:"Ups! Tidak ada drama yang cocok."})]})]})},VA=()=>{const i=Z.getGenres().sort(),[t,l]=K.useState(null),s=Z.getDramas(),r=t?s.filter(d=>{var m;return(m=d.genre)==null?void 0:m.includes(t)}):[];return y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-6xl mx-auto",children:[y.jsx("h1",{className:"text-3xl font-black text-white mb-4",children:"Genres"}),y.jsxs("div",{className:"flex gap-3 flex-wrap mb-6",children:[i.map(d=>y.jsx("button",{onClick:()=>l(d),className:`px-3 py-1 rounded-full font-bold ${t===d?"bg-rose-600 text-white":"bg-slate-800 text-slate-300"}`,children:d},d)),y.jsx("button",{onClick:()=>l(null),className:"px-3 py-1 rounded-full font-bold bg-slate-700 text-slate-300",children:"All"})]}),t?y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-white mb-4",children:["Dramas in ",t,""]}),y.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:[r.map(d=>y.jsx(ki,{drama:d,onClick:m=>window.location.hash=`#/details/${m}`,onFilter:()=>window.location.hash="#/search"},d.id)),r.length===0&&y.jsx("div",{className:"text-slate-400 italic",children:"Tidak ada drama di genre ini."})]})]}):y.jsx("div",{className:"text-slate-400",children:"Pilih sebuah genre untuk melihat daftar dramanya."})]})},zA=()=>{const i=Z.getDramas().filter(t=>t.isNew);return y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-6xl mx-auto",children:[y.jsx("h1",{className:"text-3xl font-black text-white mb-4",children:"New Releases"}),i.length===0?y.jsx("div",{className:"text-slate-400",children:"Tidak ada release baru saat ini."}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:i.map(t=>y.jsx(ki,{drama:t,onClick:l=>window.location.hash=`#/details/${l}`,onFilter:()=>window.location.hash="#/search"},t.id))})]})},BA=()=>{const i=Z.getDramas(),t=Array.from(new Set(i.flatMap(l=>l.region||[]))).sort();return y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-6xl mx-auto",children:[y.jsx("h1",{className:"text-3xl font-black text-white mb-4",children:"Realis / Crew (by region)"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(l=>y.jsxs("div",{className:"bg-slate-900 p-4 rounded-2xl border border-slate-800",children:[y.jsx("h3",{className:"font-bold text-white mb-2",children:l}),y.jsx("div",{className:"text-slate-400 text-sm",children:i.filter(s=>{var r;return(r=s.region)==null?void 0:r.includes(l)}).map(s=>y.jsxs("div",{className:"flex items-center justify-between py-1",children:[y.jsx("div",{children:s.title}),y.jsx("button",{onClick:()=>window.location.hash=`#/details/${s.id}`,className:"text-rose-500 font-bold text-sm",children:"Tonton"})]},s.id))})]},l))})]})},OA=()=>{const t=Z.getDramas().sort((l,s)=>(s.views||0)-(l.views||0)).slice(0,24);return y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-6xl mx-auto",children:[y.jsx("h1",{className:"text-3xl font-black text-white mb-4",children:"Popular"}),t.length===0?y.jsx("div",{className:"text-slate-400",children:"Belum ada data views."}):y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:t.map(l=>y.jsx(ki,{drama:l,onClick:s=>window.location.hash=`#/details/${s}`,onFilter:()=>window.location.hash="#/search"},l.id))})]})},JA=({onBack:i})=>{const t=Z.getCurrentUser(),[l,s]=K.useState(t),[r,d]=K.useState(""),[m,g]=K.useState(""),[v,h]=K.useState(""),[x,T]=K.useState("");K.useEffect(()=>{s(Z.getCurrentUser())},[]),K.useEffect(()=>{l&&(d(l.name||""),g(l.avatar||""))},[l]);const E=b=>{if(b.preventDefault(),!l)return alert("Tidak ada user.");if(v&&v!==x)return alert("Password konfirmasi tidak cocok.");const N={...l,name:r,avatar:m||l.avatar,password:v||l.password};Z.saveUser(N),Z.setCurrentUser(N),alert("Profil berhasil diperbarui."),i()};return l?y.jsxs("div",{className:"pt-24 pb-20 px-4 md:px-8 max-w-md mx-auto",children:[y.jsx("button",{onClick:i,className:"text-slate-400 mb-6",children:"Kembali"}),y.jsxs("div",{className:"bg-slate-900 p-8 rounded-3xl border border-slate-800",children:[y.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:"Edit Profile"}),y.jsxs("form",{onSubmit:E,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Nama"}),y.jsx("input",{value:r,onChange:b=>d(b.target.value),className:"w-full bg-slate-800 p-3 rounded-xl"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Avatar URL"}),y.jsx("input",{value:m,onChange:b=>g(b.target.value),className:"w-full bg-slate-800 p-3 rounded-xl"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"New Password"}),y.jsx("input",{type:"password",value:v,onChange:b=>h(b.target.value),className:"w-full bg-slate-800 p-3 rounded-xl"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Confirm Password"}),y.jsx("input",{type:"password",value:x,onChange:b=>T(b.target.value),className:"w-full bg-slate-800 p-3 rounded-xl"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{type:"submit",className:"flex-1 bg-rose-600 py-3 rounded-xl font-bold",children:"Simpan"}),y.jsx("button",{type:"button",onClick:i,className:"flex-1 bg-slate-800 py-3 rounded-xl",children:"Batal"})]})]})]})]}):y.jsx("div",{className:"pt-32 text-center text-slate-500",children:"Silakan login terlebih dahulu."})},jn={_parseJsonSafe:async i=>{try{return await i.json()}catch{const t=await i.text().catch(()=>"");try{return t?JSON.parse(t):{error:"Empty response",status:i.status}}catch{return{error:t||"Non-JSON response",status:i.status}}}},createTripayTransaction:async i=>{var r;const t=((r=Z.getSiteSettings())==null?void 0:r.apiBaseUrl)||window.location.origin,l=await fetch(new URL("/api/tripay/create",t).toString(),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)}),s=await jn._parseJsonSafe(l);return l.ok?s:{success:!1,message:(s==null?void 0:s.error)||(s==null?void 0:s.message)||"Tripay create failed",data:s}},getTripayStatus:async(i,t)=>{var m;const l=((m=Z.getSiteSettings())==null?void 0:m.apiBaseUrl)||window.location.origin,s=new URL("/api/tripay/status",l);s.searchParams.set("reference",i),t!=null&&t.apiKey&&s.searchParams.set("apiKey",t.apiKey),t!=null&&t.mode&&s.searchParams.set("mode",t.mode);const r=await fetch(s.toString(),{headers:{Accept:"application/json"}}),d=await jn._parseJsonSafe(r);return r.ok?d:{success:!1,message:(d==null?void 0:d.error)||(d==null?void 0:d.message)||"Tripay status failed",data:d}},createPaydisiniTransaction:async i=>{var r;const t=((r=Z.getSiteSettings())==null?void 0:r.apiBaseUrl)||window.location.origin,l=await fetch(new URL("/api/paydisini/create",t).toString(),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)});return await jn._parseJsonSafe(l)},getPaydisiniStatus:async(i,t)=>{var m;const l=((m=Z.getSiteSettings())==null?void 0:m.apiBaseUrl)||window.location.origin,s=new URL("/api/paydisini/status",l);s.searchParams.set("unique_code",i),t!=null&&t.apiKey&&s.searchParams.set("apiKey",t.apiKey);const r=await fetch(s.toString(),{headers:{Accept:"application/json"}});return await jn._parseJsonSafe(r)}},gg=Object.freeze(Object.defineProperty({__proto__:null,payments:jn},Symbol.toStringTag,{value:"Module"})),FA=[{id:"QRIS_STATIC",name:"QRIS Static (Manual Approve)",type:"Digital"},{id:"TRIPAY_QRIS",name:"Tripay - QRIS",type:"Gateway"},{id:"TRIPAY_BCA",name:"Tripay - BCA VA",type:"Gateway"},{id:"PAYDISINI_QRIS",name:"Paydisini - QRIS",type:"Gateway"}],YA=({isOpen:i,user:t,onClose:l,onSuccess:s})=>{var z;const[r,d]=K.useState([]),[m,g]=K.useState(null),[v,h]=K.useState(""),[x,T]=K.useState(1),[E,b]=K.useState(!1),[N,P]=K.useState(null),I=Z.getGatewayConfig(),J=((z=I.qris)==null?void 0:z.staticUrl)||"";K.useEffect(()=>{i&&(d(Z.getPlans()),T(1),h(""))},[i]);const X=async()=>{var O,q,$,Q,pe;if(!(!m||!v||!t)){b(!0);try{if(v==="QRIS_STATIC")Z.createRequest({userId:t.id,userName:t.name,userEmail:t.email,planId:m.id,planName:m.name,paymentMethod:v,amount:m.price}),P(null),T(4);else if(v.startsWith("TRIPAY")){const te=v.replace("TRIPAY_",""),he=`INV-${Date.now()}-${t.id}`,le=await jn.createTripayTransaction({method:te,amount:m.price,customer_name:t.name,customer_email:t.email,merchant_ref:he,item_name:m.name,credentials:I.tripay});if(le!=null&&le.success){const Ne=(O=le.data)==null?void 0:O.reference,ge=(q=le.data)==null?void 0:q.checkout_url;P({provider:"TRIPAY",reference:Ne,checkout_url:ge}),Z.createRequest({userId:t.id,userName:t.name,userEmail:t.email,planId:m.id,planName:m.name,paymentMethod:v,amount:m.price,gatewayRef:Ne}),T(4),ge&&window.open(ge,"_blank")}else alert((le==null?void 0:le.message)||"Gagal membuat transaksi Tripay")}else if(v.startsWith("PAYDISINI")){const te=v.replace("PAYDISINI_",""),he=`INV-${Date.now()}-${t.id}`,le=await jn.createPaydisiniTransaction({unique_code:he,service:te,amount:m.price,note:m.name,return_url:window.location.origin,callback_url:window.location.origin,credentials:I.paydisini});if((le==null?void 0:le.status)===!0||(le==null?void 0:le.status)==="Success"){const Ne=(($=le==null?void 0:le.data)==null?void 0:$.unique_code)||he,ge=((Q=le==null?void 0:le.data)==null?void 0:Q.payment_url)||((pe=le==null?void 0:le.data)==null?void 0:pe.checkout_url);P({provider:"PAYDISINI",reference:Ne,checkout_url:ge}),Z.createRequest({userId:t.id,userName:t.name,userEmail:t.email,planId:m.id,planName:m.name,paymentMethod:v,amount:m.price,gatewayRef:Ne}),T(4),ge&&window.open(ge,"_blank")}else alert((le==null?void 0:le.message)||"Gagal membuat transaksi Paydisini")}}finally{b(!1)}}};return i?y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[y.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-md",onClick:l}),y.jsx("div",{className:"relative bg-slate-900 border border-slate-800 w-full max-w-xl rounded-[3rem] overflow-hidden shadow-2xl animate-in zoom-in duration-300",children:y.jsxs("div",{className:"p-8",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h2",{className:"text-2xl font-black text-white",children:"Upgrade Premium"}),y.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-800 rounded-full text-slate-500",children:y.jsx(se.X,{className:"w-6 h-6"})})]}),x===1&&y.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-500",children:[y.jsx("p",{className:"text-slate-400 mb-6 font-medium",children:"Pilih paket langganan kamu:"}),y.jsx("div",{className:"grid grid-cols-1 gap-4 mb-8",children:r.map(O=>y.jsxs("button",{onClick:()=>g(O),className:`p-6 rounded-2xl border-2 text-left transition-all ${(m==null?void 0:m.id)===O.id?"border-rose-500 bg-rose-500/5":"border-slate-800 hover:border-slate-700 bg-slate-800/40"}`,children:[y.jsxs("div",{className:"flex justify-between items-center mb-1",children:[y.jsx("span",{className:"font-black text-white",children:O.name}),y.jsxs("span",{className:"text-rose-500 font-black",children:["Rp ",O.price.toLocaleString()]})]}),y.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:O.duration})]},O.id))}),y.jsx("button",{disabled:!m,onClick:()=>T(2),className:"w-full bg-rose-600 disabled:bg-slate-800 disabled:text-slate-600 text-white py-4 rounded-2xl font-black transition-all",children:"LANJUT KE PEMBAYARAN"})]}),x===2&&y.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-500",children:[y.jsxs("button",{onClick:()=>T(1),className:"text-rose-500 font-bold text-xs flex items-center gap-1 mb-6",children:[y.jsx(se.ChevronRight,{className:"w-4 h-4 rotate-180"})," GANTI PAKET"]}),y.jsx("p",{className:"text-slate-400 mb-6 font-medium",children:"Pilih metode pembayaran:"}),y.jsx("div",{className:"space-y-3 mb-8",children:FA.map(O=>y.jsxs("button",{onClick:()=>h(O.id),className:`w-full p-4 rounded-2xl border-2 flex items-center justify-between transition-all ${v===O.id?"border-rose-500 bg-rose-500/5":"border-slate-800 bg-slate-800/40"}`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"w-10 h-10 bg-slate-900 rounded-xl flex items-center justify-center font-black text-xs text-slate-500",children:O.id.slice(0,2)}),y.jsx("span",{className:"font-bold text-white text-sm",children:O.name})]}),y.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${v===O.id?"border-rose-500 bg-rose-500":"border-slate-700"}`})]},O.id))}),y.jsx("button",{disabled:!v||E,onClick:X,className:"w-full bg-rose-600 disabled:bg-slate-800 disabled:text-slate-600 text-white py-4 rounded-2xl font-black transition-all flex items-center justify-center gap-2",children:E?y.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"KONFIRMASI BAYAR"})]}),x===4&&y.jsxs("div",{className:"animate-in fade-in slide-in-from-right duration-500 space-y-6",children:[y.jsxs("div",{className:"bg-slate-800/40 border border-slate-700 rounded-2xl p-4",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"font-bold text-white",children:"Status Pembayaran"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:(N==null?void 0:N.provider)||"QRIS Static"})]}),(N==null?void 0:N.reference)&&y.jsxs("div",{className:"text-slate-400 text-sm mt-2",children:["Ref: ",N.reference]})]}),v==="QRIS_STATIC"?y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("img",{src:J,alt:"QRIS Static",className:"w-56 h-56 rounded-2xl border border-slate-700 bg-white p-3"}),m&&y.jsxs("div",{className:"font-black text-white",children:["Rp ",m.price.toLocaleString()]}),y.jsx("div",{className:"text-slate-400 text-xs text-center",children:"Scan QR ini di aplikasi pembayaran kamu. Setelah bayar, admin akan verifikasi manual."})]}):N!=null&&N.checkout_url?y.jsx("a",{href:N.checkout_url,target:"_blank",rel:"noreferrer",className:"w-full bg-rose-600 text-white py-3 rounded-xl font-black text-center",children:"Buka Halaman Pembayaran"}):y.jsx("div",{className:"text-slate-400 text-sm",children:"Ikuti instruksi pembayaran yang ditampilkan."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:async()=>{var $,Q,pe,te,he;if(v==="QRIS_STATIC"){alert("Pembayaran QRIS static perlu verifikasi manual oleh admin.");return}if(!(N!=null&&N.reference))return;const O=N.provider==="TRIPAY"?await jn.getTripayStatus(N.reference,{apiKey:($=I.tripay)==null?void 0:$.apiKey,mode:(Q=I.tripay)==null?void 0:Q.mode}):await jn.getPaydisiniStatus(N.reference,{apiKey:(pe=I.paydisini)==null?void 0:pe.apiKey});if(N.provider==="TRIPAY"&&((te=O==null?void 0:O.data)==null?void 0:te.status)==="PAID"||N.provider==="PAYDISINI"&&(((he=O==null?void 0:O.data)==null?void 0:he.status)==="Success"||(O==null?void 0:O.status)==="Success")){const Ne=Z.getRequests().find(ge=>ge.gatewayRef===N.reference);Ne?(Z.updateRequestStatus(Ne.id,"APPROVED"),T(5)):alert("Transaksi ditemukan dibayar, namun request lokal tidak ditemukan.")}else alert("Belum terkonfirmasi dibayar. Coba lagi beberapa saat.")},className:"flex-1 bg-slate-800 text-white py-3 rounded-xl font-bold border border-slate-700",children:"Cek Status Pembayaran"}),y.jsx("button",{onClick:()=>T(2),className:"px-6 py-3 rounded-xl font-bold bg-slate-800 text-white border border-slate-700",children:"Ganti Metode"})]})]}),x===5&&y.jsxs("div",{className:"text-center py-10 animate-in zoom-in duration-500",children:[y.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(se.Zap,{className:"w-10 h-10 text-green-500 fill-current"})}),y.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:"Pembayaran Terkonfirmasi!"}),y.jsx("p",{className:"text-slate-400 mb-8 max-w-xs mx-auto",children:"Akun kamu telah di-upgrade otomatis sesuai paket yang dibayar."}),y.jsx("button",{onClick:()=>{l(),s()},className:"w-full bg-slate-800 text-white py-4 rounded-2xl font-black border border-slate-700",children:"TUTUP"})]}),x===3&&y.jsxs("div",{className:"text-center py-10 animate-in zoom-in duration-500",children:[y.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(se.Zap,{className:"w-10 h-10 text-green-500 fill-current"})}),y.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:"Permintaan Terkirim!"}),y.jsx("p",{className:"text-slate-400 mb-8 max-w-xs mx-auto",children:"Admin akan segera memverifikasi pembayaran kamu. Mohon tunggu maksimal 1x24 jam."}),y.jsx("button",{onClick:()=>{l(),s()},className:"w-full bg-slate-800 text-white py-4 rounded-2xl font-black border border-slate-700",children:"TUTUP"})]})]})})]}):null},KA=()=>{const[i,t]=K.useState(null),[l,s]=K.useState("home"),[r,d]=K.useState(null),[m,g]=K.useState(null),[v,h]=K.useState(!1),[x,T]=K.useState(()=>Z.getSiteSettings()),E=()=>{const z=Z.getCurrentUser();t(z)};K.useEffect(()=>{E();const z=()=>{const q=Z.getSiteSettings();T(q);const $=(q==null?void 0:q.siteName)||"DramaShort";document.title=$;const Q=(q==null?void 0:q.keywords)||[];let pe=document.querySelector('meta[name="keywords"]');pe||(pe=document.createElement("meta"),pe.setAttribute("name","keywords"),document.head.appendChild(pe)),pe.setAttribute("content",Array.isArray(Q)?Q.join(", "):String(Q||""))};z();const O=()=>{E(),z()};return window.addEventListener("storage",O),()=>window.removeEventListener("storage",O)},[]),K.useEffect(()=>{const z=()=>{const q=window.location.hash||"";if(q.startsWith("#/details/")){const $=q.replace("#/details/","");d($||null),s("details");return}if(q==="#/admin"){s("admin");return}if(q==="#/login"){s("login");return}if(q==="#/profile"){s("profile");return}if(q==="#/edit-profile"){s("edit-profile");return}if(q==="#/genres"){s("genres");return}if(q==="#/new"){s("new");return}if(q==="#/realis"){s("realis");return}if(q==="#/popular"){s("popular");return}if(q==="#/subscription"){s("subscription");return}if(q==="#/search"){s("search");return}s("home"),d(null)};z();const O=()=>z();return window.addEventListener("hashchange",O),()=>window.removeEventListener("hashchange",O)},[]);const b=z=>{switch(z){case"home":window.location.hash="#/",d(null);break;case"admin":window.location.hash="#/admin";break;case"login":window.location.hash="#/login";break;case"edit-profile":window.location.hash="#/edit-profile";break;case"genres":window.location.hash="#/genres";break;case"new":window.location.hash="#/new";break;case"realis":window.location.hash="#/realis";break;case"popular":window.location.hash="#/popular";break;case"profile":window.location.hash="#/profile";break;case"subscription":window.location.hash="#/subscription";break;case"search":window.location.hash="#/search";break;case"details":r&&(window.location.hash=`#/details/${r}`);break;default:window.location.hash="#/",d(null)}s(z)},N=z=>{t(z),b("home")},P=()=>{Z.setCurrentUser(null),t(null),b("home")},I=z=>{d(z),window.location.hash=`#/details/${z}`,s("details")},J=(z,O)=>{g({type:z,value:O}),b("search")},X=()=>{switch(l){case"home":return y.jsx(uc,{onSelectDrama:I,onFilter:J});case"details":return y.jsx(Sx,{dramaId:r,user:i,onBack:()=>b("home"),onLogin:()=>b("login"),onUpgrade:()=>h(!0)});case"login":return y.jsx(Tx,{onLoginSuccess:N,onBack:()=>b("home")});case"admin":return(i==null?void 0:i.role)===tl.ADMIN?y.jsx(PA,{}):y.jsx(uc,{onSelectDrama:I,onFilter:J});case"profile":return y.jsx(GA,{user:i,onLogout:P,onBack:()=>b("home")});case"edit-profile":return y.jsx(JA,{onBack:()=>b("profile")});case"genres":return y.jsx(VA,{});case"new":return y.jsx(zA,{});case"realis":return y.jsx(BA,{});case"popular":return y.jsx(OA,{});case"subscription":return y.jsx(HA,{user:i,onUpgrade:()=>h(!0),onBack:()=>b("home")});case"search":return y.jsx(qA,{filter:m,onSelectDrama:I,onBack:()=>b("home")});default:return y.jsx(uc,{onSelectDrama:I,onFilter:J})}};return y.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100",children:[l!=="login"&&y.jsx(xx,{user:i,currentPage:l,onLogout:P,onNavigate:z=>b(z),onSearch:z=>J("search",z),siteName:x==null?void 0:x.siteName,logoUrl:x==null?void 0:x.logoUrl}),y.jsx("main",{children:X()}),y.jsx(YA,{isOpen:v,user:i,onClose:()=>h(!1),onSuccess:()=>h(!1)}),l!=="login"&&y.jsx("footer",{className:"mt-20 border-t border-slate-800 py-12 px-4 md:px-8 bg-slate-900/50",children:y.jsxs("div",{className:"max-w-7xl auto flex flex-col md:flex-row justify-between items-center gap-8 text-center md:text-left",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[x!=null&&x.logoUrl?y.jsx("img",{src:x.logoUrl,alt:(x==null?void 0:x.siteName)||"Logo",className:"w-8 h-8 rounded-lg border border-slate-700 object-cover"}):y.jsx("div",{className:"bg-rose-600 p-1.5 rounded-lg",children:y.jsx(se.Play,{className:"w-5 h-5 text-white fill-current"})}),y.jsx("span",{className:"text-xl font-bold",children:(x==null?void 0:x.siteName)||"DramaShort"})]}),y.jsx("p",{className:"text-slate-500 text-sm",dangerouslySetInnerHTML:{__html:(x==null?void 0:x.footerText)||"Platform streaming short drama #1 di Indonesia.<br/>Kisah hebat dalam durasi singkat."}})]}),y.jsxs("div",{className:"text-slate-500 text-sm",children:[" ",new Date().getFullYear()," ",(x==null?void 0:x.siteName)||"DramaShort","."]})]})}),(x==null?void 0:x.whatsappAdmin)&&y.jsx("a",{href:`https://wa.me/${String(x.whatsappAdmin).replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noreferrer",className:"fixed bottom-6 right-6 bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-3 rounded-full font-bold shadow-xl border border-emerald-500",children:"Chat WhatsApp"}),(x==null?void 0:x.livechatEmbedHtml)&&y.jsx("div",{dangerouslySetInnerHTML:{__html:x.livechatEmbedHtml}})]})},d0=document.getElementById("root");if(!d0)throw new Error("Could not find root element to mount to");const XA=Nv.createRoot(d0);XA.render(y.jsx(xv.StrictMode,{children:y.jsx(KA,{})}));
